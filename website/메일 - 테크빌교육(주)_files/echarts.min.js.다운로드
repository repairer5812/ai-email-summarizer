!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.echarts={})}(this,function(e){function t(e){var t={},n={},r=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),s=e.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(e);return r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),s&&(n.edge=!0,n.version=s[1]),o&&(n.weChat=!0),{browser:n,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11),domSupported:"undefined"!=typeof document}}function n(e,t){"createCanvas"===e&&(Qm=null),Jm[e]=t}function r(e){if(null==e||"object"!=typeof e)return e;var t=e,n=Rm.call(e);if("[object Array]"===n){if(!B(e)){t=[];for(var i=0,s=e.length;s>i;i++)t[i]=r(e[i])}}else if(qm[n]){if(!B(e)){var o=e.constructor;if(e.constructor.from)t=o.from(e);else{t=new o(e.length);for(var i=0,s=e.length;s>i;i++)t[i]=r(e[i])}}}else if(!Im[n]&&!B(e)&&!C(e)){t={};for(var u in e)e.hasOwnProperty(u)&&(t[u]=r(e[u]))}return t}function i(e,t,n){if(!x(t)||!x(e))return n?r(t):e;for(var s in t)if(t.hasOwnProperty(s)){var o=e[s],u=t[s];!x(u)||!x(o)||w(u)||w(o)||C(u)||C(o)||T(u)||T(o)||B(u)||B(o)?!n&&s in e||(e[s]=r(t[s],!0)):i(o,u,n)}return e}function s(e,t){for(var n=e[0],r=1,s=e.length;s>r;r++)n=i(n,e[r],t);return n}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function u(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(n?null!=t[r]:null==e[r])&&(e[r]=t[r]);return e}function a(){return Qm||(Qm=Km().getContext("2d")),Qm}function f(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n}return-1}function l(e,t){function n(){}var r=e.prototype;n.prototype=t.prototype,e.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function c(e,t,n){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,u(e,t,n)}function h(e){return e?"string"==typeof e?!1:"number"==typeof e.length:void 0}function p(e,t,n){if(e&&t)if(e.forEach&&e.forEach===zm)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;i>r;r++)t.call(n,e[r],r,e);else for(var s in e)e.hasOwnProperty(s)&&t.call(n,e[s],s,e)}function d(e,t,n){if(e&&t){if(e.map&&e.map===Vm)return e.map(t,n);for(var r=[],i=0,s=e.length;s>i;i++)r.push(t.call(n,e[i],i,e));return r}}function v(e,t,n,r){if(e&&t){if(e.reduce&&e.reduce===$m)return e.reduce(t,n,r);for(var i=0,s=e.length;s>i;i++)n=t.call(r,n,e[i],i,e);return n}}function m(e,t,n){if(e&&t){if(e.filter&&e.filter===Wm)return e.filter(t,n);for(var r=[],i=0,s=e.length;s>i;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r}}function g(e,t,n){if(e&&t)for(var r=0,i=e.length;i>r;r++)if(t.call(n,e[r],r,e))return e[r]}function y(e,t){var n=Xm.call(arguments,2);return function(){return e.apply(t,n.concat(Xm.call(arguments)))}}function b(e){var t=Xm.call(arguments,1);return function(){return e.apply(this,t.concat(Xm.call(arguments)))}}function w(e){return"[object Array]"===Rm.call(e)}function E(e){return"function"==typeof e}function S(e){return"[object String]"===Rm.call(e)}function x(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function T(e){return!!Im[Rm.call(e)]}function N(e){return!!qm[Rm.call(e)]}function C(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function k(e){return e!==e}function L(){for(var e=0,t=arguments.length;t>e;e++)if(null!=arguments[e])return arguments[e]}function A(e,t){return null!=e?e:t}function O(e,t,n){return null!=e?e:null!=t?t:n}function M(){return Function.call.apply(Xm,arguments)}function _(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function D(e,t){if(!e)throw new Error(t)}function P(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function H(e){e[Gm]=!0}function B(e){return e[Gm]}function j(e){function t(e,t){n?r.set(e,t):r.set(t,e)}var n=w(e);this.data={};var r=this;e instanceof j?e.each(t):e&&p(e,t)}function F(e){return new j(e)}function I(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];var i=e.length;for(r=0;r<t.length;r++)n[r+i]=t[r];return n}function q(){}function R(e,t){var n=new Zm(2);return null==e&&(e=0),null==t&&(t=0),n[0]=e,n[1]=t,n}function U(e,t){return e[0]=t[0],e[1]=t[1],e}function z(e){var t=new Zm(2);return t[0]=e[0],t[1]=e[1],t}function W(e,t,n){return e[0]=t,e[1]=n,e}function X(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function V(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function $(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function J(e){return Math.sqrt(K(e))}function K(e){return e[0]*e[0]+e[1]*e[1]}function Q(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function G(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function Y(e,t){return e[0]*t[0]+e[1]*t[1]}function Z(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function et(e,t){var n=J(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function tt(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function nt(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}function rt(e,t){return e[0]=-t[0],e[1]=-t[1],e}function it(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}function st(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function ot(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function ut(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function at(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function ft(e,t){return{target:e,topTarget:t&&t.topTarget}}function lt(e,t){var n=e._$eventProcessor;return null!=t&&n&&n.normalizeQuery&&(t=n.normalizeQuery(t)),t}function ct(e,t,n,r,i,s){var o=e._$handlers;if("function"==typeof n&&(i=r,r=n,n=null),!r||!t)return e;n=lt(e,n),o[t]||(o[t]=[]);for(var u=0;u<o[t].length;u++)if(o[t][u].h===r)return e;var a={h:r,one:s,query:n,ctx:i||e,callAtLast:r.zrEventfulCallAtLast},f=o[t].length-1,l=o[t][f];return l&&l.callAtLast?o[t].splice(f,0,a):o[t].push(a),e}function ht(e,t,n,r,i,s){var o=r+"-"+i,u=e.length;if(s.hasOwnProperty(o))return s[o];if(1===t){var a=Math.round(Math.log((1<<u)-1&~i)/ug);return e[n][a]}for(var f=r|1<<n,l=n+1;r&1<<l;)l++;for(var c=0,h=0,p=0;u>h;h++){var d=1<<h;d&i||(c+=(p%2?-1:1)*e[n][h]*ht(e,t-1,l,f,i|d,s),p++)}return s[o]=c,c}function pt(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},i=ht(n,8,0,0,0,r);if(0!==i){for(var s=[],o=0;8>o;o++)for(var u=0;8>u;u++)null==s[u]&&(s[u]=0),s[u]+=((o+u)%2?-1:1)*ht(n,7,0===o?1:0,1<<o,1<<u,r)/i*t[o];return function(e,t,n){var r=t*s[6]+n*s[7]+1;e[0]=(t*s[0]+n*s[1]+s[2])/r,e[1]=(t*s[3]+n*s[4]+s[5])/r}}}function dt(e,t,n,r,i){return vt(fg,t,r,i,!0)&&vt(e,n,fg[0],fg[1])}function vt(e,t,n,r,i){if(t.getBoundingClientRect&&Fm.domSupported&&!yt(t)){var s=t[ag]||(t[ag]={}),o=mt(t,s),u=gt(o,s,i);if(u)return u(e,n,r),!0}return!1}function mt(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var r=["left","right"],i=["top","bottom"],s=0;4>s;s++){var o=document.createElement("div"),u=o.style,a=s%2,f=(s>>1)%2;u.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[a]+":0",i[f]+":0",r[1-a]+":auto",i[1-f]+":auto",""].join("!important;"),e.appendChild(o),n.push(o)}return n}function gt(e,t,n){for(var r=n?"invTrans":"trans",i=t[r],s=t.srcCoords,o=!0,u=[],a=[],f=0;4>f;f++){var l=e[f].getBoundingClientRect(),c=2*f,h=l.left,p=l.top;u.push(h,p),o=o&&s&&h===s[c]&&p===s[c+1],a.push(e[f].offsetLeft,e[f].offsetTop)}return o&&i?i:(t.srcCoords=u,t[r]=n?pt(a,u):pt(u,a))}function yt(e){return"CANVAS"===e.nodeName.toUpperCase()}function bt(e,t,n,r){return n=n||{},r||!Fm.canvasSupported?wt(e,t,n):Fm.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):wt(e,t,n),n}function wt(e,t,n){if(Fm.domSupported&&e.getBoundingClientRect){var r=t.clientX,i=t.clientY;if(yt(e)){var s=e.getBoundingClientRect();return n.zrX=r-s.left,void (n.zrY=i-s.top)}if(vt(hg,e,r,i))return n.zrX=hg[0],void (n.zrY=hg[1])}n.zrX=n.zrY=0}function Et(e){return e||window.event}function St(e,t,n){if(t=Et(t),null!=t.zrX)return t;var r=t.type,i=r&&r.indexOf("touch")>=0;if(i){var s="touchend"!==r?t.targetTouches[0]:t.changedTouches[0];s&&bt(e,s,t,n)}else bt(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var o=t.button;return null==t.which&&void 0!==o&&cg.test(t.type)&&(t.which=1&o?1:2&o?3:4&o?2:0),t}function xt(e,t,n,r){lg?e.addEventListener(t,n,r):e.attachEvent("on"+t,n)}function Tt(e,t,n,r){lg?e.removeEventListener(t,n,r):e.detachEvent("on"+t,n)}function Nt(e){return 2===e.which||3===e.which}function Ct(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function kt(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}function Lt(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:At}}function At(){pg(this.event)}function Ot(){}function Mt(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var r,i=e;i;){if(i.clipPath&&!i.clipPath.contain(t,n))return!1;i.silent&&(r=!0),i=i.parent}return r?mg:!0}return!1}function _t(e,t,n){var r=e.painter;return 0>t||t>r.getWidth()||0>n||n>r.getHeight()}function Dt(){var e=new bg(6);return Pt(e),e}function Pt(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Ht(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Bt(e,t,n){var r=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],s=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],u=t[0]*n[4]+t[2]*n[5]+t[4],a=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=i,e[2]=s,e[3]=o,e[4]=u,e[5]=a,e}function jt(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function Ft(e,t,n){var r=t[0],i=t[2],s=t[4],o=t[1],u=t[3],a=t[5],f=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*f,e[1]=-r*f+o*l,e[2]=i*l+u*f,e[3]=-i*f+l*u,e[4]=l*s+f*a,e[5]=l*a-f*s,e}function It(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e}function qt(e,t){var n=t[0],r=t[2],i=t[4],s=t[1],o=t[3],u=t[5],a=n*o-s*r;return a?(a=1/a,e[0]=o*a,e[1]=-s*a,e[2]=-r*a,e[3]=n*a,e[4]=(r*u-o*i)*a,e[5]=(s*i-n*u)*a,e):null}function Rt(e){var t=Dt();return Ht(t,e),t}function Ut(e){return e>Sg||-Sg>e}function zt(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null==e.loop?!1:e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}function Wt(e){return e=Math.round(e),0>e?0:e>255?255:e}function Xt(e){return e=Math.round(e),0>e?0:e>360?360:e}function Vt(e){return 0>e?0:e>1?1:e}function $t(e){return Wt(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100*255:parseInt(e,10))}function Jt(e){return Vt(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100:parseFloat(e))}function Kt(e,t,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}function Qt(e,t,n){return e+(t-e)*n}function Gt(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function Yt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Zt(e,t){Bg&&Yt(Bg,t),Bg=Hg.put(e,Bg||t.slice())}function en(e,t){if(e){t=t||[];var n=Hg.get(e);if(n)return Yt(t,n);e+="";var r=e.replace(/ /g,"").toLowerCase();if(r in Pg)return Yt(t,Pg[r]),Zt(e,t),t;if("#"!==r.charAt(0)){var i=r.indexOf("("),s=r.indexOf(")");if(-1!==i&&s+1===r.length){var o=r.substr(0,i),u=r.substr(i+1,s-(i+1)).split(","),a=1;switch(o){case"rgba":if(4!==u.length)return void Gt(t,0,0,0,1);a=Jt(u.pop());case"rgb":return 3!==u.length?void Gt(t,0,0,0,1):(Gt(t,$t(u[0]),$t(u[1]),$t(u[2]),a),Zt(e,t),t);case"hsla":return 4!==u.length?void Gt(t,0,0,0,1):(u[3]=Jt(u[3]),tn(u,t),Zt(e,t),t);case"hsl":return 3!==u.length?void Gt(t,0,0,0,1):(tn(u,t),Zt(e,t),t);default:return}}Gt(t,0,0,0,1)}else{if(4===r.length){var f=parseInt(r.substr(1),16);return f>=0&&4095>=f?(Gt(t,(3840&f)>>4|(3840&f)>>8,240&f|(240&f)>>4,15&f|(15&f)<<4,1),Zt(e,t),t):void Gt(t,0,0,0,1)}if(7===r.length){var f=parseInt(r.substr(1),16);return f>=0&&16777215>=f?(Gt(t,(16711680&f)>>16,(65280&f)>>8,255&f,1),Zt(e,t),t):void Gt(t,0,0,0,1)}}}}function tn(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=Jt(e[1]),i=Jt(e[2]),s=.5>=i?i*(r+1):i+r-i*r,o=2*i-s;return t=t||[],Gt(t,Wt(255*Kt(o,s,n+1/3)),Wt(255*Kt(o,s,n)),Wt(255*Kt(o,s,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function nn(e){if(e){var t,n,r=e[0]/255,i=e[1]/255,s=e[2]/255,o=Math.min(r,i,s),u=Math.max(r,i,s),a=u-o,f=(u+o)/2;if(0===a)t=0,n=0;else{n=.5>f?a/(u+o):a/(2-u-o);var l=((u-r)/6+a/2)/a,c=((u-i)/6+a/2)/a,h=((u-s)/6+a/2)/a;r===u?t=h-c:i===u?t=1/3+l-h:s===u&&(t=2/3+c-l),0>t&&(t+=1),t>1&&(t-=1)}var p=[360*t,n,f];return null!=e[3]&&p.push(e[3]),p}}function rn(e,t){var n=en(e);if(n){for(var r=0;3>r;r++)n[r]=0>t?n[r]*(1-t)|0:(255-n[r])*t+n[r]|0,n[r]>255?n[r]=255:e[r]<0&&(n[r]=0);return ln(n,4===n.length?"rgba":"rgb")}}function sn(e){var t=en(e);return t?((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1):void 0}function on(e,t,n){if(t&&t.length&&e>=0&&1>=e){n=n||[];var r=e*(t.length-1),i=Math.floor(r),s=Math.ceil(r),o=t[i],u=t[s],a=r-i;return n[0]=Wt(Qt(o[0],u[0],a)),n[1]=Wt(Qt(o[1],u[1],a)),n[2]=Wt(Qt(o[2],u[2],a)),n[3]=Vt(Qt(o[3],u[3],a)),n}}function un(e,t,n){if(t&&t.length&&e>=0&&1>=e){var r=e*(t.length-1),i=Math.floor(r),s=Math.ceil(r),o=en(t[i]),u=en(t[s]),a=r-i,f=ln([Wt(Qt(o[0],u[0],a)),Wt(Qt(o[1],u[1],a)),Wt(Qt(o[2],u[2],a)),Vt(Qt(o[3],u[3],a))],"rgba");return n?{color:f,leftIndex:i,rightIndex:s,value:r}:f}}function an(e,t,n,r){return e=en(e),e?(e=nn(e),null!=t&&(e[0]=Xt(t)),null!=n&&(e[1]=Jt(n)),null!=r&&(e[2]=Jt(r)),ln(tn(e),"rgba")):void 0}function fn(e,t){return e=en(e),e&&null!=t?(e[3]=Vt(t),ln(e,"rgba")):void 0}function ln(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return("rgba"===t||"hsva"===t||"hsla"===t)&&(n+=","+e[3]),t+"("+n+")"}}function cn(e,t){return e[t]}function hn(e,t,n){e[t]=n}function pn(e,t,n){return(t-e)*n+e}function dn(e,t,n){return n>.5?t:e}function vn(e,t,n,r,i){var s=e.length;if(1===i)for(var o=0;s>o;o++)r[o]=pn(e[o],t[o],n);else for(var u=s&&e[0].length,o=0;s>o;o++)for(var a=0;u>a;a++)r[o][a]=pn(e[o][a],t[o][a],n)}function mn(e,t,n){var r=e.length,i=t.length;if(r!==i){var s=r>i;if(s)e.length=i;else for(var o=r;i>o;o++)e.push(1===n?t[o]:qg.call(t[o]))}for(var u=e[0]&&e[0].length,o=0;o<e.length;o++)if(1===n)isNaN(e[o])&&(e[o]=t[o]);else for(var a=0;u>a;a++)isNaN(e[o][a])&&(e[o][a]=t[o][a])}function gn(e,t,n){if(e===t)return!0;var r=e.length;if(r!==t.length)return!1;if(1===n){for(var i=0;r>i;i++)if(e[i]!==t[i])return!1}else for(var s=e[0].length,i=0;r>i;i++)for(var o=0;s>o;o++)if(e[i][o]!==t[i][o])return!1;return!0}function yn(e,t,n,r,i,s,o,u,a){var f=e.length;if(1===a)for(var l=0;f>l;l++)u[l]=bn(e[l],t[l],n[l],r[l],i,s,o);else for(var c=e[0].length,l=0;f>l;l++)for(var h=0;c>h;h++)u[l][h]=bn(e[l][h],t[l][h],n[l][h],r[l][h],i,s,o)}function bn(e,t,n,r,i,s,o){var u=.5*(n-e),a=.5*(r-t);return(2*(t-n)+u+a)*o+(-3*(t-n)-2*u-a)*s+u*i+t}function wn(e){if(h(e)){var t=e.length;if(h(e[0])){for(var n=[],r=0;t>r;r++)n.push(qg.call(e[r]));return n}return qg.call(e)}return e}function En(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function Sn(e){var t=e[e.length-1].value;return h(t&&t[0])?2:1}function xn(e,t,n,r,i,s){var o=e._getter,u=e._setter,a="spline"===t,f=r.length;if(f){var l,c=r[0].value,p=h(c),d=!1,v=!1,m=p?Sn(r):0;r.sort(function(e,t){return e.time-t.time}),l=r[f-1].time;for(var g=[],y=[],b=r[0].value,w=!0,E=0;f>E;E++){g.push(r[E].time/l);var S=r[E].value;if(p&&gn(S,b,m)||!p&&S===b||(w=!1),b=S,"string"==typeof S){var x=en(S);x?(S=x,d=!0):v=!0}y.push(S)}if(s||!w){for(var T=y[f-1],E=0;f-1>E;E++)p?mn(y[E],T,m):!isNaN(y[E])||isNaN(T)||v||d||(y[E]=T);p&&mn(o(e._target,i),T,m);var N,C,k,L,A,O,M=0,_=0;if(d)var D=[0,0,0,0];var P=function(e,t){var n;if(0>t)n=0;else if(_>t){for(N=Math.min(M+1,f-1),n=N;n>=0&&!(g[n]<=t);n--);n=Math.min(n,f-2)}else{for(n=M;f>n&&!(g[n]>t);n++);n=Math.min(n-1,f-2)}M=n,_=t;var r=g[n+1]-g[n];if(0!==r)if(C=(t-g[n])/r,a)if(L=y[n],k=y[0===n?n:n-1],A=y[n>f-2?f-1:n+1],O=y[n>f-3?f-1:n+2],p)yn(k,L,A,O,C,C*C,C*C*C,o(e,i),m);else{var s;if(d)s=yn(k,L,A,O,C,C*C,C*C*C,D,1),s=En(D);else{if(v)return dn(L,A,C);s=bn(k,L,A,O,C,C*C,C*C*C)}u(e,i,s)}else if(p)vn(y[n],y[n+1],C,o(e,i),m);else{var s;if(d)vn(y[n],y[n+1],C,D,1),s=En(D);else{if(v)return dn(y[n],y[n+1],C);s=pn(y[n],y[n+1],C)}u(e,i,s)}},H=new zt({target:e._target,life:l,loop:e._loop,delay:e._delay,onframe:P,ondestroy:n});return t&&"spline"!==t&&(H.easing=t),H}}}function Tn(e,t,n,r,i,s,o,u){function a(){l--,l||s&&s()}S(r)?(s=i,i=r,r=0):E(i)?(s=i,i="linear",r=0):E(r)?(s=r,r=0):E(n)?(s=n,n=500):n||(n=500),e.stopAnimation(),Nn(e,"",e,t,n,r,u);var f=e.animators.slice(),l=f.length;l||s&&s();for(var c=0;c<f.length;c++)f[c].done(a).start(i,o)}function Nn(e,t,n,r,i,s,o){var u={},a=0;for(var f in r)r.hasOwnProperty(f)&&(null!=n[f]?x(r[f])&&!h(r[f])?Nn(e,t?t+"."+f:f,n[f],r[f],i,s,o):(o?(u[f]=n[f],Cn(e,t,f,r[f])):u[f]=r[f],a++):null==r[f]||o||Cn(e,t,f,r[f]));a>0&&e.animate(t,!1).when(null==i?500:i,u).delay(s||0)}function Cn(e,t,n,r){if(t){var i={};i[t]={},i[t][n]=r,e.attr(i)}else e.attr(n,r)}function kn(e,t,n,r){0>n&&(e+=n,n=-n),0>r&&(t+=r,r=-r),this.x=e,this.y=t,this.width=n,this.height=r}function Ln(e){for(var t=0;e>=Zg;)t|=1&e,e>>=1;return e+t}function An(e,t,n,r){var i=t+1;if(i===n)return 1;if(r(e[i++],e[t])<0){for(;n>i&&r(e[i],e[i-1])<0;)i++;On(e,t,i)}else for(;n>i&&r(e[i],e[i-1])>=0;)i++;return i-t}function On(e,t,n){for(n--;n>t;){var r=e[t];e[t++]=e[n],e[n--]=r}}function Mn(e,t,n,r,i){for(r===t&&r++;n>r;r++){for(var s,o=e[r],u=t,a=r;a>u;)s=u+a>>>1,i(o,e[s])<0?a=s:u=s+1;var f=r-u;switch(f){case 3:e[u+3]=e[u+2];case 2:e[u+2]=e[u+1];case 1:e[u+1]=e[u];break;default:for(;f>0;)e[u+f]=e[u+f-1],f--}e[u]=o}}function _n(e,t,n,r,i,s){var o=0,u=0,a=1;if(s(e,t[n+i])>0){for(u=r-i;u>a&&s(e,t[n+i+a])>0;)o=a,a=(a<<1)+1,0>=a&&(a=u);a>u&&(a=u),o+=i,a+=i}else{for(u=i+1;u>a&&s(e,t[n+i-a])<=0;)o=a,a=(a<<1)+1,0>=a&&(a=u);a>u&&(a=u);var f=o;o=i-a,a=i-f}for(o++;a>o;){var l=o+(a-o>>>1);s(e,t[n+l])>0?o=l+1:a=l}return a}function Dn(e,t,n,r,i,s){var o=0,u=0,a=1;if(s(e,t[n+i])<0){for(u=i+1;u>a&&s(e,t[n+i-a])<0;)o=a,a=(a<<1)+1,0>=a&&(a=u);a>u&&(a=u);var f=o;o=i-a,a=i-f}else{for(u=r-i;u>a&&s(e,t[n+i+a])>=0;)o=a,a=(a<<1)+1,0>=a&&(a=u);a>u&&(a=u),o+=i,a+=i}for(o++;a>o;){var l=o+(a-o>>>1);s(e,t[n+l])<0?a=l:o=l+1}return a}function Pn(e,t){function n(e,t){a[c]=e,f[c]=t,c+=1}function r(){for(;c>1;){var e=c-2;if(e>=1&&f[e-1]<=f[e]+f[e+1]||e>=2&&f[e-2]<=f[e]+f[e-1])f[e-1]<f[e+1]&&e--;else if(f[e]>f[e+1])break;s(e)}}function i(){for(;c>1;){var e=c-2;e>0&&f[e-1]<f[e+1]&&e--,s(e)}}function s(n){var r=a[n],i=f[n],s=a[n+1],l=f[n+1];f[n]=i+l,n===c-3&&(a[n+1]=a[n+2],f[n+1]=f[n+2]),c--;var h=Dn(e[s],e,r,i,0,t);r+=h,i-=h,0!==i&&(l=_n(e[r+i-1],e,s,l,l-1,t),0!==l&&(l>=i?o(r,i,s,l):u(r,i,s,l)))}function o(n,r,i,s){var o=0;for(o=0;r>o;o++)h[o]=e[n+o];var u=0,a=i,f=n;if(e[f++]=e[a++],0!==--s){if(1===r){for(o=0;s>o;o++)e[f+o]=e[a+o];return void (e[f+s]=h[u])}for(var c,p,d,v=l;;){c=0,p=0,d=!1;do if(t(e[a],h[u])<0){if(e[f++]=e[a++],p++,c=0,0===--s){d=!0;break}}else if(e[f++]=h[u++],c++,p=0,1===--r){d=!0;break}while(v>(c|p));if(d)break;do{if(c=Dn(e[a],h,u,r,0,t),0!==c){for(o=0;c>o;o++)e[f+o]=h[u+o];if(f+=c,u+=c,r-=c,1>=r){d=!0;break}}if(e[f++]=e[a++],0===--s){d=!0;break}if(p=_n(h[u],e,a,s,0,t),0!==p){for(o=0;p>o;o++)e[f+o]=e[a+o];if(f+=p,a+=p,s-=p,0===s){d=!0;break}}if(e[f++]=h[u++],1===--r){d=!0;break}v--}while(c>=ey||p>=ey);if(d)break;0>v&&(v=0),v+=2}if(l=v,1>l&&(l=1),1===r){for(o=0;s>o;o++)e[f+o]=e[a+o];e[f+s]=h[u]}else{if(0===r)throw new Error;for(o=0;r>o;o++)e[f+o]=h[u+o]}}else for(o=0;r>o;o++)e[f+o]=h[u+o]}function u(n,r,i,s){var o=0;for(o=0;s>o;o++)h[o]=e[i+o];var u=n+r-1,a=s-1,f=i+s-1,c=0,p=0;if(e[f--]=e[u--],0!==--r){if(1===s){for(f-=r,u-=r,p=f+1,c=u+1,o=r-1;o>=0;o--)e[p+o]=e[c+o];return void (e[f]=h[a])}for(var d=l;;){var v=0,m=0,g=!1;do if(t(h[a],e[u])<0){if(e[f--]=e[u--],v++,m=0,0===--r){g=!0;break}}else if(e[f--]=h[a--],m++,v=0,1===--s){g=!0;break}while(d>(v|m));if(g)break;do{if(v=r-Dn(h[a],e,n,r,r-1,t),0!==v){for(f-=v,u-=v,r-=v,p=f+1,c=u+1,o=v-1;o>=0;o--)e[p+o]=e[c+o];if(0===r){g=!0;break}}if(e[f--]=h[a--],1===--s){g=!0;break}if(m=s-_n(e[u],h,0,s,s-1,t),0!==m){for(f-=m,a-=m,s-=m,p=f+1,c=a+1,o=0;m>o;o++)e[p+o]=h[c+o];if(1>=s){g=!0;break}}if(e[f--]=e[u--],0===--r){g=!0;break}d--}while(v>=ey||m>=ey);if(g)break;0>d&&(d=0),d+=2}if(l=d,1>l&&(l=1),1===s){for(f-=r,u-=r,p=f+1,c=u+1,o=r-1;o>=0;o--)e[p+o]=e[c+o];e[f]=h[a]}else{if(0===s)throw new Error;for(c=f-(s-1),o=0;s>o;o++)e[c+o]=h[o]}}else for(c=f-(s-1),o=0;s>o;o++)e[c+o]=h[o]}var a,f,l=ey,c=0,h=[];a=[],f=[],this.mergeRuns=r,this.forceMergeRuns=i,this.pushRun=n}function Hn(e,t,n,r){n||(n=0),r||(r=e.length);var i=r-n;if(!(2>i)){var s=0;if(Zg>i)return s=An(e,n,r,t),void Mn(e,n,r,n+s,t);var o=new Pn(e,t),u=Ln(i);do{if(s=An(e,n,r,t),u>s){var a=i;a>u&&(a=u),Mn(e,n,n+a,n+s,t),s=a}o.pushRun(n,s),o.mergeRuns(),i-=s,n+=s}while(0!==i);o.forceMergeRuns()}}function Bn(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}function jn(e,t,n){var r=null==t.x?0:t.x,i=null==t.x2?1:t.x2,s=null==t.y?0:t.y,o=null==t.y2?0:t.y2;t.global||(r=r*n.width+n.x,i=i*n.width+n.x,s=s*n.height+n.y,o=o*n.height+n.y),r=isNaN(r)?0:r,i=isNaN(i)?1:i,s=isNaN(s)?0:s,o=isNaN(o)?0:o;var u=e.createLinearGradient(r,s,i,o);return u}function Fn(e,t,n){var r=n.width,i=n.height,s=Math.min(r,i),o=null==t.x?.5:t.x,u=null==t.y?.5:t.y,a=null==t.r?.5:t.r;t.global||(o=o*r+n.x,u=u*i+n.y,a*=s);var f=e.createRadialGradient(o,u,0,o,u,a);return f}function In(){return!1}function qn(e,t,n){var r=Km(),i=t.getWidth(),s=t.getHeight(),o=r.style;return o&&(o.position="absolute",o.left=0,o.top=0,o.width=i+"px",o.height=s+"px",r.setAttribute("data-zr-dom-id",e)),r.width=i*n,r.height=s*n,r}function Rn(e){if("string"==typeof e){var t=dy.get(e);return t&&t.image}return e}function Un(e,t,n,r,i){if(e){if("string"==typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var s=dy.get(e),o={hostEl:n,cb:r,cbPayload:i};return s?(t=s.image,!Wn(t)&&s.pending.push(o)):(t=new Image,t.onload=t.onerror=zn,dy.put(e,t.__cachedImgObj={image:t,pending:[o]}),t.src=t.__zrImageSrc=e),t}return e}return t}function zn(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function Wn(e){return e&&e.width&&e.height}function Xn(e,t){t=t||by;var n=e+":"+t;if(vy[n])return vy[n];for(var r=(e+"").split("\n"),i=0,s=0,o=r.length;o>s;s++)i=Math.max(rr(r[s],t).width,i);return my>gy&&(my=0,vy={}),my++,vy[n]=i,i}function Vn(e,t,n,r,i,s,o,u){return o?Jn(e,t,n,r,i,s,o,u):$n(e,t,n,r,i,s,u)}function $n(e,t,n,r,i,s,o){var u=ir(e,t,i,s,o),a=Xn(e,t);i&&(a+=i[1]+i[3]);var f=u.outerHeight,l=Kn(0,a,n),c=Qn(0,f,r),h=new kn(l,c,a,f);return h.lineHeight=u.lineHeight,h}function Jn(e,t,n,r,i,s,o,u){var a=sr(e,{rich:o,truncate:u,font:t,textAlign:n,textPadding:i,textLineHeight:s}),f=a.outerWidth,l=a.outerHeight,c=Kn(0,f,n),h=Qn(0,l,r);return new kn(c,h,f,l)}function Kn(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function Qn(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function Gn(e,t,n){var r=t.textPosition,i=t.textDistance,s=n.x,o=n.y;i=i||0;var u=n.height,a=n.width,f=u/2,l="left",c="top";switch(r){case"left":s-=i,o+=f,l="right",c="middle";break;case"right":s+=i+a,o+=f,c="middle";break;case"top":s+=a/2,o-=i,l="center",c="bottom";break;case"bottom":s+=a/2,o+=u+i,l="center";break;case"inside":s+=a/2,o+=f,l="center",c="middle";break;case"insideLeft":s+=i,o+=f,c="middle";break;case"insideRight":s+=a-i,o+=f,l="right",c="middle";break;case"insideTop":s+=a/2,o+=i,l="center";break;case"insideBottom":s+=a/2,o+=u-i,l="center",c="bottom";break;case"insideTopLeft":s+=i,o+=i;break;case"insideTopRight":s+=a-i,o+=i,l="right";break;case"insideBottomLeft":s+=i,o+=u-i,c="bottom";break;case"insideBottomRight":s+=a-i,o+=u-i,l="right",c="bottom"}return e=e||{},e.x=s,e.y=o,e.textAlign=l,e.textVerticalAlign=c,e}function Yn(e,t,n,r,i){if(!t)return"";var s=(e+"").split("\n");i=Zn(t,n,r,i);for(var o=0,u=s.length;u>o;o++)s[o]=er(s[o],i);return s.join("\n")}function Zn(e,t,n,r){r=o({},r),r.font=t;var n=A(n,"...");r.maxIterations=A(r.maxIterations,2);var i=r.minChar=A(r.minChar,0);r.cnCharWidth=Xn("\u56fd",t);var s=r.ascCharWidth=Xn("a",t);r.placeholder=A(r.placeholder,"");for(var u=e=Math.max(0,e-1),a=0;i>a&&u>=s;a++)u-=s;var f=Xn(n,t);return f>u&&(n="",f=0),u=e-f,r.ellipsis=n,r.ellipsisWidth=f,r.contentWidth=u,r.containerWidth=e,r}function er(e,t){var n=t.containerWidth,r=t.font,i=t.contentWidth;if(!n)return"";var s=Xn(e,r);if(n>=s)return e;for(var o=0;;o++){if(i>=s||o>=t.maxIterations){e+=t.ellipsis;break}var u=0===o?tr(e,i,t.ascCharWidth,t.cnCharWidth):s>0?Math.floor(e.length*i/s):0;e=e.substr(0,u),s=Xn(e,r)}return""===e&&(e=t.placeholder),e}function tr(e,t,n,r){for(var i=0,s=0,o=e.length;o>s&&t>i;s++){var u=e.charCodeAt(s);i+=u>=0&&127>=u?n:r}return s}function nr(e){return Xn("\u56fd",e)}function rr(e,t){return wy.measureText(e,t)}function ir(e,t,n,r,i){null!=e&&(e+="");var s=A(r,nr(t)),o=e?e.split("\n"):[],u=o.length*s,a=u,f=!0;if(n&&(a+=n[0]+n[2]),e&&i){f=!1;var l=i.outerHeight,c=i.outerWidth;if(null!=l&&a>l)e="",o=[];else if(null!=c)for(var h=Zn(c-(n?n[1]+n[3]:0),t,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),p=0,d=o.length;d>p;p++)o[p]=er(o[p],h)}return{lines:o,height:u,outerHeight:a,lineHeight:s,canCacheByTextString:f}}function sr(e,t){var n={lines:[],width:0,height:0};if(null!=e&&(e+=""),!e)return n;for(var r,i=yy.lastIndex=0;null!=(r=yy.exec(e));){var s=r.index;s>i&&or(n,e.substring(i,s)),or(n,r[2],r[1]),i=yy.lastIndex}i<e.length&&or(n,e.substring(i,e.length));var o=n.lines,u=0,a=0,f=[],l=t.textPadding,c=t.truncate,h=c&&c.outerWidth,p=c&&c.outerHeight;l&&(null!=h&&(h-=l[1]+l[3]),null!=p&&(p-=l[0]+l[2]));for(var d=0;d<o.length;d++){for(var v=o[d],m=0,g=0,y=0;y<v.tokens.length;y++){var b=v.tokens[y],w=b.styleName&&t.rich[b.styleName]||{},E=b.textPadding=w.textPadding,S=b.font=w.font||t.font,x=b.textHeight=A(w.textHeight,nr(S));if(E&&(x+=E[0]+E[2]),b.height=x,b.lineHeight=O(w.textLineHeight,t.textLineHeight,x),b.textAlign=w&&w.textAlign||t.textAlign,b.textVerticalAlign=w&&w.textVerticalAlign||"middle",null!=p&&u+b.lineHeight>p)return{lines:[],width:0,height:0};b.textWidth=Xn(b.text,S);var T=w.textWidth,N=null==T||"auto"===T;if("string"==typeof T&&"%"===T.charAt(T.length-1))b.percentWidth=T,f.push(b),T=0;else{if(N){T=b.textWidth;var C=w.textBackgroundColor,k=C&&C.image;k&&(k=Rn(k),Wn(k)&&(T=Math.max(T,k.width*x/k.height)))}var L=E?E[1]+E[3]:0;T+=L;var M=null!=h?h-g:null;null!=M&&T>M&&(!N||L>M?(b.text="",b.textWidth=T=0):(b.text=Yn(b.text,M-L,S,c.ellipsis,{minChar:c.minChar}),b.textWidth=Xn(b.text,S),T=b.textWidth+L))}g+=b.width=T,w&&(m=Math.max(m,b.lineHeight))}v.width=g,v.lineHeight=m,u+=m,a=Math.max(a,g)}n.outerWidth=n.width=A(t.textWidth,a),n.outerHeight=n.height=A(t.textHeight,u),l&&(n.outerWidth+=l[1]+l[3],n.outerHeight+=l[0]+l[2]);for(var d=0;d<f.length;d++){var b=f[d],_=b.percentWidth;b.width=parseInt(_,10)/100*a}return n}function or(e,t,n){for(var r=""===t,i=t.split("\n"),s=e.lines,o=0;o<i.length;o++){var u=i[o],a={styleName:n,text:u,isLineHolder:!u&&!r};if(o)s.push({tokens:[a]});else{var f=(s[s.length-1]||(s[0]={tokens:[]})).tokens,l=f.length;1===l&&f[0].isLineHolder?f[0]=a:(u||!l||r)&&f.push(a)}}}function ur(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&P(t)||e.textFont||e.font}function ar(e,t){var n,r,i,s,o=t.x,u=t.y,a=t.width,f=t.height,l=t.r;0>a&&(o+=a,a=-a),0>f&&(u+=f,f=-f),"number"==typeof l?n=r=i=s=l:l instanceof Array?1===l.length?n=r=i=s=l[0]:2===l.length?(n=i=l[0],r=s=l[1]):3===l.length?(n=l[0],r=s=l[1],i=l[2]):(n=l[0],r=l[1],i=l[2],s=l[3]):n=r=i=s=0;var c;n+r>a&&(c=n+r,n*=a/c,r*=a/c),i+s>a&&(c=i+s,i*=a/c,s*=a/c),r+i>f&&(c=r+i,r*=f/c,i*=f/c),n+s>f&&(c=n+s,n*=f/c,s*=f/c),e.moveTo(o+n,u),e.lineTo(o+a-r,u),0!==r&&e.arc(o+a-r,u+r,r,-Math.PI/2,0),e.lineTo(o+a,u+f-i),0!==i&&e.arc(o+a-i,u+f-i,i,0,Math.PI/2),e.lineTo(o+s,u+f),0!==s&&e.arc(o+s,u+f-s,s,Math.PI/2,Math.PI),e.lineTo(o,u+n),0!==n&&e.arc(o+n,u+n,n,Math.PI,1.5*Math.PI)}function fr(e){return lr(e),p(e.rich,lr),e}function lr(e){if(e){e.font=ur(e);var t=e.textAlign;"middle"===t&&(t="center"),e.textAlign=null==t||Sy[t]?t:"left";var n=e.textVerticalAlign||e.textBaseline;"center"===n&&(n="middle"),e.textVerticalAlign=null==n||xy[n]?n:"top";var r=e.textPadding;r&&(e.textPadding=_(e.textPadding))}}function cr(e,t,n,r,i,s){r.rich?pr(e,t,n,r,i,s):hr(e,t,n,r,i,s)}function hr(e,t,n,r,i,s){var o,u=gr(r),a=!1,f=t.__attrCachedBy===iy.PLAIN_TEXT;s!==sy?(s&&(o=s.style,a=!u&&f&&o),t.__attrCachedBy=u?iy.NONE:iy.PLAIN_TEXT):f&&(t.__attrCachedBy=iy.NONE);var l=r.font||Ey;a&&l===(o.font||Ey)||(t.font=l);var c=e.__computedFont;e.__styleFont!==l&&(e.__styleFont=l,c=e.__computedFont=t.font);var h=r.textPadding,p=r.textLineHeight,d=e.__textCotentBlock;(!d||e.__dirtyText)&&(d=e.__textCotentBlock=ir(n,c,h,p,r.truncate));var v=d.outerHeight,m=d.lines,g=d.lineHeight,y=wr(Cy,e,r,i),b=y.baseX,w=y.baseY,E=y.textAlign||"left",S=y.textVerticalAlign;vr(t,r,i,b,w);var x=Qn(w,v,S),T=b,N=x;if(u||h){var C=Xn(n,c),k=C;h&&(k+=h[1]+h[3]);var L=Kn(b,k,E);u&&yr(e,t,r,L,x,k,v),h&&(T=Nr(b,E,h),N+=h[0])}t.textAlign=E,t.textBaseline="middle",t.globalAlpha=r.opacity||1;for(var A=0;A<Ty.length;A++){var O=Ty[A],M=O[0],_=O[1],D=r[M];a&&D===o[M]||(t[_]=ry(t,_,D||O[2]))}N+=g/2;var P=r.textStrokeWidth,H=a?o.textStrokeWidth:null,B=!a||P!==H,j=!a||B||r.textStroke!==o.textStroke,F=Sr(r.textStroke,P),I=xr(r.textFill);if(F&&(B&&(t.lineWidth=P),j&&(t.strokeStyle=F)),I&&(a&&r.textFill===o.textFill||(t.fillStyle=I)),1===m.length)F&&t.strokeText(m[0],T,N),I&&t.fillText(m[0],T,N);else for(var A=0;A<m.length;A++)F&&t.strokeText(m[A],T,N),I&&t.fillText(m[A],T,N),N+=g}function pr(e,t,n,r,i,s){s!==sy&&(t.__attrCachedBy=iy.NONE);var o=e.__textCotentBlock;(!o||e.__dirtyText)&&(o=e.__textCotentBlock=sr(n,r)),dr(e,t,o,r,i)}function dr(e,t,n,r,i){var s=n.width,o=n.outerWidth,u=n.outerHeight,a=r.textPadding,f=wr(Cy,e,r,i),l=f.baseX,c=f.baseY,h=f.textAlign,p=f.textVerticalAlign;vr(t,r,i,l,c);var d=Kn(l,o,h),v=Qn(c,u,p),m=d,g=v;a&&(m+=a[3],g+=a[0]);var y=m+s;gr(r)&&yr(e,t,r,d,v,o,u);for(var b=0;b<n.lines.length;b++){for(var w,E=n.lines[b],S=E.tokens,x=S.length,T=E.lineHeight,N=E.width,C=0,k=m,L=y,A=x-1;x>C&&(w=S[C],!w.textAlign||"left"===w.textAlign);)mr(e,t,w,r,T,g,k,"left"),N-=w.width,k+=w.width,C++;for(;A>=0&&(w=S[A],"right"===w.textAlign);)mr(e,t,w,r,T,g,L,"right"),N-=w.width,L-=w.width,A--;for(k+=(s-(k-m)-(y-L)-N)/2;A>=C;)w=S[C],mr(e,t,w,r,T,g,k+w.width/2,"center"),k+=w.width,C++;g+=T}}function vr(e,t,n,r,i){if(n&&t.textRotation){var s=t.textOrigin;"center"===s?(r=n.width/2+n.x,i=n.height/2+n.y):s&&(r=s[0]+n.x,i=s[1]+n.y),e.translate(r,i),e.rotate(-t.textRotation),e.translate(-r,-i)}}function mr(e,t,n,r,i,s,o,u){var a=r.rich[n.styleName]||{};a.text=n.text;var f=n.textVerticalAlign,l=s+i/2;"top"===f?l=s+n.height/2:"bottom"===f&&(l=s+i-n.height/2),!n.isLineHolder&&gr(a)&&yr(e,t,a,"right"===u?o-n.width:"center"===u?o-n.width/2:o,l-n.height/2,n.width,n.height);var c=n.textPadding;c&&(o=Nr(o,u,c),l-=n.height/2-c[2]-n.textHeight/2),Er(t,"shadowBlur",O(a.textShadowBlur,r.textShadowBlur,0)),Er(t,"shadowColor",a.textShadowColor||r.textShadowColor||"transparent"),Er(t,"shadowOffsetX",O(a.textShadowOffsetX,r.textShadowOffsetX,0)),Er(t,"shadowOffsetY",O(a.textShadowOffsetY,r.textShadowOffsetY,0)),Er(t,"textAlign",u),Er(t,"textBaseline","middle"),Er(t,"font",n.font||Ey);var h=Sr(a.textStroke||r.textStroke,d),p=xr(a.textFill||r.textFill),d=A(a.textStrokeWidth,r.textStrokeWidth);h&&(Er(t,"lineWidth",d),Er(t,"strokeStyle",h),t.strokeText(n.text,o,l)),p&&(Er(t,"fillStyle",p),t.fillText(n.text,o,l))}function gr(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function yr(e,t,n,r,i,s,o){var u=n.textBackgroundColor,a=n.textBorderWidth,f=n.textBorderColor,l=S(u);if(Er(t,"shadowBlur",n.textBoxShadowBlur||0),Er(t,"shadowColor",n.textBoxShadowColor||"transparent"),Er(t,"shadowOffsetX",n.textBoxShadowOffsetX||0),Er(t,"shadowOffsetY",n.textBoxShadowOffsetY||0),l||a&&f){t.beginPath();var c=n.textBorderRadius;c?ar(t,{x:r,y:i,width:s,height:o,r:c}):t.rect(r,i,s,o),t.closePath()}if(l)if(Er(t,"fillStyle",u),null!=n.fillOpacity){var h=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,t.fill(),t.globalAlpha=h}else t.fill();else if(x(u)){var p=u.image;p=Un(p,null,e,br,u),p&&Wn(p)&&t.drawImage(p,r,i,s,o)}if(a&&f)if(Er(t,"lineWidth",a),Er(t,"strokeStyle",f),null!=n.strokeOpacity){var h=t.globalAlpha;t.globalAlpha=n.strokeOpacity*n.opacity,t.stroke(),t.globalAlpha=h}else t.stroke()}function br(e,t){t.image=e}function wr(e,t,n,r){var i=n.x||0,s=n.y||0,o=n.textAlign,u=n.textVerticalAlign;if(r){var a=n.textPosition;if(a instanceof Array)i=r.x+Tr(a[0],r.width),s=r.y+Tr(a[1],r.height);else{var f=t&&t.calculateTextPosition?t.calculateTextPosition(Ny,n,r):Gn(Ny,n,r);i=f.x,s=f.y,o=o||f.textAlign,u=u||f.textVerticalAlign}var l=n.textOffset;l&&(i+=l[0],s+=l[1])}return e=e||{},e.baseX=i,e.baseY=s,e.textAlign=o,e.textVerticalAlign=u,e}function Er(e,t,n){return e[t]=ry(e,t,n),e[t]}function Sr(e,t){return null==e||0>=t||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function xr(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function Tr(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function Nr(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function Cr(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}function kr(e){e=e||{},Jg.call(this,e);for(var t in e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new uy(e.style,this),this._rect=null,this.__clipPaths=null}function Lr(e){kr.call(this,e)}function Ar(e){return parseInt(e,10)}function Or(e){return e?e.__builtin__?!0:"function"!=typeof e.resize||"function"!=typeof e.refresh?!1:!0:!1}function Mr(e,t,n){return Dy.copy(e.getBoundingRect()),e.transform&&Dy.applyTransform(e.transform),Py.width=t,Py.height=n,!Dy.intersect(Py)}function _r(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function Dr(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.setTransform(t),t.beginPath(),r.buildPath(t,r.shape),t.clip(),r.restoreTransform(t)}}function Pr(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}function Hr(e){return"mousewheel"===e&&Fm.browser.firefox?"DOMMouseScroll":e}function Br(e){var t=e.pointerType;return"pen"===t||"touch"===t}function jr(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function Fr(e){e&&(e.zrByTouch=!0)}function Ir(e,t){return St(e.dom,new Rr(e,t),!0)}function qr(e,t){for(var n=t,r=!1;n&&9!==n.nodeType&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return r}function Rr(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}function Ur(e,t){var n=t.domHandlers;Fm.pointerEventsSupported?p(Iy.pointer,function(r){Wr(t,r,function(t){n[r].call(e,t)})}):(Fm.touchEventsSupported&&p(Iy.touch,function(r){Wr(t,r,function(i){n[r].call(e,i),jr(t)})}),p(Iy.mouse,function(r){Wr(t,r,function(i){i=Et(i),t.touching||n[r].call(e,i)})}))}function zr(e,t){function n(n){function r(r){r=Et(r),qr(e,r.target)||(r=Ir(e,r),t.domHandlers[n].call(e,r))}Wr(t,n,r,{capture:!0})}Fm.pointerEventsSupported?p(qy.pointer,n):Fm.touchEventsSupported||p(qy.mouse,n)}function Wr(e,t,n,r){e.mounted[t]=n,e.listenerOpts[t]=r,xt(e.domTarget,Hr(t),n,r)}function Xr(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&Tt(e.domTarget,Hr(n),t[n],e.listenerOpts[n]);e.mounted={}}function Vr(e,t){if(e._mayPointerCapture=null,Fy&&e._pointerCapturing^t){e._pointerCapturing=t;var n=e._globalHandlerScope;t?zr(e,n):Xr(n)}}function $r(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function Jr(e,t){og.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new $r(e,Uy),Fy&&(this._globalHandlerScope=new $r(document,zy)),this._pointerCapturing=!1,this._mayPointerCapture=null,Ur(this,this._localHandlerScope)}function Kr(e,t){var n=new Ky(Bm(),e,t);return $y[n.id]=n,n}function Qr(e){if(e)e.dispose();else{for(var t in $y)$y.hasOwnProperty(t)&&$y[t].dispose();$y={}}return this}function Gr(e){return $y[e]}function Yr(e,t){Vy[e]=t}function Zr(e){delete $y[e]}function ei(e){return e instanceof Array?e:null==e?[]:[e]}function ti(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,i=n.length;i>r;r++){var s=n[r];!e.emphasis[t].hasOwnProperty(s)&&e[t].hasOwnProperty(s)&&(e.emphasis[t][s]=e[t][s])}}}function ni(e){return!Yy(e)||Zy(e)||e instanceof Date?e:e.value}function ri(e){return Yy(e)&&!(e instanceof Array)}function ii(e,t){t=(t||[]).slice();var n=d(e||[],function(e){return{exist:e}});return Gy(t,function(e,r){if(Yy(e)){for(var i=0;i<n.length;i++)if(!n[i].option&&null!=e.id&&n[i].exist.id===e.id+"")return n[i].option=e,void (t[r]=null);for(var i=0;i<n.length;i++){var s=n[i].exist;if(!(n[i].option||null!=s.id&&null!=e.id||null==e.name||ui(e)||ui(s)||s.name!==e.name+""))return n[i].option=e,void (t[r]=null)}}}),Gy(t,function(e){if(Yy(e)){for(var t=0;t<n.length;t++){var r=n[t].exist;if(!n[t].option&&!ui(r)&&null==e.id){n[t].option=e;break}}t>=n.length&&n.push({option:e})}}),n}function si(e){var t=F();Gy(e,function(e){var n=e.exist;n&&t.set(n.id,e)}),Gy(e,function(e){var n=e.option;D(!n||null==n.id||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})}),Gy(e,function(e,n){var r=e.exist,i=e.option,s=e.keyInfo;if(Yy(i)){if(s.name=null!=i.name?i.name+"":r?r.name:eb+n,r)s.id=r.id;else if(null!=i.id)s.id=i.id+"";else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(t.get(s.id))}t.set(s.id,e)}})}function oi(e){var t=e.name;return!!t&&!!t.indexOf(eb)}function ui(e){return Yy(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}function ai(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?w(t.dataIndex)?d(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?w(t.name)?d(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0}function fi(){var e="__\0ec_inner_"+nb++ +"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}function li(e,t,n){if(S(t)){var r={};r[t+"Index"]=0,t=r}var i=n&&n.defaultMainType;!i||ci(t,i+"Index")||ci(t,i+"Id")||ci(t,i+"Name")||(t[i+"Index"]=0);var s={};return Gy(t,function(r,i){var r=t[i];if("dataIndex"===i||"dataIndexInside"===i)return void (s[i]=r);var o=i.match(/^(\w+)(Index|Id|Name)$/)||[],u=o[1],a=(o[2]||"").toLowerCase();if(!(!u||!a||null==r||"index"===a&&"none"===r||n&&n.includeMainTypes&&f(n.includeMainTypes,u)<0)){var l={mainType:u};("index"!==a||"all"!==r)&&(l[a]=r);var c=e.queryComponents(l);s[u+"Models"]=c,s[u+"Model"]=c[0]}}),s}function ci(e,t){return e&&e.hasOwnProperty(t)}function hi(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function pi(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function di(e){return"auto"===e?Fm.domSupported?"html":"richText":e||"html"}function vi(e){var t={main:"",sub:""};return e&&(e=e.split(rb),t.main=e[0]||"",t.sub=e[1]||""),t}function mi(e){D(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function gi(e){e.$constructor=e,e.extend=function(e){var t=this,n=function(){e.$constructor?e.$constructor.apply(this,arguments):t.apply(this,arguments)};return o(n.prototype,e),n.extend=this.extend,n.superCall=bi,n.superApply=wi,l(n,this),n.superClass=t,n}}function yi(e){var t=["__\0is_clz",sb++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(e){return!!e&&!!e[t]}}function bi(e,t){var n=M(arguments,2);return this.superClass.prototype[t].apply(e,n)}function wi(e,t,n){return this.superClass.prototype[t].apply(e,n)}function Ei(e,t){function n(e){var t=r[e.main];return t&&t[ib]||(t=r[e.main]={},t[ib]=!0),t}t=t||{};var r={};if(e.registerClass=function(e,t){if(t)if(mi(t),t=vi(t),t.sub){if(t.sub!==ib){var i=n(t);i[t.sub]=e}}else r[t.main]=e;return e},e.getClass=function(e,t,n){var i=r[e];if(i&&i[ib]&&(i=t?i[t]:null),n&&!i)throw new Error(t?"Component "+e+"."+(t||"")+" not exists. Load it first.":e+".type should be specified.");return i},e.getClassesByMainType=function(e){e=vi(e);var t=[],n=r[e.main];return n&&n[ib]?p(n,function(e,n){n!==ib&&t.push(e)}):t.push(n),t},e.hasClass=function(e){return e=vi(e),!!r[e.main]},e.getAllClassMainTypes=function(){var e=[];return p(r,function(t,n){e.push(n)}),e},e.hasSubTypes=function(e){e=vi(e);var t=r[e.main];return t&&t[ib]},e.parseClassType=vi,t.registerWhenExtend){var i=e.extend;i&&(e.extend=function(t){var n=i.call(this,t);return e.registerClass(n,t.type)})}return e}function Si(e){return e>-pb&&pb>e}function xi(e){return e>pb||-pb>e}function Ti(e,t,n,r,i){var s=1-i;return s*s*(s*e+3*i*t)+i*i*(i*r+3*s*n)}function Ni(e,t,n,r,i){var s=1-i;return 3*(((t-e)*s+2*(n-t)*i)*s+(r-n)*i*i)}function Ci(e,t,n,r,i,s){var o=r+3*(t-n)-e,u=3*(n-2*t+e),a=3*(t-e),f=e-i,l=u*u-3*o*a,c=u*a-9*o*f,h=a*a-3*u*f,p=0;if(Si(l)&&Si(c))if(Si(u))s[0]=0;else{var d=-a/u;d>=0&&1>=d&&(s[p++]=d)}else{var v=c*c-4*l*h;if(Si(v)){var m=c/l,d=-u/o+m,g=-m/2;d>=0&&1>=d&&(s[p++]=d),g>=0&&1>=g&&(s[p++]=g)}else if(v>0){var y=hb(v),b=l*u+1.5*o*(-c+y),w=l*u+1.5*o*(-c-y);b=0>b?-cb(-b,mb):cb(b,mb),w=0>w?-cb(-w,mb):cb(w,mb);var d=(-u-(b+w))/(3*o);d>=0&&1>=d&&(s[p++]=d)}else{var E=(2*l*u-3*o*c)/(2*hb(l*l*l)),S=Math.acos(E)/3,x=hb(l),T=Math.cos(S),d=(-u-2*x*T)/(3*o),g=(-u+x*(T+vb*Math.sin(S)))/(3*o),N=(-u+x*(T-vb*Math.sin(S)))/(3*o);d>=0&&1>=d&&(s[p++]=d),g>=0&&1>=g&&(s[p++]=g),N>=0&&1>=N&&(s[p++]=N)}}return p}function ki(e,t,n,r,i){var s=6*n-12*t+6*e,o=9*t+3*r-3*e-9*n,u=3*t-3*e,a=0;if(Si(o)){if(xi(s)){var f=-u/s;f>=0&&1>=f&&(i[a++]=f)}}else{var l=s*s-4*o*u;if(Si(l))i[0]=-s/(2*o);else if(l>0){var c=hb(l),f=(-s+c)/(2*o),h=(-s-c)/(2*o);f>=0&&1>=f&&(i[a++]=f),h>=0&&1>=h&&(i[a++]=h)}}return a}function Li(e,t,n,r,i,s){var o=(t-e)*i+e,u=(n-t)*i+t,a=(r-n)*i+n,f=(u-o)*i+o,l=(a-u)*i+u,c=(l-f)*i+f;s[0]=e,s[1]=o,s[2]=f,s[3]=c,s[4]=c,s[5]=l,s[6]=a,s[7]=r}function Ai(e,t,n,r,i,s,o,u,a,f,l){var c,h,p,d,v,m=.005,g=1/0;gb[0]=a,gb[1]=f;for(var y=0;1>y;y+=.05)yb[0]=Ti(e,n,i,o,y),yb[1]=Ti(t,r,s,u,y),d=rg(gb,yb),g>d&&(c=y,g=d);g=1/0;for(var b=0;32>b&&!(db>m);b++)h=c-m,p=c+m,yb[0]=Ti(e,n,i,o,h),yb[1]=Ti(t,r,s,u,h),d=rg(yb,gb),h>=0&&g>d?(c=h,g=d):(bb[0]=Ti(e,n,i,o,p),bb[1]=Ti(t,r,s,u,p),v=rg(bb,gb),1>=p&&g>v?(c=p,g=v):m*=.5);return l&&(l[0]=Ti(e,n,i,o,c),l[1]=Ti(t,r,s,u,c)),hb(g)}function Oi(e,t,n,r){var i=1-r;return i*(i*e+2*r*t)+r*r*n}function Mi(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function _i(e,t,n,r,i){var s=e-2*t+n,o=2*(t-e),u=e-r,a=0;if(Si(s)){if(xi(o)){var f=-u/o;f>=0&&1>=f&&(i[a++]=f)}}else{var l=o*o-4*s*u;if(Si(l)){var f=-o/(2*s);f>=0&&1>=f&&(i[a++]=f)}else if(l>0){var c=hb(l),f=(-o+c)/(2*s),h=(-o-c)/(2*s);f>=0&&1>=f&&(i[a++]=f),h>=0&&1>=h&&(i[a++]=h)}}return a}function Di(e,t,n){var r=e+n-2*t;return 0===r?.5:(e-t)/r}function Pi(e,t,n,r,i){var s=(t-e)*r+e,o=(n-t)*r+t,u=(o-s)*r+s;i[0]=e,i[1]=s,i[2]=u,i[3]=u,i[4]=o,i[5]=n}function Hi(e,t,n,r,i,s,o,u,a){var f,l=.005,c=1/0;gb[0]=o,gb[1]=u;for(var h=0;1>h;h+=.05){yb[0]=Oi(e,n,i,h),yb[1]=Oi(t,r,s,h);var p=rg(gb,yb);c>p&&(f=h,c=p)}c=1/0;for(var d=0;32>d&&!(db>l);d++){var v=f-l,m=f+l;yb[0]=Oi(e,n,i,v),yb[1]=Oi(t,r,s,v);var p=rg(yb,gb);if(v>=0&&c>p)f=v,c=p;else{bb[0]=Oi(e,n,i,m),bb[1]=Oi(t,r,s,m);var g=rg(bb,gb);1>=m&&c>g?(f=m,c=g):l*=.5}}return a&&(a[0]=Oi(e,n,i,f),a[1]=Oi(t,r,s,f)),hb(c)}function Bi(e,t,n){if(0!==e.length){var r,i=e[0],s=i[0],o=i[0],u=i[1],a=i[1];for(r=1;r<e.length;r++)i=e[r],s=wb(s,i[0]),o=Eb(o,i[0]),u=wb(u,i[1]),a=Eb(a,i[1]);t[0]=s,t[1]=u,n[0]=o,n[1]=a}}function ji(e,t,n,r,i,s){i[0]=wb(e,n),i[1]=wb(t,r),s[0]=Eb(e,n),s[1]=Eb(t,r)}function Fi(e,t,n,r,i,s,o,u,a,f){var l,c=ki,h=Ti,p=c(e,n,i,o,Lb);for(a[0]=1/0,a[1]=1/0,f[0]=-1/0,f[1]=-1/0,l=0;p>l;l++){var d=h(e,n,i,o,Lb[l]);a[0]=wb(d,a[0]),f[0]=Eb(d,f[0])}for(p=c(t,r,s,u,Ab),l=0;p>l;l++){var v=h(t,r,s,u,Ab[l]);a[1]=wb(v,a[1]),f[1]=Eb(v,f[1])}a[0]=wb(e,a[0]),f[0]=Eb(e,f[0]),a[0]=wb(o,a[0]),f[0]=Eb(o,f[0]),a[1]=wb(t,a[1]),f[1]=Eb(t,f[1]),a[1]=wb(u,a[1]),f[1]=Eb(u,f[1])}function Ii(e,t,n,r,i,s,o,u){var a=Di,f=Oi,l=Eb(wb(a(e,n,i),1),0),c=Eb(wb(a(t,r,s),1),0),h=f(e,n,i,l),p=f(t,r,s,c);o[0]=wb(e,i,h),o[1]=wb(t,s,p),u[0]=Eb(e,i,h),u[1]=Eb(t,s,p)}function qi(e,t,n,r,i,s,o,u,a){var f=ot,l=ut,c=Math.abs(i-s);if(1e-4>c%Tb&&c>1e-4)return u[0]=e-n,u[1]=t-r,a[0]=e+n,void (a[1]=t+r);if(Nb[0]=xb(i)*n+e,Nb[1]=Sb(i)*r+t,Cb[0]=xb(s)*n+e,Cb[1]=Sb(s)*r+t,f(u,Nb,Cb),l(a,Nb,Cb),i%=Tb,0>i&&(i+=Tb),s%=Tb,0>s&&(s+=Tb),i>s&&!o?s+=Tb:s>i&&o&&(i+=Tb),o){var h=s;s=i,i=h}for(var p=0;s>p;p+=Math.PI/2)p>i&&(kb[0]=xb(p)*n+e,kb[1]=Sb(p)*r+t,f(u,kb,u),l(a,kb,a))}function Ri(e,t,n,r,i,s,o){if(0===i)return!1;var u=i,a=0,f=e;if(o>t+u&&o>r+u||t-u>o&&r-u>o||s>e+u&&s>n+u||e-u>s&&n-u>s)return!1;if(e===n)return Math.abs(s-e)<=u/2;a=(t-r)/(e-n),f=(e*r-n*t)/(e-n);var l=a*s-o+f,c=l*l/(a*a+1);return u/2*u/2>=c}function Ui(e,t,n,r,i,s,o,u,a,f,l){if(0===a)return!1;var c=a;if(l>t+c&&l>r+c&&l>s+c&&l>u+c||t-c>l&&r-c>l&&s-c>l&&u-c>l||f>e+c&&f>n+c&&f>i+c&&f>o+c||e-c>f&&n-c>f&&i-c>f&&o-c>f)return!1;var h=Ai(e,t,n,r,i,s,o,u,f,l,null);return c/2>=h}function zi(e,t,n,r,i,s,o,u,a){if(0===o)return!1;var f=o;if(a>t+f&&a>r+f&&a>s+f||t-f>a&&r-f>a&&s-f>a||u>e+f&&u>n+f&&u>i+f||e-f>u&&n-f>u&&i-f>u)return!1;var l=Hi(e,t,n,r,i,s,u,a,null);return f/2>=l}function Wi(e){return e%=zb,0>e&&(e+=zb),e}function Xi(e,t,n,r,i,s,o,u,a){if(0===o)return!1;var f=o;u-=e,a-=t;var l=Math.sqrt(u*u+a*a);if(l-f>n||n>l+f)return!1;if(Math.abs(r-i)%Wb<1e-4)return!0;if(s){var c=r;r=Wi(i),i=Wi(c)}else r=Wi(r),i=Wi(i);r>i&&(i+=Wb);var h=Math.atan2(a,u);return 0>h&&(h+=Wb),h>=r&&i>=h||h+Wb>=r&&i>=h+Wb}function Vi(e,t,n,r,i,s){if(s>t&&s>r||t>s&&r>s)return 0;if(r===t)return 0;var o=t>r?1:-1,u=(s-t)/(r-t);(1===u||0===u)&&(o=t>r?.5:-0.5);var a=u*(n-e)+e;return a===i?1/0:a>i?o:0}function $i(e,t){return Math.abs(e-t)<$b}function Ji(){var e=Kb[0];Kb[0]=Kb[1],Kb[1]=e}function Ki(e,t,n,r,i,s,o,u,a,f){if(f>t&&f>r&&f>s&&f>u||t>f&&r>f&&s>f&&u>f)return 0;var l=Ci(t,r,s,u,f,Jb);if(0===l)return 0;for(var c,h,p=0,d=-1,v=0;l>v;v++){var m=Jb[v],g=0===m||1===m?.5:1,y=Ti(e,n,i,o,m);a>y||(0>d&&(d=ki(t,r,s,u,Kb),Kb[1]<Kb[0]&&d>1&&Ji(),c=Ti(t,r,s,u,Kb[0]),d>1&&(h=Ti(t,r,s,u,Kb[1]))),p+=2===d?m<Kb[0]?t>c?g:-g:m<Kb[1]?c>h?g:-g:h>u?g:-g:m<Kb[0]?t>c?g:-g:c>u?g:-g)}return p}function Qi(e,t,n,r,i,s,o,u){if(u>t&&u>r&&u>s||t>u&&r>u&&s>u)return 0;var a=_i(t,r,s,u,Jb);if(0===a)return 0;var f=Di(t,r,s);if(f>=0&&1>=f){for(var l=0,c=Oi(t,r,s,f),h=0;a>h;h++){var p=0===Jb[h]||1===Jb[h]?.5:1,d=Oi(e,n,i,Jb[h]);o>d||(l+=Jb[h]<f?t>c?p:-p:c>s?p:-p)}return l}var p=0===Jb[0]||1===Jb[0]?.5:1,d=Oi(e,n,i,Jb[0]);return o>d?0:t>s?p:-p}function Gi(e,t,n,r,i,s,o,u){if(u-=t,u>n||-n>u)return 0;var a=Math.sqrt(n*n-u*u);Jb[0]=-a,Jb[1]=a;var f=Math.abs(r-i);if(1e-4>f)return 0;if(1e-4>f%Vb){r=0,i=Vb;var l=s?1:-1;return o>=Jb[0]+e&&o<=Jb[1]+e?l:0}if(s){var a=r;r=Wi(i),i=Wi(a)}else r=Wi(r),i=Wi(i);r>i&&(i+=Vb);for(var c=0,h=0;2>h;h++){var p=Jb[h];if(p+e>o){var d=Math.atan2(u,p),l=s?1:-1;0>d&&(d=Vb+d),(d>=r&&i>=d||d+Vb>=r&&i>=d+Vb)&&(d>Math.PI/2&&d<1.5*Math.PI&&(l=-l),c+=l)}}return c}function Yi(e,t,n,r,i){for(var s=0,o=0,u=0,a=0,f=0,l=0;l<e.length;){var c=e[l++];switch(c===Xb.M&&l>1&&(n||(s+=Vi(o,u,a,f,r,i))),1===l&&(o=e[l],u=e[l+1],a=o,f=u),c){case Xb.M:a=e[l++],f=e[l++],o=a,u=f;break;case Xb.L:if(n){if(Ri(o,u,e[l],e[l+1],t,r,i))return!0}else s+=Vi(o,u,e[l],e[l+1],r,i)||0;o=e[l++],u=e[l++];break;case Xb.C:if(n){if(Ui(o,u,e[l++],e[l++],e[l++],e[l++],e[l],e[l+1],t,r,i))return!0}else s+=Ki(o,u,e[l++],e[l++],e[l++],e[l++],e[l],e[l+1],r,i)||0;o=e[l++],u=e[l++];break;case Xb.Q:if(n){if(zi(o,u,e[l++],e[l++],e[l],e[l+1],t,r,i))return!0}else s+=Qi(o,u,e[l++],e[l++],e[l],e[l+1],r,i)||0;o=e[l++],u=e[l++];break;case Xb.A:var h=e[l++],p=e[l++],d=e[l++],v=e[l++],m=e[l++],g=e[l++];l+=1;var y=1-e[l++],b=Math.cos(m)*d+h,w=Math.sin(m)*v+p;l>1?s+=Vi(o,u,b,w,r,i):(a=b,f=w);var E=(r-h)*v/d+h;if(n){if(Xi(h,p,v,m,m+g,y,t,E,i))return!0}else s+=Gi(h,p,v,m,m+g,y,E,i);o=Math.cos(m+g)*d+h,u=Math.sin(m+g)*v+p;break;case Xb.R:a=o=e[l++],f=u=e[l++];var S=e[l++],x=e[l++],b=a+S,w=f+x;if(n){if(Ri(a,f,b,f,t,r,i)||Ri(b,f,b,w,t,r,i)||Ri(b,w,a,w,t,r,i)||Ri(a,w,a,f,t,r,i))return!0}else s+=Vi(b,f,b,w,r,i),s+=Vi(a,w,a,f,r,i);break;case Xb.Z:if(n){if(Ri(o,u,a,f,t,r,i))return!0}else s+=Vi(o,u,a,f,r,i);o=a,u=f}}return n||$i(u,f)||(s+=Vi(o,u,a,f,r,i)||0),0!==s}function Zi(e,t,n){return Yi(e,0,!1,t,n)}function es(e,t,n,r){return Yi(e,t,!0,n,r)}function ts(e){kr.call(this,e),this.path=null}function ns(e,t,n,r,i,s,o,u,a,f,l){var c=a*(uw/180),h=ow(c)*(e-n)/2+sw(c)*(t-r)/2,p=-1*sw(c)*(e-n)/2+ow(c)*(t-r)/2,d=h*h/(o*o)+p*p/(u*u);d>1&&(o*=iw(d),u*=iw(d));var v=(i===s?-1:1)*iw((o*o*u*u-o*o*p*p-u*u*h*h)/(o*o*p*p+u*u*h*h))||0,m=v*o*p/u,g=v*-u*h/o,y=(e+n)/2+ow(c)*m-sw(c)*g,b=(t+r)/2+sw(c)*m+ow(c)*g,w=lw([1,0],[(h-m)/o,(p-g)/u]),E=[(h-m)/o,(p-g)/u],S=[(-1*h-m)/o,(-1*p-g)/u],x=lw(E,S);fw(E,S)<=-1&&(x=uw),fw(E,S)>=1&&(x=0),0===s&&x>0&&(x-=2*uw),1===s&&0>x&&(x+=2*uw),l.addData(f,y,b,o,u,w,x,c,s)}function rs(e){if(!e)return new Ub;for(var t,n=0,r=0,i=n,s=r,o=new Ub,u=Ub.CMD,a=e.match(cw),f=0;f<a.length;f++){for(var l,c=a[f],h=c.charAt(0),p=c.match(hw)||[],d=p.length,v=0;d>v;v++)p[v]=parseFloat(p[v]);for(var m=0;d>m;){var g,y,b,w,E,S,x,T=n,N=r;switch(h){case"l":n+=p[m++],r+=p[m++],l=u.L,o.addData(l,n,r);break;case"L":n=p[m++],r=p[m++],l=u.L,o.addData(l,n,r);break;case"m":n+=p[m++],r+=p[m++],l=u.M,o.addData(l,n,r),i=n,s=r,h="l";break;case"M":n=p[m++],r=p[m++],l=u.M,o.addData(l,n,r),i=n,s=r,h="L";break;case"h":n+=p[m++],l=u.L,o.addData(l,n,r);break;case"H":n=p[m++],l=u.L,o.addData(l,n,r);break;case"v":r+=p[m++],l=u.L,o.addData(l,n,r);break;case"V":r=p[m++],l=u.L,o.addData(l,n,r);break;case"C":l=u.C,o.addData(l,p[m++],p[m++],p[m++],p[m++],p[m++],p[m++]),n=p[m-2],r=p[m-1];break;case"c":l=u.C,o.addData(l,p[m++]+n,p[m++]+r,p[m++]+n,p[m++]+r,p[m++]+n,p[m++]+r),n+=p[m-2],r+=p[m-1];break;case"S":g=n,y=r;var C=o.len(),k=o.data;t===u.C&&(g+=n-k[C-4],y+=r-k[C-3]),l=u.C,T=p[m++],N=p[m++],n=p[m++],r=p[m++],o.addData(l,g,y,T,N,n,r);break;case"s":g=n,y=r;var C=o.len(),k=o.data;t===u.C&&(g+=n-k[C-4],y+=r-k[C-3]),l=u.C,T=n+p[m++],N=r+p[m++],n+=p[m++],r+=p[m++],o.addData(l,g,y,T,N,n,r);break;case"Q":T=p[m++],N=p[m++],n=p[m++],r=p[m++],l=u.Q,o.addData(l,T,N,n,r);break;case"q":T=p[m++]+n,N=p[m++]+r,n+=p[m++],r+=p[m++],l=u.Q,o.addData(l,T,N,n,r);break;case"T":g=n,y=r;var C=o.len(),k=o.data;t===u.Q&&(g+=n-k[C-4],y+=r-k[C-3]),n=p[m++],r=p[m++],l=u.Q,o.addData(l,g,y,n,r);break;case"t":g=n,y=r;var C=o.len(),k=o.data;t===u.Q&&(g+=n-k[C-4],y+=r-k[C-3]),n+=p[m++],r+=p[m++],l=u.Q,o.addData(l,g,y,n,r);break;case"A":b=p[m++],w=p[m++],E=p[m++],S=p[m++],x=p[m++],T=n,N=r,n=p[m++],r=p[m++],l=u.A,ns(T,N,n,r,S,x,b,w,E,l,o);break;case"a":b=p[m++],w=p[m++],E=p[m++],S=p[m++],x=p[m++],T=n,N=r,n+=p[m++],r+=p[m++],l=u.A,ns(T,N,n,r,S,x,b,w,E,l,o)}}("z"===h||"Z"===h)&&(l=u.Z,o.addData(l),n=i,r=s),t=l}return o.toStatic(),o}function is(e,t){var n=rs(e);return t=t||{},t.buildPath=function(e){if(e.setData){e.setData(n.data);var t=e.getContext();t&&e.rebuildPath(t)}else{var t=e;n.rebuildPath(t)}},t.applyTransform=function(e){rw(n,e),this.dirty(!0)},t}function ss(e,t){return new ts(is(e,t))}function os(e,t){return ts.extend(is(e,t))}function us(e,t){for(var n=[],r=e.length,i=0;r>i;i++){var s=e[i];s.path||s.createPathProxy(),s.__dirtyPath&&s.buildPath(s.path,s.shape,!0),n.push(s.path)}var o=new ts(t);return o.createPathProxy(),o.buildPath=function(e){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t)},o}function as(e,t,n,r,i,s,o){var u=.5*(n-e),a=.5*(r-t);return(2*(t-n)+u+a)*o+(-3*(t-n)-2*u-a)*s+u*i+t}function fs(e,t,n){var r=t.points,i=t.smooth;if(r&&r.length>=2){if(i&&"spline"!==i){var s=ww(r,i,n,t.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var o=r.length,u=0;(n?o:o-1)>u;u++){var a=s[2*u],f=s[2*u+1],l=r[(u+1)%o];e.bezierCurveTo(a[0],a[1],f[0],f[1],l[0],l[1])}}else{"spline"===i&&(r=bw(r,n)),e.moveTo(r[0][0],r[0][1]);for(var u=1,c=r.length;c>u;u++)e.lineTo(r[u][0],r[u][1])}n&&e.closePath()}}function ls(e,t,n){if(t){var r=t.x1,i=t.x2,s=t.y1,o=t.y2;e.x1=r,e.x2=i,e.y1=s,e.y2=o;var u=n&&n.lineWidth;u&&(xw(2*r)===xw(2*i)&&(e.x1=e.x2=hs(r,u,!0)),xw(2*s)===xw(2*o)&&(e.y1=e.y2=hs(s,u,!0)))}}function cs(e,t,n){if(t){var r=t.x,i=t.y,s=t.width,o=t.height;e.x=r,e.y=i,e.width=s,e.height=o;var u=n&&n.lineWidth;u&&(e.x=hs(r,u,!0),e.y=hs(i,u,!0),e.width=Math.max(hs(r+s,u,!1)-e.x,0===s?0:1),e.height=Math.max(hs(i+o,u,!1)-e.y,0===o?0:1))}}function hs(e,t,n){if(!t)return e;var r=xw(2*e);return(r+xw(t))%2===0?r/2:(r+(n?1:-1))/2}function ps(e,t,n){var r=e.cpx2,i=e.cpy2;return null===r||null===i?[(n?Ni:Ti)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?Ni:Ti)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?Mi:Oi)(e.x1,e.cpx1,e.x2,t),(n?Mi:Oi)(e.y1,e.cpy1,e.y2,t)]}function ds(e){kr.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function vs(e){return ts.extend(e)}function ms(e,t){return os(e,t)}function gs(e,t){Xw[e]=t}function ys(e){return Xw.hasOwnProperty(e)?Xw[e]:void 0}function bs(e,t,n,r){var i=ss(e,t);return n&&("center"===r&&(n=Es(n,i.getBoundingRect())),Ss(i,n)),i}function ws(e,t,n){var r=new Lr({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===n){var i={width:e.width,height:e.height};r.setStyle(Es(t,i))}}});return r}function Es(e,t){var n,r=t.width/t.height,i=e.height*r;i<=e.width?n=e.height:(i=e.width,n=i/r);var s=e.x+e.width/2,o=e.y+e.height/2;return{x:s-i/2,y:o-n/2,width:i,height:n}}function Ss(e,t){if(e.applyTransform){var n=e.getBoundingRect(),r=n.calculateTransform(t);e.applyTransform(r)}}function xs(e){return ls(e.shape,e.shape,e.style),e}function Ts(e){return cs(e.shape,e.shape,e.style),e}function Ns(e){return null!=e&&"none"!==e}function Cs(e){if("string"!=typeof e)return e;var t=Jw.get(e);return t||(t=rn(e,-0.1),1e4>Kw&&(Jw.set(e,t),Kw++)),t}function ks(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(!t)return void (e.__cachedNormalStl=e.__cachedNormalZ2=null);var n=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var r=e.style;for(var i in t)null!=t[i]&&(n[i]=r[i]);n.fill=r.fill,n.stroke=r.stroke}}function Ls(e){var t=e.__hoverStl;if(t&&!e.__highlighted){var n=e.__zr,r=e.useHoverLayer&&n&&"canvas"===n.painter.type;if(e.__highlighted=r?"layer":"plain",!(e.isGroup||!n&&e.useHoverLayer)){var i=e,s=e.style;r&&(i=n.addHover(e),s=i.style),Gs(s),r||ks(i),s.extendFrom(t),As(s,t,"fill"),As(s,t,"stroke"),Qs(s),r||(e.dirty(!1),e.z2+=Iw)}}}function As(e,t,n){!Ns(t[n])&&Ns(e[n])&&(e[n]=Cs(e[n]))}function Os(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if("layer"===t)e.__zr&&e.__zr.removeHover(e);else{var n=e.style,r=e.__cachedNormalStl;r&&(Gs(n),e.setStyle(r),Qs(n));var i=e.__cachedNormalZ2;null!=i&&e.z2-i===Iw&&(e.z2=i)}}function Ms(e,t,n){var r,i=Uw,s=Uw;e.__highlighted&&(i=Rw,r=!0),t(e,n),e.__highlighted&&(s=Rw,r=!0),e.isGroup&&e.traverse(function(e){!e.isGroup&&t(e,n)}),r&&e.__highDownOnUpdate&&e.__highDownOnUpdate(i,s)}function _s(e,t){t=e.__hoverStl=t!==!1&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,Os(e),Ls(e))}function Ds(e){!js(this,e)&&!this.__highByOuter&&Ms(this,Ls)}function Ps(e){!js(this,e)&&!this.__highByOuter&&Ms(this,Os)}function Hs(e){this.__highByOuter|=1<<(e||0),Ms(this,Ls)}function Bs(e){!(this.__highByOuter&=~(1<<(e||0)))&&Ms(this,Os)}function js(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Fs(e,t){Is(e,!0),Ms(e,_s,t)}function Is(e,t){var n=t===!1;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!n||e.__highDownDispatcher){var r=n?"off":"on";e[r]("mouseover",Ds)[r]("mouseout",Ps),e[r]("emphasis",Hs)[r]("normal",Bs),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!n}}function qs(e){return!!e&&!!e.__highDownDispatcher}function Rs(e){var t=Ww[e];return null==t&&32>=zw&&(t=Ww[e]=zw++),t}function Us(e,t,n,r,i,s,o){i=i||Fw;var u,a=i.labelFetcher,f=i.labelDataIndex,l=i.labelDimIndex,c=i.labelProp,h=n.getShallow("show"),p=r.getShallow("show");(h||p)&&(a&&(u=a.getFormattedLabel(f,"normal",null,l,c)),null==u&&(u=E(i.defaultText)?i.defaultText(f,i):i.defaultText));var d=h?u:null,v=p?A(a?a.getFormattedLabel(f,"emphasis",null,l,c):null,u):null;(null!=d||null!=v)&&(Ws(e,n,s,i),Ws(t,r,o,i,!0)),e.text=d,t.text=v}function zs(e,t,n){var r=e.style;t&&(Gs(r),e.setStyle(t),Qs(r)),r=e.__hoverStl,n&&r&&(Gs(r),o(r,n),Qs(r))}function Ws(e,t,n,r,i){return Vs(e,t,r,i),n&&o(e,n),e}function Xs(e,t,n){var r,i={isRectText:!0};n===!1?r=!0:i.autoColor=n,Vs(e,t,i,r)}function Vs(e,t,n,r){if(n=n||Fw,n.isRectText){var i;n.getTextPosition?i=n.getTextPosition(t,r):(i=t.getShallow("position")||(r?null:"inside"),"outside"===i&&(i="top")),e.textPosition=i,e.textOffset=t.getShallow("offset");var s=t.getShallow("rotate");null!=s&&(s*=Math.PI/180),e.textRotation=s,e.textDistance=A(t.getShallow("distance"),r?null:5)}var o,u=t.ecModel,a=u&&u.option.textStyle,f=$s(t);if(f){o={};for(var l in f)if(f.hasOwnProperty(l)){var c=t.getModel(["rich",l]);Js(o[l]={},c,a,n,r)}}return e.rich=o,Js(e,t,a,n,r,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),e}function $s(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||Fw).rich;if(n){t=t||{};for(var r in n)n.hasOwnProperty(r)&&(t[r]=1)}e=e.parentModel}return t}function Js(e,t,n,r,i,s){n=!i&&n||Fw,e.textFill=Ks(t.getShallow("color"),r)||n.color,e.textStroke=Ks(t.getShallow("textBorderColor"),r)||n.textBorderColor,e.textStrokeWidth=A(t.getShallow("textBorderWidth"),n.textBorderWidth),i||(s&&(e.insideRollbackOpt=r,Qs(e)),null==e.textFill&&(e.textFill=r.autoColor)),e.fontStyle=t.getShallow("fontStyle")||n.fontStyle,e.fontWeight=t.getShallow("fontWeight")||n.fontWeight,e.fontSize=t.getShallow("fontSize")||n.fontSize,e.fontFamily=t.getShallow("fontFamily")||n.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),s&&r.disableBox||(e.textBackgroundColor=Ks(t.getShallow("backgroundColor"),r),e.textPadding=t.getShallow("padding"),e.textBorderColor=Ks(t.getShallow("borderColor"),r),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||n.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||n.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||n.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function Ks(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function Qs(e){var t,n=e.textPosition,r=e.insideRollbackOpt;if(r&&null==e.textFill){var i=r.autoColor,s=r.isRectText,o=r.useInsideStyle,u=o!==!1&&(o===!0||s&&n&&"string"==typeof n&&n.indexOf("inside")>=0),a=!u&&null!=i;(u||a)&&(t={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),u&&(e.textFill="#fff",null==e.textStroke&&(e.textStroke=i,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),a&&(e.textFill=i)}e.insideRollback=t}function Gs(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function Ys(e,t){var n=t&&t.getModel("textStyle");return P([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function Zs(e,t,n,r,i,s){"function"==typeof i&&(s=i,i=null);var o=r&&r.isAnimationEnabled();if(o){var u=e?"Update":"",a=r.getShallow("animationDuration"+u),f=r.getShallow("animationEasing"+u),l=r.getShallow("animationDelay"+u);"function"==typeof l&&(l=l(i,r.getAnimationDelayParams?r.getAnimationDelayParams(t,i):null)),"function"==typeof a&&(a=a(i)),a>0?t.animateTo(n,a,l||0,f,s,!!s):(t.stopAnimation(),t.attr(n),s&&s())}else t.stopAnimation(),t.attr(n),s&&s()}function eo(e,t,n,r,i){Zs(!0,e,t,n,r,i)}function to(e,t,n,r,i){Zs(!1,e,t,n,r,i)}function no(e,t){for(var n=Pt([]);e&&e!==t;)Bt(n,e.getLocalTransform(),n),e=e.parent;return n}function ro(e,t,n){return t&&!h(t)&&(t=xg.getLocalTransform(t)),n&&(t=qt([],t)),st([],e,t)}function io(e,t,n){var r=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),i=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),s=["left"===e?-r:"right"===e?r:0,"top"===e?-i:"bottom"===e?i:0];return s=ro(s,t,n),Math.abs(s[0])>Math.abs(s[1])?s[0]>0?"right":"left":s[1]>0?"bottom":"top"}function so(e,t,n){function r(e){var t={};return e.traverse(function(e){!e.isGroup&&e.anid&&(t[e.anid]=e)}),t}function i(e){var t={position:z(e.position),rotation:e.rotation};return e.shape&&(t.shape=o({},e.shape)),t}if(e&&t){var s=r(e);t.traverse(function(e){if(!e.isGroup&&e.anid){var t=s[e.anid];if(t){var r=i(e);e.attr(i(t)),eo(e,r,n,e.dataIndex)}}})}}function oo(e,t){return d(e,function(e){var n=e[0];n=Bw(n,t.x),n=jw(n,t.x+t.width);var r=e[1];return r=Bw(r,t.y),r=jw(r,t.y+t.height),[n,r]})}function uo(e,t){var n=Bw(e.x,t.x),r=jw(e.x+e.width,t.x+t.width),i=Bw(e.y,t.y),s=jw(e.y+e.height,t.y+t.height);return r>=n&&s>=i?{x:n,y:i,width:r-n,height:s-i}:void 0}function ao(e,t,n){t=o({rectHover:!0},t);var r=t.style={strokeNoScale:!0};return n=n||{x:-1,y:-1,width:2,height:2},e?0===e.indexOf("image://")?(r.image=e.slice(8),u(r,n),new Lr(t)):bs(e.replace("path://",""),t,n,"center"):void 0}function fo(e,t,n,r,i){for(var s=0,o=i[i.length-1];s<i.length;s++){var u=i[s];if(lo(e,t,n,r,u[0],u[1],o[0],o[1]))return!0;o=u}}function lo(e,t,n,r,i,s,o,u){var a=n-e,f=r-t,l=o-i,c=u-s,h=co(l,c,a,f);if(ho(h))return!1;var p=e-i,d=t-s,v=co(p,d,a,f)/h;if(0>v||v>1)return!1;var m=co(p,d,l,c)/h;return 0>m||m>1?!1:!0}function co(e,t,n,r){return e*r-n*t}function ho(e){return 1e-6>=e&&e>=-0.000001}function po(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}function vo(e,t,n){for(var r=0;r<t.length&&(!t[r]||(e=e&&"object"==typeof e?e[t[r]]:null,null!=e));r++);return null==e&&n&&(e=n.get(t)),e}function mo(e,t){var n=nE(e).getParent;return n?n.call(e,t):e.parentModel}function go(e){return[e||"",rE++,Math.random().toFixed(5)].join("_")}function yo(e){var t={};return e.registerSubTypeDefaulter=function(e,n){e=vi(e),t[e.main]=n},e.determineSubType=function(n,r){var i=r.type;if(!i){var s=vi(n).main;e.hasSubTypes(n)&&t[s]&&(i=t[s](r))}return i},e}function bo(e,t){function n(e){var n={},s=[];return p(e,function(o){var u=r(n,o),a=u.originalDeps=t(o),l=i(a,e);u.entryCount=l.length,0===u.entryCount&&s.push(o),p(l,function(e){f(u.predecessor,e)<0&&u.predecessor.push(e);var t=r(n,e);f(t.successor,e)<0&&t.successor.push(o)})}),{graph:n,noEntryList:s}}function r(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function i(e,t){var n=[];return p(e,function(e){f(t,e)>=0&&n.push(e)}),n}e.topologicalTravel=function(e,t,r,i){function s(e){a[e].entryCount--,0===a[e].entryCount&&f.push(e)}function o(e){l[e]=!0,s(e)}if(e.length){var u=n(t),a=u.graph,f=u.noEntryList,l={};for(p(e,function(e){l[e]=!0});f.length;){var c=f.pop(),h=a[c],d=!!l[c];d&&(r.call(i,c,h.originalDeps.slice()),delete l[c]),p(h.successor,d?o:s)}p(l,function(){throw new Error("Circle dependency may exists")})}}}function wo(e){return e.replace(/^\s+|\s+$/g,"")}function Eo(e,t,n,r){var i=t[1]-t[0],s=n[1]-n[0];if(0===i)return 0===s?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/i*s+n[0]}function So(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?wo(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?0/0:+e}function xo(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function To(e){return e.sort(function(e,t){return e-t}),e}function No(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Co(e){var t=e.toString(),n=t.indexOf("e");if(n>0){var r=+t.slice(n+1);return 0>r?-r:0}var i=t.indexOf(".");return 0>i?0:t.length-1-i}function ko(e,t){var n=Math.log,r=Math.LN10,i=Math.floor(n(e[1]-e[0])/r),s=Math.round(n(Math.abs(t[1]-t[0]))/r),o=Math.min(Math.max(-i+s,0),20);return isFinite(o)?o:20}function Lo(e,t,n){if(!e[t])return 0;var r=v(e,function(e,t){return e+(isNaN(t)?0:t)},0);if(0===r)return 0;for(var i=Math.pow(10,n),s=d(e,function(e){return(isNaN(e)?0:e)/r*i*100}),o=100*i,u=d(s,function(e){return Math.floor(e)}),a=v(u,function(e,t){return e+t},0),f=d(s,function(e,t){return e-u[t]});o>a;){for(var l=Number.NEGATIVE_INFINITY,c=null,h=0,p=f.length;p>h;++h)f[h]>l&&(l=f[h],c=h);++u[c],f[c]=0,++a}return u[t]/i}function Ao(e){var t=2*Math.PI;return(e%t+t)%t}function Oo(e){return e>-iE&&iE>e}function Mo(e){if(e instanceof Date)return e;if("string"==typeof e){var t=oE.exec(e);if(!t)return new Date(0/0);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return new Date(null==e?0/0:Math.round(e))}function _o(e){return Math.pow(10,Do(e))}function Do(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function Po(e,t){var n,r=Do(e),i=Math.pow(10,r),s=e/i;return n=t?1.5>s?1:2.5>s?2:4>s?3:7>s?5:10:1>s?1:2>s?2:3>s?3:5>s?5:10,e=n*i,r>=-20?+e.toFixed(0>r?-r:0):e}function Ho(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],s=n-r;return s?i+s*(e[r]-i):i}function Bo(e){function t(e,n,r){return e.interval[r]<n.interval[r]||e.interval[r]===n.interval[r]&&(e.close[r]-n.close[r]===(r?-1:1)||!r&&t(e,n,1))}e.sort(function(e,n){return t(e,n,0)?-1:1});for(var n=-1/0,r=1,i=0;i<e.length;){for(var s=e[i].interval,o=e[i].close,u=0;2>u;u++)s[u]<=n&&(s[u]=n,o[u]=u?1:1-r),n=s[u],r=o[u];s[0]===s[1]&&o[0]*o[1]!==1?e.splice(i,1):i++}return e}function jo(e){return e-parseFloat(e)>=0}function Fo(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:""))}function Io(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}function qo(e){return null==e?"":(e+"").replace(fE,function(e,t){return lE[t]})}function Ro(e,t,n){w(t)||(t=[t]);var r=t.length;if(!r)return"";for(var i=t[0].$vars||[],s=0;s<i.length;s++){var o=cE[s];e=e.replace(hE(o),hE(o,0))}for(var u=0;r>u;u++)for(var a=0;a<i.length;a++){var f=t[u][i[a]];e=e.replace(hE(cE[a],u),n?qo(f):f)}return e}function Uo(e,t,n){return p(t,function(t,r){e=e.replace("{"+r+"}",n?qo(t):t)}),e}function zo(e,t){e=S(e)?{color:e,extraCssText:t}:e||{};var n=e.color,r=e.type,t=e.extraCssText,i=e.renderMode||"html",s=e.markerId||"X";return n?"html"===i?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+qo(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+qo(n)+";"+(t||"")+'"></span>':{renderMode:i,content:"{marker"+s+"|}  ",style:{color:n}}:""}function Wo(e,t){return e+="","0000".substr(0,t-e.length)+e}function Xo(e,t,n){("week"===e||"month"===e||"quarter"===e||"half-year"===e||"year"===e)&&(e="MM-dd\nyyyy");var r=Mo(t),i=n?"UTC":"",s=r["get"+i+"FullYear"](),o=r["get"+i+"Month"]()+1,u=r["get"+i+"Date"](),a=r["get"+i+"Hours"](),f=r["get"+i+"Minutes"](),l=r["get"+i+"Seconds"](),c=r["get"+i+"Milliseconds"]();return e=e.replace("MM",Wo(o,2)).replace("M",o).replace("yyyy",s).replace("yy",s%100).replace("dd",Wo(u,2)).replace("d",u).replace("hh",Wo(a,2)).replace("h",a).replace("mm",Wo(f,2)).replace("m",f).replace("ss",Wo(l,2)).replace("s",l).replace("SSS",Wo(c,3))}function Vo(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}function $o(e){return Vn(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)}function Jo(e,t,n,r,i,s,o,u){return Vn(e,t,n,r,i,u,s,o)}function Ko(e,t){if("_blank"===t||"blank"===t){var n=window.open();n.opener=null,n.location=e}else window.open(e,t)}function Qo(e,t,n,r,i){var s=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var u=0;t.eachChild(function(a,f){var l,c,h=a.position,p=a.getBoundingRect(),d=t.childAt(f+1),v=d&&d.getBoundingRect();if("horizontal"===e){var m=p.width+(v?-v.x+p.x:0);l=s+m,l>r||a.newline?(s=0,l=m,o+=u+n,u=p.height):u=Math.max(u,p.height)}else{var g=p.height+(v?-v.y+p.y:0);c=o+g,c>i||a.newline?(s+=u+n,o=0,c=g,u=p.width):u=Math.max(u,p.width)}a.newline||(h[0]=s,h[1]=o,"horizontal"===e?s=l+n:o=c+n)})}function Go(e,t,n){n=aE(n||0);var r=t.width,i=t.height,s=So(e.left,r),o=So(e.top,i),u=So(e.right,r),a=So(e.bottom,i),f=So(e.width,r),l=So(e.height,i),c=n[2]+n[0],h=n[1]+n[3],p=e.aspect;switch(isNaN(f)&&(f=r-u-h-s),isNaN(l)&&(l=i-a-c-o),null!=p&&(isNaN(f)&&isNaN(l)&&(p>r/i?f=.8*r:l=.8*i),isNaN(f)&&(f=p*l),isNaN(l)&&(l=f/p)),isNaN(s)&&(s=r-u-f-h),isNaN(o)&&(o=i-a-l-c),e.left||e.right){case"center":s=r/2-f/2-n[3];break;case"right":s=r-f-h}switch(e.top||e.bottom){case"middle":case"center":o=i/2-l/2-n[0];break;case"bottom":o=i-l-c}s=s||0,o=o||0,isNaN(f)&&(f=r-h-s-(u||0)),isNaN(l)&&(l=i-c-o-(a||0));var d=new kn(s+n[3],o+n[0],f,l);return d.margin=n,d}function Yo(e,t,n,r,i){var s=!i||!i.hv||i.hv[0],o=!i||!i.hv||i.hv[1],a=i&&i.boundingMode||"all";if(s||o){var f;if("raw"===a)f="group"===e.type?new kn(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(f=e.getBoundingRect(),e.needLocalTransform()){var l=e.getLocalTransform();f=f.clone(),f.applyTransform(l)}t=Go(u({width:f.width,height:f.height},t),n,r);var c=e.position,h=s?t.x-f.x:0,p=o?t.y-f.y:0;e.attr("position","raw"===a?[h,p]:[c[0]+h,c[1]+p])}}function Zo(e,t,n){function r(n,r){var o={},a=0,f={},l=0,c=2;if(vE(n,function(t){f[t]=e[t]}),vE(n,function(e){i(t,e)&&(o[e]=f[e]=t[e]),s(o,e)&&a++,s(f,e)&&l++}),u[r])return s(t,n[1])?f[n[2]]=null:s(t,n[2])&&(f[n[1]]=null),f;if(l!==c&&a){if(a>=c)return o;for(var h=0;h<n.length;h++){var p=n[h];if(!i(o,p)&&i(e,p)){o[p]=e[p];break}}return o}return f}function i(e,t){return e.hasOwnProperty(t)}function s(e,t){return null!=e[t]&&"auto"!==e[t]}function o(e,t,n){vE(e,function(e){t[e]=n[e]})}!x(n)&&(n={});var u=n.ignoreSize;!w(u)&&(u=[u,u]);var a=r(gE[0],0),f=r(gE[1],1);o(gE[0],e,a),o(gE[1],e,f)}function eu(e){return tu({},e)}function tu(e,t){return t&&e&&vE(mE,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function nu(e){var t=[];return p(EE.getClassesByMainType(e),function(e){t=t.concat(e.prototype.dependencies||[])}),t=d(t,function(e){return vi(e).main}),"dataset"!==e&&f(t,"dataset")<=0&&t.unshift("dataset"),t}function ru(e,t){for(var n=e.length,r=0;n>r;r++)if(e[r].length>t)return e[r];return e[n-1]}function iu(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===AE?{}:[]),this.sourceFormat=e.sourceFormat||OE,this.seriesLayoutBy=e.seriesLayoutBy||_E,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&F(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}function su(e){var t=e.option.source,n=OE;if(N(t))n=ME;else if(w(t)){0===t.length&&(n=kE);for(var r=0,i=t.length;i>r;r++){var s=t[r];if(null!=s){if(w(s)){n=kE;break}if(x(s)){n=LE;break}}}}else if(x(t)){for(var o in t)if(t.hasOwnProperty(o)&&h(t[o])){n=AE;break}}else if(null!=t)throw new Error("Invalid data");HE(e).sourceFormat=n}function ou(e){return HE(e).source}function uu(e){HE(e).datasetMap=F()}function au(e){var t=e.option,n=t.data,r=N(n)?ME:CE,i=!1,s=t.seriesLayoutBy,o=t.sourceHeader,u=t.dimensions,a=vu(e);if(a){var f=a.option;n=f.source,r=HE(a).sourceFormat,i=!0,s=s||f.seriesLayoutBy,null==o&&(o=f.sourceHeader),u=u||f.dimensions}var l=fu(n,r,s,o,u);HE(e).source=new iu({data:n,fromDataset:i,seriesLayoutBy:s,sourceFormat:r,dimensionsDefine:l.dimensionsDefine,startIndex:l.startIndex,dimensionsDetectCount:l.dimensionsDetectCount,encodeDefine:t.encode})}function fu(e,t,n,r,i){if(!e)return{dimensionsDefine:lu(i)};var s,o;if(t===kE)"auto"===r||null==r?cu(function(e){null!=e&&"-"!==e&&(S(e)?null==o&&(o=1):o=0)},n,e,10):o=r?1:0,i||1!==o||(i=[],cu(function(e,t){i[t]=null!=e?e:""},n,e)),s=i?i.length:n===DE?e.length:e[0]?e[0].length:null;else if(t===LE)i||(i=hu(e));else if(t===AE)i||(i=[],p(e,function(e,t){i.push(t)}));else if(t===CE){var u=ni(e[0]);s=w(u)&&u.length||1}return{startIndex:o,dimensionsDefine:lu(i),dimensionsDetectCount:s}}function lu(e){if(e){var t=F();return d(e,function(e){if(e=o({},x(e)?e:{name:e}),null==e.name)return e;e.name+="",null==e.displayName&&(e.displayName=e.name);var n=t.get(e.name);return n?e.name+="-"+n.count++:t.set(e.name,{count:1}),e})}}function cu(e,t,n,r){if(null==r&&(r=1/0),t===DE)for(var i=0;i<n.length&&r>i;i++)e(n[i]?n[i][0]:null,i);else for(var s=n[0]||[],i=0;i<s.length&&r>i;i++)e(s[i],i)}function hu(e){for(var t,n=0;n<e.length&&!(t=e[n++]););if(t){var r=[];return p(t,function(e,t){r.push(t)}),r}}function pu(e,t,n){function r(e,t,n){for(var r=0;n>r;r++)e.push(t+r)}function i(e){var t=e.dimsDef;return t?t.length:1}var s={},o=vu(t);if(!o||!e)return s;var u,a,f=[],l=[],c=t.ecModel,h=HE(c).datasetMap,d=o.uid+"_"+n.seriesLayoutBy;e=e.slice(),p(e,function(t,n){!x(t)&&(e[n]={name:t}),"ordinal"===t.type&&null==u&&(u=n,a=i(e[n])),s[t.name]=[]});var v=h.get(d)||h.set(d,{categoryWayDim:a,valueWayDim:0});return p(e,function(e,t){var n=e.name,o=i(e);if(null==u){var a=v.valueWayDim;r(s[n],a,o),r(l,a,o),v.valueWayDim+=o}else if(u===t)r(s[n],0,o),r(f,0,o);else{var a=v.categoryWayDim;r(s[n],a,o),r(l,a,o),v.categoryWayDim+=o}}),f.length&&(s.itemName=f),l.length&&(s.seriesName=l),s}function du(e,t,n){var r={},i=vu(e);if(!i)return r;var s,o=t.sourceFormat,u=t.dimensionsDefine;(o===LE||o===AE)&&p(u,function(e,t){"name"===(x(e)?e.name:e)&&(s=t)});var a=function(){function e(e){return null!=e.v&&null!=e.n}for(var r={},i={},a=[],f=0,l=Math.min(5,n);l>f;f++){var c=gu(t.data,o,t.seriesLayoutBy,u,t.startIndex,f);a.push(c);var h=c===PE.Not;if(h&&null==r.v&&f!==s&&(r.v=f),(null==r.n||r.n===r.v||!h&&a[r.n]===PE.Not)&&(r.n=f),e(r)&&a[r.n]!==PE.Not)return r;h||(c===PE.Might&&null==i.v&&f!==s&&(i.v=f),(null==i.n||i.n===i.v)&&(i.n=f))}return e(r)?r:e(i)?i:null}();if(a){r.value=a.v;var f=null!=s?s:a.n;r.itemName=[f],r.seriesName=[f]}return r}function vu(e){var t=e.option,n=t.data;return n?void 0:e.ecModel.getComponent("dataset",t.datasetIndex||0)}function mu(e,t){return gu(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function gu(e,t,n,r,i,s){function o(e){var t=S(e);return null!=e&&isFinite(e)&&""!==e?t?PE.Might:PE.Not:t&&"-"!==e?PE.Must:void 0}var u,a=5;if(N(e))return PE.Not;var f,l;if(r){var c=r[s];x(c)?(f=c.name,l=c.type):S(c)&&(f=c)}if(null!=l)return"ordinal"===l?PE.Must:PE.Not;if(t===kE)if(n===DE){for(var h=e[s],p=0;p<(h||[]).length&&a>p;p++)if(null!=(u=o(h[i+p])))return u}else for(var p=0;p<e.length&&a>p;p++){var d=e[i+p];if(d&&null!=(u=o(d[s])))return u}else if(t===LE){if(!f)return PE.Not;for(var p=0;p<e.length&&a>p;p++){var v=e[p];if(v&&null!=(u=o(v[f])))return u}}else if(t===AE){if(!f)return PE.Not;var h=e[f];if(!h||N(h))return PE.Not;for(var p=0;p<h.length&&a>p;p++)if(null!=(u=o(h[p])))return u}else if(t===CE)for(var p=0;p<e.length&&a>p;p++){var v=e[p],m=ni(v);if(!w(m))return PE.Not;if(null!=(u=o(m[s])))return u}return PE.Not}function yu(e,t){if(t){var n=t.seiresIndex,r=t.seriesId,i=t.seriesName;return null!=n&&e.componentIndex!==n||null!=r&&e.id!==r||null!=i&&e.name!==i}}function bu(e,t){var n=e.color&&!e.colorLayer;p(t,function(t,s){"colorLayer"===s&&n||EE.hasClass(s)||("object"==typeof t?e[s]=e[s]?i(e[s],t,!1):r(t):null==e[s]&&(e[s]=t))})}function wu(e){e=e,this.option={},this.option[BE]=1,this._componentsMap=F({series:[]}),this._seriesIndices,this._seriesIndicesMap,bu(e,this._theme.option),i(e,xE,!1),this.mergeOption(e)}function Eu(e,t){w(t)||(t=t?[t]:[]);var n={};return p(t,function(t){n[t]=(e.get(t)||[]).slice()}),n}function Su(e,t,n){var r=t.type?t.type:n?n.subType:EE.determineSubType(e,t);return r}function xu(e,t){e._seriesIndicesMap=F(e._seriesIndices=d(t,function(e){return e.componentIndex})||[])}function Tu(e,t){return t.hasOwnProperty("subType")?m(e,function(e){return e.subType===t.subType}):e}function Nu(e){p(FE,function(t){this[t]=y(e[t],e)},this)}function Cu(){this._coordinateSystems=[]}function ku(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Lu(e,t,n){var r,i,s=[],o=[],u=e.timeline;if(e.baseOption&&(i=e.baseOption),(u||e.options)&&(i=i||{},s=(e.options||[]).slice()),e.media){i=i||{};var a=e.media;qE(a,function(e){e&&e.option&&(e.query?o.push(e):r||(r=e))})}return i||(i=e),i.timeline||(i.timeline=u),qE([i].concat(s).concat(d(o,function(e){return e.option})),function(e){qE(t,function(t){t(e,n)})}),{baseOption:i,timelineOptions:s,mediaDefault:r,mediaList:o}}function Au(e,t,n){var r={width:t,height:n,aspectratio:t/n},i=!0;return p(e,function(e,t){var n=t.match(WE);if(n&&n[1]&&n[2]){var s=n[1],o=n[2].toLowerCase();Ou(r[o],e,s)||(i=!1)}}),i}function Ou(e,t,n){return"min"===n?e>=t:"max"===n?t>=e:e===t}function Mu(e,t){return e.join(",")===t.join(",")}function _u(e,t){t=t||{},qE(t,function(t,n){if(null!=t){var r=e[n];if(EE.hasClass(n)){t=ei(t),r=ei(r);var i=ii(r,t);e[n]=UE(i,function(e){return e.option&&e.exist?zE(e.exist,e.option,!0):e.exist||e.option})}else e[n]=zE(r,t,!0)}})}function Du(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=$E.length;r>n;n++){var s=$E[n],o=t.normal,u=t.emphasis;o&&o[s]&&(e[s]=e[s]||{},e[s].normal?i(e[s].normal,o[s]):e[s].normal=o[s],o[s]=null),u&&u[s]&&(e[s]=e[s]||{},e[s].emphasis?i(e[s].emphasis,u[s]):e[s].emphasis=u[s],u[s]=null)}}function Pu(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,i=e[t].emphasis;r&&(n?(e[t].normal=e[t].emphasis=null,u(e[t],r)):e[t]=r),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i)}}function Hu(e){Pu(e,"itemStyle"),Pu(e,"lineStyle"),Pu(e,"areaStyle"),Pu(e,"label"),Pu(e,"labelLine"),Pu(e,"upperLabel"),Pu(e,"edgeLabel")}function Bu(e,t){var n=VE(e)&&e[t],r=VE(n)&&n.textStyle;if(r)for(var i=0,s=tb.length;s>i;i++){var t=tb[i];r.hasOwnProperty(t)&&(n[t]=r[t])}}function ju(e){e&&(Hu(e),Bu(e,"label"),e.emphasis&&Bu(e.emphasis,"label"))}function Fu(e){if(VE(e)){Du(e),Hu(e),Bu(e,"label"),Bu(e,"upperLabel"),Bu(e,"edgeLabel"),e.emphasis&&(Bu(e.emphasis,"label"),Bu(e.emphasis,"upperLabel"),Bu(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(Du(t),ju(t));var n=e.markLine;n&&(Du(n),ju(n));var r=e.markArea;r&&ju(r);var i=e.data;if("graph"===e.type){i=i||e.nodes;var s=e.links||e.edges;if(s&&!N(s))for(var o=0;o<s.length;o++)ju(s[o]);p(e.categories,function(e){Hu(e)})}if(i&&!N(i))for(var o=0;o<i.length;o++)ju(i[o]);var t=e.markPoint;if(t&&t.data)for(var u=t.data,o=0;o<u.length;o++)ju(u[o]);var n=e.markLine;if(n&&n.data)for(var a=n.data,o=0;o<a.length;o++)w(a[o])?(ju(a[o][0]),ju(a[o][1])):ju(a[o]);"gauge"===e.type?(Bu(e,"axisLabel"),Bu(e,"title"),Bu(e,"detail")):"treemap"===e.type?(Pu(e.breadcrumb,"itemStyle"),p(e.levels,function(e){Hu(e)})):"tree"===e.type&&Hu(e.leaves)}}function Iu(e){return w(e)?e:e?[e]:[]}function qu(e){return(w(e)?e[0]:e)||{}}function Ru(e,t){t=t.split(",");for(var n=e,r=0;r<t.length&&(n=n&&n[t[r]],null!=n);r++);return n}function Uu(e,t,n,r){t=t.split(",");for(var i,s=e,o=0;o<t.length-1;o++)i=t[o],null==s[i]&&(s[i]={}),s=s[i];(r||null==s[t[o]])&&(s[t[o]]=n)}function zu(e){p(KE,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}function Wu(e){p(e,function(t,n){var r=[],i=[0/0,0/0],s=[t.stackResultDimension,t.stackedOverDimension],o=t.data,u=t.isStackedByIndex,a=o.map(s,function(s,a,f){var l=o.get(t.stackedDimension,f);if(isNaN(l))return i;var c,h;u?h=o.getRawIndex(f):c=o.get(t.stackedByDimension,f);for(var p=0/0,d=n-1;d>=0;d--){var v=e[d];if(u||(h=v.data.rawIndexOf(v.stackedByDimension,c)),h>=0){var m=v.data.getByRawIndex(v.stackResultDimension,h);if(l>=0&&m>0||0>=l&&0>m){l+=m,p=m;break}}}return r[0]=l,r[1]=p,r});o.hostModel.setData(a),t.data=a})}function Xu(e,t){iu.isInstance(e)||(e=iu.seriesDataToSource(e)),this._source=e;var n=this._data=e.data,r=e.sourceFormat;r===ME&&(this._offset=0,this._dimSize=t,this._data=n);var i=eS[r===kE?r+"_"+e.seriesLayoutBy:r];o(this,i)}function Vu(){return this._data.length}function $u(e){return this._data[e]}function Ju(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}function Ku(e,t,n){return null!=n?e[n]:e}function Qu(e,t,n,r){return Gu(e[r],this._dimensionInfos[t])}function Gu(e,t){var n=t&&t.type;if("ordinal"===n){var r=t&&t.ordinalMeta;return r?r.parseAndCollect(e):e}return"time"===n&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+Mo(e)),null==e||""===e?0/0:+e}function Yu(e,t,n){if(e){var r=e.getRawDataItem(t);if(null!=r){var i,s,o=e.getProvider().getSource().sourceFormat,u=e.getDimensionInfo(n);return u&&(i=u.name,s=u.index),tS[o](r,t,s,i)}}}function Zu(e,t,n){if(e){var r=e.getProvider().getSource().sourceFormat;if(r===CE||r===LE){var i=e.getRawDataItem(t);return r!==CE||x(i)||(i=null),i?i[n]:void 0}}}function ea(e){return new ta(e)}function ta(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}function na(e,t,n,r,i,s){oS.reset(n,r,i,s),e._callingProgress=t,e._callingProgress({start:n,end:r,count:r-n,next:oS.next},e.context)}function ra(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null;var n,r;!t&&e._reset&&(n=e._reset(e.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),w(n)&&!n.length&&(n=null)),e._progress=n,e._modBy=e._modDataCount=null;var i=e._downstream;return i&&i.dirty(),r}function ia(e){var t=e.name;oi(e)||(e.name=sa(e)||t)}function sa(e){var t=e.getRawData(),n=t.mapDimension("seriesName",!0),r=[];return p(n,function(e){var n=t.getDimensionInfo(e);n.displayName&&r.push(n.displayName)}),r.join(" ")}function oa(e){return e.model.getRawData().count()}function ua(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),aa}function aa(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function fa(e,t){p(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,b(la,t))})}function la(e){var t=ca(e);t&&t.setOutputEnd(this.count())}function ca(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(e.uid))}return r}}function ha(){this.group=new Yg,this.uid=go("viewChart"),this.renderTask=ea({plan:va,reset:ma}),this.renderTask.context={view:this}}function pa(e,t,n){if(e&&(e.trigger(t,n),e.isGroup&&!qs(e)))for(var r=0,i=e.childCount();i>r;r++)pa(e.childAt(r),t,n)}function da(e,t,n){var r=ai(e,t),i=t&&null!=t.highlightKey?Rs(t.highlightKey):null;null!=r?p(ei(r),function(t){pa(e.getItemGraphicEl(t),n,i)}):e.eachItemGraphicEl(function(e){pa(e,n,i)})}function va(e){return pS(e.model)}function ma(e){var t=e.model,n=e.ecModel,r=e.api,i=e.payload,s=t.pipelineContext.progressiveRender,o=e.view,u=i&&hS(i).updateMethod,a=s?"incrementalPrepareRender":u&&o[u]?u:"render";return"render"!==a&&o[a](t,n,r,i),vS[a]}function ga(e,t,n){function r(){l=(new Date).getTime(),c=null,e.apply(o,u||[])}var i,s,o,u,a,f=0,l=0,c=null;t=t||0;var h=function(){i=(new Date).getTime(),o=this,u=arguments;var e=a||t,h=a||n;a=null,s=i-(h?f:l)-e,clearTimeout(c),h?c=setTimeout(r,e):s>=0?r():c=setTimeout(r,-s),f=i};return h.clear=function(){c&&(clearTimeout(c),c=null)},h.debounceNextCall=function(e){a=e},h}function ya(e,t,n,r){var i=e[t];if(i){var s=i[mS]||i,o=i[yS],u=i[gS];if(u!==n||o!==r){if(null==n||!r)return e[t]=s;i=e[t]=ga(s,n,"debounce"===r),i[mS]=s,i[yS]=r,i[gS]=n}return i}}function ba(e,t){var n=e[t];n&&n[mS]&&(e[t]=n[mS])}function wa(e,t,n,r){this.ecInstance=e,this.api=t,this.unfinished;var n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice();this._allHandlers=n.concat(r),this._stageTaskMap=F()}function Ea(e,t,n,r,i){function s(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}i=i||{};var o;p(t,function(t){if(!i.visualType||i.visualType===t.visualType){var u=e._stageTaskMap.get(t.uid),a=u.seriesTaskMap,f=u.overallTask;if(f){var l,c=f.agentStubMap;c.each(function(e){s(i,e)&&(e.dirty(),l=!0)}),l&&f.dirty(),NS(f,r);var h=e.getPerformArgs(f,i.block);c.each(function(e){e.perform(h)}),o|=f.perform(h)}else a&&a.each(function(u){s(i,u)&&u.dirty();var a=e.getPerformArgs(u,i.block);a.skip=!t.performRawSeries&&n.isSeriesFiltered(u.context.model),NS(u,r),o|=u.perform(a)})}}),e.unfinished|=o}function Sa(e,t,n,r,i){function s(n){var s=n.uid,u=o.get(s)||o.set(s,ea({plan:La,reset:Aa,count:Ma}));u.context={model:n,ecModel:r,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},_a(e,n,u)}var o=n.seriesTaskMap||(n.seriesTaskMap=F()),u=t.seriesType,a=t.getTargetSeries;t.createOnAllSeries?r.eachRawSeries(s):u?r.eachRawSeriesByType(u,s):a&&a(r,i).each(s);var f=e._pipelineMap;o.each(function(e,t){f.get(t)||(e.dispose(),o.removeKey(t))})}function xa(e,t,n,r,i){function s(t){var n=t.uid,r=u.get(n);r||(r=u.set(n,ea({reset:Na,onDirty:ka})),o.dirty()),r.context={model:t,overallProgress:l,modifyOutputEnd:c},r.agent=o,r.__block=l,_a(e,t,r)}var o=n.overallTask=n.overallTask||ea({reset:Ta});o.context={ecModel:r,api:i,overallReset:t.overallReset,scheduler:e};var u=o.agentStubMap=o.agentStubMap||F(),a=t.seriesType,f=t.getTargetSeries,l=!0,c=t.modifyOutputEnd;a?r.eachRawSeriesByType(a,s):f?f(r,i).each(s):(l=!1,p(r.getSeries(),s));var h=e._pipelineMap;u.each(function(e,t){h.get(t)||(e.dispose(),o.dirty(),u.removeKey(t))})}function Ta(e){e.overallReset(e.ecModel,e.api,e.payload)}function Na(e){return e.overallProgress&&Ca}function Ca(){this.agent.dirty(),this.getDownstream().dirty()}function ka(){this.agent&&this.agent.dirty()}function La(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function Aa(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=ei(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?d(t,function(e,t){return Oa(t)}):CS}function Oa(e){return function(t,n){var r=n.data,i=n.resetDefines[e];if(i&&i.dataEach)for(var s=t.start;s<t.end;s++)i.dataEach(r,s);else i&&i.progress&&i.progress(t,r)}}function Ma(e){return e.data.count()}function _a(e,t,n){var r=t.uid,i=e._pipelineMap.get(r);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i}function Da(e){kS=null;try{e(LS,AS)}catch(t){}return kS}function Pa(e,t){for(var n in t.prototype)e[n]=q}function Ha(e){if(S(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}function Ba(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function ja(e,t){for(var n=e.firstChild;n;){if(1===n.nodeType){var r=n.getAttribute("offset");r=r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var i=n.getAttribute("stop-color")||"#000000";t.addColorStop(r,i)}n=n.nextSibling}}function Fa(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),u(t.__inheritedStyle,e.__inheritedStyle))}function Ia(e){for(var t=P(e).split(jS),n=[],r=0;r<t.length;r+=2){var i=parseFloat(t[r]),s=parseFloat(t[r+1]);n.push([i,s])}return n}function qa(e,t,n,r){var i=t.__inheritedStyle||{},s="text"===t.type;if(1===e.nodeType&&(Ua(e,t),o(i,za(e)),!r))for(var u in qS)if(qS.hasOwnProperty(u)){var a=e.getAttribute(u);null!=a&&(i[qS[u]]=a)}var f=s?"textFill":"fill",l=s?"textStroke":"stroke";t.style=t.style||new uy;var c=t.style;null!=i.fill&&c.set(f,Ra(i.fill,n)),null!=i.stroke&&c.set(l,Ra(i.stroke,n)),p(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(e){var t="lineWidth"===e&&s?"textStrokeWidth":e;null!=i[e]&&c.set(t,parseFloat(i[e]))}),i.textBaseline&&"auto"!==i.textBaseline||(i.textBaseline="alphabetic"),"alphabetic"===i.textBaseline&&(i.textBaseline="bottom"),"start"===i.textAlign&&(i.textAlign="left"),"end"===i.textAlign&&(i.textAlign="right"),p(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(e){null!=i[e]&&c.set(e,i[e])}),i.lineDash&&(t.style.lineDash=P(i.lineDash).split(jS)),c[l]&&"none"!==c[l]&&(t[l]=!0),t.__inheritedStyle=i}function Ra(e,t){var n=t&&e&&e.match(RS);if(n){var r=P(n[1]),i=t[r];return i}return e}function Ua(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=null,i=[];n.replace(US,function(e,t,n){i.push(t,n)});for(var s=i.length-1;s>0;s-=2){var o=i[s],u=i[s-1];switch(r=r||Dt(),u){case"translate":o=P(o).split(jS),jt(r,r,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=P(o).split(jS),It(r,r,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=P(o).split(jS),Ft(r,r,parseFloat(o[0]));break;case"skew":o=P(o).split(jS),console.warn("Skew transform is not supported yet");break;case"matrix":var o=P(o).split(jS);r[0]=parseFloat(o[0]),r[1]=parseFloat(o[1]),r[2]=parseFloat(o[2]),r[3]=parseFloat(o[3]),r[4]=parseFloat(o[4]),r[5]=parseFloat(o[5])}}t.setLocalTransform(r)}}function za(e){var t=e.getAttribute("style"),n={};if(!t)return n;var r={};zS.lastIndex=0;for(var i;null!=(i=zS.exec(t));)r[i[1]]=i[2];for(var s in qS)qS.hasOwnProperty(s)&&null!=r[s]&&(n[qS[s]]=r[s]);return n}function Wa(e,t,n){var r=t/e.width,i=n/e.height,s=Math.min(r,i),o=[s,s],u=[-(e.x+e.width/2)*s+t/2,-(e.y+e.height/2)*s+n/2];return{scale:o,position:u}}function Xa(e,t){return function(n,r,i){(t||!this._disposed)&&(n=n&&n.toLowerCase(),og.prototype[e].call(this,n,r,i))}}function Va(){og.call(this)}function $a(e,t,n){function i(e,t){return e.__prio-t.__prio}n=n||{},"string"==typeof t&&(t=Cx[t]),this.id,this.group,this._dom=e;var s="canvas",o=this._zr=Kr(e,{renderer:n.renderer||s,devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=ga(y(o.flush,o),17);var t=r(t);t&&GE(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Cu;var u=this._api=hf(this);Hn(Nx,i),Hn(Sx,i),this._scheduler=new wa(this,u,Sx,Nx),og.call(this,this._ecEventProcessor=new pf),this._messageCenter=new Va,this._initEvents(),this.resize=y(this.resize,this),this._pendingActions=[],o.animation.on("frame",this._onframe,this),tf(o,this),H(this)}function Ja(e,t,n){if(!this._disposed){var r,i=this._model,s=this._coordSysMgr.getCoordinateSystems();t=li(i,t);for(var o=0;o<s.length;o++){var u=s[o];if(u[e]&&null!=(r=u[e](i,t,n)))return r}}}function Ka(e){var t=e._model,n=e._scheduler;n.restorePipelines(t),n.prepareStageTasks(),nf(e,"component",t,n),nf(e,"chart",t,n),n.plan()}function Qa(e,t,n,r,i){function s(r){r&&r.__alive&&r[t]&&r[t](r.__model,o,e._api,n)}var o=e._model;if(!r)return void JS(e._componentsViews.concat(e._chartsViews),s);var u={};u[r+"Id"]=n[r+"Id"],u[r+"Index"]=n[r+"Index"],u[r+"Name"]=n[r+"Name"];var a={mainType:r,query:u};i&&(a.subType=i);var f=n.excludeSeriesId;null!=f&&(f=F(ei(f))),o&&o.eachComponent(a,function(t){f&&null!=f.get(t.id)||s(e["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])},e)}function Ga(e,t){var n=e._chartsMap,r=e._scheduler;t.eachSeries(function(e){r.updateStreamModes(e,n[e.__viewId])})}function Ya(e,t){var n=e.type,r=e.escapeConnect,i=bx[n],s=i.actionInfo,a=(s.update||"update").split(":"),f=a.pop();a=null!=a[0]&&GS(a[0]),this[px]=!0;var l=[e],c=!1;e.batch&&(c=!0,l=d(e.batch,function(t){return t=u(o({},t),e),t.batch=null,t}));var h,p=[],v="highlight"===n||"downplay"===n;JS(l,function(e){h=i.action(e,this._model,this._api),h=h||o({},e),h.type=s.event||h.type,p.push(h),v?Qa(this,f,e,"series"):a&&Qa(this,f,e,a.main,a.sub)},this),"none"===f||v||a||(this[dx]?(Ka(this),gx.update.call(this,e),this[dx]=!1):gx[f].call(this,e)),h=c?{type:s.event||n,escapeConnect:r,batch:p}:p[0],this[px]=!1,!t&&this._messageCenter.trigger(h.type,h)}function Za(e){for(var t=this._pendingActions;t.length;){var n=t.shift();Ya.call(this,n,e)}}function ef(e){!e&&this.trigger("updated")}function tf(e,t){e.on("rendered",function(){t.trigger("rendered"),!e.animation.isFinished()||t[dx]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")})}function nf(e,t,n,r){function i(e){var t="_ec_"+e.id+"_"+e.type,i=u[t];if(!i){var l=GS(e.type),c=s?fS.getClass(l.main,l.sub):ha.getClass(l.sub);i=new c,i.init(n,f),u[t]=i,o.push(i),a.add(i.group)}e.__viewId=i.__id=t,i.__alive=!0,i.__model=e,i.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!s&&r.prepareView(i,e,n,f)}for(var s="component"===t,o=s?e._componentsViews:e._chartsViews,u=s?e._componentsMap:e._chartsMap,a=e._zr,f=e._api,l=0;l<o.length;l++)o[l].__alive=!1;s?n.eachComponent(function(e,t){"series"!==e&&i(t)}):n.eachSeries(i);for(var l=0;l<o.length;){var c=o[l];c.__alive?l++:(!s&&c.renderTask.dispose(),a.remove(c.group),c.dispose(n,f),o.splice(l,1),delete u[c.__id],c.__id=c.group.__ecComponentInfo=null)}}function rf(e){e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()})}function sf(e,t,n,r){of(e,t,n,r),JS(e._chartsViews,function(e){e.__alive=!1}),uf(e,t,n,r),JS(e._chartsViews,function(e){e.__alive||e.remove(t,n)})}function of(e,t,n,r,i){JS(i||e._componentsViews,function(e){var i=e.__model;e.render(i,t,n,r),cf(i,e)})}function uf(e,t,n,r,i){var s,o=e._scheduler;t.eachSeries(function(t){var n=e._chartsMap[t.__viewId];n.__alive=!0;var u=n.renderTask;o.updatePayload(u,r),i&&i.get(t.uid)&&u.dirty(),s|=u.perform(o.getPerformArgs(u)),n.group.silent=!!t.get("silent"),cf(t,n),lf(t,n)}),o.unfinished|=s,ff(e,t),ES(e._zr.dom,t)}function af(e,t){JS(Tx,function(n){n(e,t)})}function ff(e,t){var n=e._zr,r=n.storage,i=0;r.traverse(function(){i++}),i>t.get("hoverLayerThreshold")&&!Fm.node&&t.eachSeries(function(t){if(!t.preventUsingHoverLayer){var n=e._chartsMap[t.__viewId];n.__alive&&n.group.traverse(function(e){e.useHoverLayer=!0})}})}function lf(e,t){var n=e.get("blendMode")||null;t.group.traverse(function(e){e.isGroup||e.style.blend!==n&&e.setStyle("blend",n),e.eachPendingDisplayable&&e.eachPendingDisplayable(function(e){e.setStyle("blend",n)})})}function cf(e,t){var n=e.get("z"),r=e.get("zlevel");t.group.traverse(function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=r&&(e.zlevel=r))})}function hf(e){var t=e._coordSysMgr;return o(new Nu(e),{getCoordinateSystems:y(t.getCoordinateSystems,t),getComponentByElement:function(t){for(;t;){var n=t.__ecComponentInfo;if(null!=n)return e._model.getComponent(n.mainType,n.index);t=t.parent}}})}function pf(){this.eventInfo}function df(e){function t(e,t){for(var n=0;n<e.length;n++){var r=e[n];r[s]=t}}var n=0,r=1,i=2,s="__connectUpdateStatus";JS(Ex,function(o,u){e._messageCenter.on(u,function(o){if(Ax[e.group]&&e[s]!==n){if(o&&o.escapeConnect)return;var u=e.makeActionFromEvent(o),a=[];JS(Lx,function(t){t!==e&&t.group===e.group&&a.push(t)}),t(a,n),JS(a,function(e){e[s]!==r&&e.dispatchAction(u)}),t(a,i)}})})}function vf(e,t,n){var r=bf(e);if(r)return r;var i=new $a(e,t,n);return i.id="ec_"+Ox++,Lx[i.id]=i,hi(e,_x,i.id),df(i),i}function mf(e){if(w(e)){var t=e;e=null,JS(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+Mx++,JS(t,function(t){t.group=e})}return Ax[e]=!0,e}function gf(e){Ax[e]=!1}function yf(e){"string"==typeof e?e=Lx[e]:e instanceof $a||(e=bf(e)),e instanceof $a&&!e.isDisposed()&&e.dispose()}function bf(e){return Lx[pi(e,_x)]}function wf(e){return Lx[e]}function Ef(e,t){Cx[e]=t}function Sf(e){xx.push(e)}function xf(e,t){Of(Sx,e,t,tx)}function Tf(e){Tx.push(e)}function Nf(e,t,n){"function"==typeof t&&(n=t,t="");var r=QS(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,$S(vx.test(r)&&vx.test(t)),bx[r]||(bx[r]={action:n,actionInfo:e}),Ex[t]=r}function Cf(e,t){Cu.register(e,t)}function kf(e){var t=Cu.get(e);return t?t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice():void 0}function Lf(e,t){Of(Nx,e,t,sx,"layout")}function Af(e,t){Of(Nx,e,t,ax,"visual")}function Of(e,t,n,r,i){(KS(t)||QS(t))&&(n=t,t=r);var s=wa.wrapStageHandler(n,i);return s.__prio=t,s.__raw=n,e.push(s),s}function Mf(e,t){kx[e]=t}function _f(e){return EE.extend(e)}function Df(e){return fS.extend(e)}function Pf(e){return aS.extend(e)}function Hf(e){return ha.extend(e)}function Bf(e){n("createCanvas",e)}function jf(e,t,n){XS.registerMap(e,t,n)}function Ff(e){var t=XS.retrieveMap(e);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}}function If(e){return e}function qf(e,t,n,r,i){this._old=e,this._new=t,this._oldKeyGetter=n||If,this._newKeyGetter=r||If,this.context=i}function Rf(e,t,n,r,i){for(var s=0;s<e.length;s++){var o="_ec_"+i[r](e[s],s),u=t[o];null==u?(n.push(o),t[o]=s):(u.length||(t[o]=u=[u]),u.push(s))}}function Uf(e){var t={},n=t.encode={},r=F(),i=[],s=[],o=t.userOutput={dimensionNames:e.dimensions.slice(),encode:{}};p(e.dimensions,function(t){var u=e.getDimensionInfo(t),a=u.coordDim;if(a){var f=u.coordDimIndex;zf(n,a)[f]=t,u.isExtraCoord||(r.set(a,1),Xf(u.type)&&(i[0]=t),zf(o.encode,a)[f]=u.index),u.defaultTooltip&&s.push(t)}Hx.each(function(e,t){var r=zf(n,t),i=u.otherDims[t];null!=i&&i!==!1&&(r[i]=u.name)})});var u=[],a={};r.each(function(e,t){var r=n[t];a[t]=r[0],u=u.concat(r)}),t.dataDimsOnCoord=u,t.encodeFirstDimNotExtra=a;var f=n.label;f&&f.length&&(i=f.slice());var l=n.tooltip;return l&&l.length?s=l.slice():s.length||(s=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=s,t}function zf(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function Wf(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function Xf(e){return"ordinal"!==e&&"time"!==e}function Vf(e){null!=e&&o(this,e),this.otherDims={}}function $f(e){return e._rawCount>65535?Rx:zx}function Jf(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function Kf(e,t){p(Wx.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,p(Xx,function(n){e[n]=r(t[n])}),e._calculationInfo=o(t._calculationInfo)}function Qf(e,t,n,r,i){var s=qx[t.type],o=r-1,u=t.name,a=e[u][o];if(a&&a.length<n){for(var f=new s(Math.min(i-o*n,n)),l=0;l<a.length;l++)f[l]=a[
l];e[u][o]=f}for(var c=r*n;i>c;c+=n)e[u].push(new s(Math.min(i-c,n)))}function Gf(e){var t=e._invertedIndicesMap;p(t,function(n,r){var i=e._dimensionInfos[r],s=i.ordinalMeta;if(s){n=t[r]=new Ux(s.categories.length);for(var o=0;o<n.length;o++)n[o]=Fx;for(var o=0;o<e._count;o++)n[e.get(r,o)]=o}})}function Yf(e,t,n){var r;if(null!=t){var i=e._chunkSize,s=Math.floor(n/i),o=n%i,u=e.dimensions[t],a=e._storage[u][s];if(a){r=a[o];var f=e._dimensionInfos[u].ordinalMeta;f&&f.categories.length&&(r=f.categories[r])}}return r}function Zf(e){return e}function el(e){return e<this._count&&e>=0?this._indices[e]:-1}function tl(e,t){var n=e._idList[t];return null==n&&(n=Yf(e,e._idDimIdx,t)),null==n&&(n=Ix+t),n}function nl(e){return w(e)||(e=[e]),e}function rl(e,t){var n=e.dimensions,r=new Vx(d(n,e.getDimensionInfo,e),e.hostModel);Kf(r,e);for(var i=r._storage={},s=e._storage,o=0;o<n.length;o++){var u=n[o];s[u]&&(f(t,u)>=0?(i[u]=il(s[u]),r._rawExtent[u]=sl(),r._extent[u]=null):i[u]=s[u])}return r}function il(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=Jf(e[n]);return t}function sl(){return[1/0,-1/0]}function ol(e,t,n){function i(e,t,n){null!=Hx.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,f.set(t,!0))}iu.isInstance(t)||(t=iu.seriesDataToSource(t)),n=n||{},e=(e||[]).slice();for(var s=(n.dimsDef||[]).slice(),a=F(),f=F(),l=[],c=ul(t,e,s,n.dimCount),h=0;c>h;h++){var d=s[h]=o({},x(s[h])?s[h]:{name:s[h]}),v=d.name,m=l[h]=new Vf;null!=v&&null==a.get(v)&&(m.name=m.displayName=v,a.set(v,h)),null!=d.type&&(m.type=d.type),null!=d.displayName&&(m.displayName=d.displayName)}var g=n.encodeDef;!g&&n.encodeDefaulter&&(g=n.encodeDefaulter(t,c)),g=F(g),g.each(function(e,t){if(e=ei(e).slice(),1===e.length&&!S(e[0])&&e[0]<0)return void g.set(t,!1);var n=g.set(t,[]);p(e,function(e,r){S(e)&&(e=a.get(e)),null!=e&&c>e&&(n[r]=e,i(l[e],t,r))})});var y=0;p(e,function(e){var t,e,n,s;if(S(e))t=e,e={};else{t=e.name;var o=e.ordinalMeta;e.ordinalMeta=null,e=r(e),e.ordinalMeta=o,n=e.dimsDef,s=e.otherDims,e.name=e.coordDim=e.coordDimIndex=e.dimsDef=e.otherDims=null}var a=g.get(t);if(a!==!1){var a=ei(a);if(!a.length)for(var f=0;f<(n&&n.length||1);f++){for(;y<l.length&&null!=l[y].coordDim;)y++;y<l.length&&a.push(y++)}p(a,function(r,o){var a=l[r];if(i(u(a,e),t,o),null==a.name&&n){var f=n[o];!x(f)&&(f={name:f}),a.name=a.displayName=f.name,a.defaultTooltip=f.defaultTooltip}s&&u(a.otherDims,s)})}});var b=n.generateCoord,w=n.generateCoordCount,E=null!=w;w=b?w||1:0;for(var T=b||"value",N=0;c>N;N++){var m=l[N]=l[N]||new Vf,C=m.coordDim;null==C&&(m.coordDim=al(T,f,E),m.coordDimIndex=0,(!b||0>=w)&&(m.isExtraCoord=!0),w--),null==m.name&&(m.name=al(m.coordDim,a)),null!=m.type||mu(t,N,m.name)!==PE.Must&&(!m.isExtraCoord||null==m.otherDims.itemName&&null==m.otherDims.seriesName)||(m.type="ordinal")}return l}function ul(e,t,n,r){var i=Math.max(e.dimensionsDetectCount||1,t.length,n.length,r||0);return p(t,function(e){var t=e.dimsDef;t&&(i=Math.max(i,t.length))}),i}function al(e,t,n){if(n||null!=t.get(e)){for(var r=0;null!=t.get(e+r);)r++;e+=r}return t.set(e,!0),e}function fl(e){this.coordSysName=e,this.coordSysDims=[],this.axisMap=F(),this.categoryAxisMap=F(),this.firstCategoryDimIndex=null}function ll(e){var t=e.get("coordinateSystem"),n=new fl(t),r=Qx[t];return r?(r(e,n,n.axisMap,n.categoryAxisMap),n):void 0}function cl(e){return"category"===e.get("type")}function hl(e,t,n){n=n||{};var r,i,s,o,u=n.byIndex,a=n.stackedCoordDimension,f=!!e&&!!e.get("stack");if(p(t,function(e,n){S(e)&&(t[n]=e={name:e}),f&&!e.isExtraCoord&&(u||r||!e.ordinalMeta||(r=e),i||"ordinal"===e.type||"time"===e.type||a&&a!==e.coordDim||(i=e))}),!i||u||r||(u=!0),i){s="__\0ecstackresult",o="__\0ecstackedover",r&&(r.createInvertedIndices=!0);var l=i.coordDim,c=i.type,h=0;p(t,function(e){e.coordDim===l&&h++}),t.push({name:s,coordDim:l,coordDimIndex:h,type:c,isExtraCoord:!0,isCalculationCoord:!0}),h++,t.push({name:o,coordDim:o,coordDimIndex:h,type:c,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:i&&i.name,stackedByDimension:r&&r.name,isStackedByIndex:u,stackedOverDimension:o,stackResultDimension:s}}function pl(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function dl(e,t){return pl(e,t)?e.getCalculationInfo("stackResultDimension"):t}function vl(e,t,n){n=n||{},iu.isInstance(e)||(e=iu.seriesDataToSource(e));var r,i=t.get("coordinateSystem"),s=Cu.get(i),o=ll(t);o&&(r=d(o.coordSysDims,function(e){var t={name:e},n=o.axisMap.get(e);if(n){var r=n.get("type");t.type=Wf(r)}return t})),r||(r=s&&(s.getDimensionsInfo?s.getDimensionsInfo():s.dimensions.slice())||["x","y"]);var u,a,f=Kx(e,{coordDimensions:r,generateCoord:n.generateCoord,encodeDefaulter:n.useEncodeDefaulter?b(pu,r,t):null});o&&p(f,function(e,t){var n=e.coordDim,r=o.categoryAxisMap.get(n);r&&(null==u&&(u=t),e.ordinalMeta=r.getOrdinalMeta()),null!=e.otherDims.itemName&&(a=!0)}),a||null==u||(f[u].otherDims.itemName=0);var l=hl(t,f),c=new Vx(f,t);c.setCalculationInfo(l);var h=null!=u&&ml(e)?function(e,t,n,r){return r===u?n:this.defaultDimValueGetter(e,t,n,r)}:null;return c.hasItemOption=!1,c.initData(e,null,h),c}function ml(e){if(e.sourceFormat===CE){var t=gl(e.data||[]);return null!=t&&!w(ni(t))}}function gl(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}function yl(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function bl(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this._map}function wl(e){return e._map||(e._map=F(e.categories))}function El(e){return x(e)&&null!=e.value?e.value:e+""}function Sl(e,t,n,r){var i={},s=e[1]-e[0],o=i.interval=Po(s/t,!0);null!=n&&n>o&&(o=i.interval=n),null!=r&&o>r&&(o=i.interval=r);var u=i.intervalPrecision=xl(o),a=i.niceTickExtent=[eT(Math.ceil(e[0]/o)*o,u),eT(Math.floor(e[1]/o)*o,u)];return Nl(a,e),i}function xl(e){return Co(e)+2}function Tl(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function Nl(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Tl(e,0,t),Tl(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function Cl(e){return e.get("stack")||rT+e.seriesIndex}function kl(e){return e.dim+e.index}function Ll(e,t){var n=[];return t.eachSeriesByType(e,function(e){Pl(e)&&!Hl(e)&&n.push(e)}),n}function Al(e){var t={};p(e,function(e){var n=e.coordinateSystem,r=n.getBaseAxis();if("time"===r.type||"value"===r.type)for(var i=e.getData(),s=r.dim+"_"+r.index,o=i.mapDimension(r.dim),u=0,a=i.count();a>u;++u){var f=i.get(o,u);t[s]?t[s].push(f):t[s]=[f]}});var n=[];for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(i){i.sort(function(e,t){return e-t});for(var s=null,o=1;o<i.length;++o){var u=i[o]-i[o-1];u>0&&(s=null===s?u:Math.min(s,u))}n[r]=s}}return n}function Ol(e){var t=Al(e),n=[];return p(e,function(e){var r,i=e.coordinateSystem,s=i.getBaseAxis(),o=s.getExtent();if("category"===s.type)r=s.getBandWidth();else if("value"===s.type||"time"===s.type){var u=s.dim+"_"+s.index,a=t[u],f=Math.abs(o[1]-o[0]),l=s.scale.getExtent(),c=Math.abs(l[1]-l[0]);r=a?f/c*a:f}else{var h=e.getData();r=Math.abs(o[1]-o[0])/h.count()}var p=So(e.get("barWidth"),r),d=So(e.get("barMaxWidth"),r),v=So(e.get("barMinWidth")||1,r),m=e.get("barGap"),g=e.get("barCategoryGap");n.push({bandWidth:r,barWidth:p,barMaxWidth:d,barMinWidth:v,barGap:m,barCategoryGap:g,axisKey:kl(s),stackId:Cl(e)})}),Ml(n)}function Ml(e){var t={};p(e,function(e){var n=e.axisKey,r=e.bandWidth,i=t[n]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},s=i.stacks;t[n]=i;var o=e.stackId;s[o]||i.autoWidthCount++,s[o]=s[o]||{width:0,maxWidth:0};var u=e.barWidth;u&&!s[o].width&&(s[o].width=u,u=Math.min(i.remainedWidth,u),i.remainedWidth-=u);var a=e.barMaxWidth;a&&(s[o].maxWidth=a);var f=e.barMinWidth;f&&(s[o].minWidth=f);var l=e.barGap;null!=l&&(i.gap=l);var c=e.barCategoryGap;null!=c&&(i.categoryGap=c)});var n={};return p(t,function(e,t){n[t]={};var r=e.stacks,i=e.bandWidth,s=So(e.categoryGap,i),o=So(e.gap,1),u=e.remainedWidth,a=e.autoWidthCount,f=(u-s)/(a+(a-1)*o);f=Math.max(f,0),p(r,function(e){var t=e.maxWidth,n=e.minWidth;if(e.width){var r=e.width;t&&(r=Math.min(r,t)),n&&(r=Math.max(r,n)),e.width=r,u-=r+o*r,a--}else{var r=f;t&&r>t&&(r=Math.min(t,u)),n&&n>r&&(r=n),r!==f&&(e.width=r,u-=r+o*r,a--)}}),f=(u-s)/(a+(a-1)*o),f=Math.max(f,0);var l,c=0;p(r,function(e){e.width||(e.width=f),l=e,c+=e.width*(1+o)}),l&&(c-=l.width*o);var h=-c/2;p(r,function(e,r){n[t][r]=n[t][r]||{bandWidth:i,offset:h,width:e.width},h+=e.width*(1+o)})}),n}function _l(e,t,n){if(e&&t){var r=e[kl(t)];return null!=r&&null!=n&&(r=r[Cl(n)]),r}}function Dl(e,t){var n=Ll(e,t),r=Ol(n),i={};p(n,function(e){var t=e.getData(),n=e.coordinateSystem,s=n.getBaseAxis(),o=Cl(e),u=r[kl(s)][o],a=u.offset,f=u.width,l=n.getOtherAxis(s),c=e.get("barMinHeight")||0;i[o]=i[o]||[],t.setLayout({bandWidth:u.bandWidth,offset:a,size:f});for(var h=t.mapDimension(l.dim),p=t.mapDimension(s.dim),d=pl(t,h),v=l.isHorizontal(),m=Bl(s,l,d),g=0,y=t.count();y>g;g++){var b=t.get(h,g),w=t.get(p,g),E=b>=0?"p":"n",S=m;d&&(i[o][w]||(i[o][w]={p:m,n:m}),S=i[o][w][E]);var x,T,N,C;if(v){var k=n.dataToPoint([b,w]);x=S,T=k[1]+a,N=k[0]-m,C=f,Math.abs(N)<c&&(N=(0>N?-1:1)*c),isNaN(N)||d&&(i[o][w][E]+=N)}else{var k=n.dataToPoint([w,b]);x=k[0]+a,T=S,N=f,C=k[1]-m,Math.abs(C)<c&&(C=(0>=C?-1:1)*c),isNaN(C)||d&&(i[o][w][E]+=C)}t.setItemLayout(g,{x:x,y:T,width:N,height:C})}},this)}function Pl(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function Hl(e){return e.pipelineContext&&e.pipelineContext.large}function Bl(e,t){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}function jl(e,t){return wT(e,bT(t))}function Fl(e,t){var n,r,i,s=e.type,o=t.getMin(),u=t.getMax(),a=e.getExtent();"ordinal"===s?n=t.getCategories().length:(r=t.get("boundaryGap"),w(r)||(r=[r||0,r||0]),"boolean"==typeof r[0]&&(r=[0,0]),r[0]=So(r[0],1),r[1]=So(r[1],1),i=a[1]-a[0]||Math.abs(a[0])),"dataMin"===o?o=a[0]:"function"==typeof o&&(o=o({min:a[0],max:a[1]})),"dataMax"===u?u=a[1]:"function"==typeof u&&(u=u({min:a[0],max:a[1]}));var f=null!=o,l=null!=u;null==o&&(o="ordinal"===s?n?0:0/0:a[0]-r[0]*i),null==u&&(u="ordinal"===s?n?n-1:0/0:a[1]+r[1]*i),(null==o||!isFinite(o))&&(o=0/0),(null==u||!isFinite(u))&&(u=0/0),e.setBlank(k(o)||k(u)||"ordinal"===s&&!e.getOrdinalMeta().categories.length),t.getNeedCrossZero()&&(o>0&&u>0&&!f&&(o=0),0>o&&0>u&&!l&&(u=0));var c=t.ecModel;if(c&&"time"===s){var h,d=Ll("bar",c);if(p(d,function(e){h|=e.getBaseAxis()===t.axis}),h){var v=Ol(d),m=Il(o,u,t,v);o=m.min,u=m.max}}return{extent:[o,u],fixMin:f,fixMax:l}}function Il(e,t,n,r){var i=n.axis.getExtent(),s=i[1]-i[0],o=_l(r,n.axis);if(void 0===o)return{min:e,max:t};var u=1/0;p(o,function(e){u=Math.min(e.offset,u)});var a=-1/0;p(o,function(e){a=Math.max(e.offset+e.width,a)}),u=Math.abs(u),a=Math.abs(a);var f=u+a,l=t-e,c=1-(u+a)/s,h=l/c-l;return t+=h*(a/f),e-=h*(u/f),{min:e,max:t}}function ql(e,t){var n=Fl(e,t),r=n.extent,i=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase"));var s=e.type;e.setExtent(r[0],r[1]),e.niceExtent({splitNumber:i,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===s||"time"===s?t.get("minInterval"):null,maxInterval:"interval"===s||"time"===s?t.get("maxInterval"):null});var o=t.get("interval");null!=o&&e.setInterval&&e.setInterval(o)}function Rl(e,t){if(t=t||e.get("type"))switch(t){case"category":return new Zx(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new nT;default:return(yl.getClass(t)||nT).create(e)}}function Ul(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||0>n&&0>r)}function zl(e){var t=e.getLabelModel().get("formatter"),n="category"===e.type?e.scale.getExtent()[0]:null;return"string"==typeof t?t=function(t){return function(n){return n=e.scale.getLabel(n),t.replace("{value}",null!=n?n:"")}}(t):"function"==typeof t?function(r,i){return null!=n&&(i=r-n),t(Wl(e,r),i)}:function(t){return e.scale.getLabel(t)}}function Wl(e,t){return"category"===e.type?e.scale.getLabel(t):t}function Xl(e){var t=e.model,n=e.scale;if(t.get("axisLabel.show")&&!n.isBlank()){var r,i,s="category"===e.type,o=n.getExtent();s?i=n.count():(r=n.getTicks(),i=r.length);var u,a=e.getLabelModel(),f=zl(e),l=1;i>40&&(l=Math.ceil(i/40));for(var c=0;i>c;c+=l){var h=r?r[c]:o[0]+c,p=f(h),d=a.getTextRect(p),v=Vl(d,a.get("rotate")||0);u?u.union(v):u=v}return u}}function Vl(e,t){var n=t*Math.PI/180,r=e.plain(),i=r.width,s=r.height,o=i*Math.cos(n)+s*Math.sin(n),u=i*Math.sin(n)+s*Math.cos(n),a=new kn(r.x,r.y,o,u);return a}function $l(e){var t=e.get("interval");return null==t?"auto":t}function Jl(e){return"category"===e.type&&0===$l(e.getLabelModel())}function Kl(e,t){if("image"!==this.type){var n=this.style,r=this.shape;r&&"line"===r.symbolType?n.stroke=e:this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff"):(n.fill&&(n.fill=e),n.stroke&&(n.stroke=e)),this.dirty(!1)}}function Ql(e,t,n,r,i,s,o){var u=0===e.indexOf("empty");u&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var a;return a=0===e.indexOf("image://")?ws(e.slice(8),new kn(t,n,r,i),o?"center":"cover"):0===e.indexOf("path://")?bs(e.slice(7),{},new kn(t,n,r,i),o?"center":"cover"):new PT({shape:{symbolType:e,x:t,y:n,width:r,height:i}}),a.__isEmptyBrush=u,a.setColor=Kl,a.setColor(s),a}function Gl(e){return vl(e.getSource(),e)}function Yl(e,t){var n=t;po.isInstance(t)||(n=new po(t),c(n,CT));var r=Rl(n);return r.setExtent(e[0],e[1]),ql(r,n),r}function Zl(e){c(e,CT)}function ec(e,t){return Math.abs(e-t)<jT}function tc(e,t,n){var r=0,i=e[0];if(!i)return!1;for(var s=1;s<e.length;s++){var o=e[s];r+=Vi(i[0],i[1],o[0],o[1],t,n),i=o}var u=e[0];return ec(i[0],u[0])&&ec(i[1],u[1])||(r+=Vi(i[0],i[1],u[0],u[1],t,n)),0!==r}function nc(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var r=this.getBoundingRect();n=[r.x+r.width/2,r.y+r.height/2]}this.center=n}function rc(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;null==t&&(t=1024);for(var n=e.features,r=0;r<n.length;r++)for(var i=n[r],s=i.geometry,o=s.coordinates,u=s.encodeOffsets,a=0;a<o.length;a++){var f=o[a];if("Polygon"===s.type)o[a]=ic(f,u[a],t);else if("MultiPolygon"===s.type)for(var l=0;l<f.length;l++){var c=f[l];f[l]=ic(c,u[a][l],t)}}return e.UTF8Encoding=!1,e}function ic(e,t,n){for(var r=[],i=t[0],s=t[1],o=0;o<e.length;o+=2){var u=e.charCodeAt(o)-64,a=e.charCodeAt(o+1)-64;u=u>>1^-(1&u),a=a>>1^-(1&a),u+=i,a+=s,i=u,s=a,r.push([u/n,a/n])}return r}function sc(e){return"category"===e.type?uc(e):lc(e)}function oc(e,t){return"category"===e.type?fc(e,t):{ticks:e.scale.getTicks()}}function uc(e){var t=e.getLabelModel(),n=ac(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function ac(e,t){var n=cc(e,"labels"),r=$l(t),i=hc(n,r);if(i)return i;var s,o;return E(r)?s=yc(e,r):(o="auto"===r?dc(e):r,s=gc(e,o)),pc(n,r,{labels:s,labelCategoryInterval:o})}function fc(e,t){var n=cc(e,"ticks"),r=$l(t),i=hc(n,r);if(i)return i;var s,o;if((!t.get("show")||e.scale.isBlank())&&(s=[]),E(r))s=yc(e,r,!0);else if("auto"===r){var u=ac(e,e.getLabelModel());o=u.labelCategoryInterval,s=d(u.labels,function(e){return e.tickValue})}else o=r,s=gc(e,o,!0);return pc(n,r,{ticks:s,tickCategoryInterval:o})}function lc(e){var t=e.scale.getTicks(),n=zl(e);return{labels:d(t,function(t,r){return{formattedLabel:n(t,r),rawLabel:e.scale.getLabel(t),tickValue:t}})}}function cc(e,t){return IT(e)[t]||(IT(e)[t]=[])}function hc(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function pc(e,t,n){return e.push({key:t,value:n}),n}function dc(e){var t=IT(e).autoInterval;return null!=t?t:IT(e).autoInterval=e.calculateCategoryInterval()}function vc(e){var t=mc(e),n=zl(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,s=i.getExtent(),o=i.count();if(s[1]-s[0]<1)return 0;var u=1;o>40&&(u=Math.max(1,Math.floor(o/40)));for(var a=s[0],f=e.dataToCoord(a+1)-e.dataToCoord(a),l=Math.abs(f*Math.cos(r)),c=Math.abs(f*Math.sin(r)),h=0,p=0;a<=s[1];a+=u){var d=0,v=0,m=Vn(n(a),t.font,"center","top");d=1.3*m.width,v=1.3*m.height,h=Math.max(h,d,7),p=Math.max(p,v,7)}var g=h/l,y=p/c;isNaN(g)&&(g=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(g,y))),w=IT(e.model),E=e.getExtent(),S=w.lastAutoInterval,x=w.lastTickCount;return null!=S&&null!=x&&Math.abs(S-b)<=1&&Math.abs(x-o)<=1&&S>b&&w.axisExtend0===E[0]&&w.axisExtend1===E[1]?b=S:(w.lastTickCount=o,w.lastAutoInterval=b,w.axisExtend0=E[0],w.axisExtend1=E[1]),b}function mc(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function gc(e,t,n){function r(e){a.push(n?e:{formattedLabel:i(e),rawLabel:s.getLabel(e),tickValue:e})}var i=zl(e),s=e.scale,o=s.getExtent(),u=e.getLabelModel(),a=[],f=Math.max((t||0)+1,1),l=o[0],c=s.count();0!==l&&f>1&&c/f>2&&(l=Math.round(Math.ceil(l/f)*f));var h=Jl(e),p=u.get("showMinLabel")||h,d=u.get("showMaxLabel")||h;p&&l!==o[0]&&r(o[0]);for(var v=l;v<=o[1];v+=f)r(v);return d&&v-f!==o[1]&&r(o[1]),a}function yc(e,t,n){var r=e.scale,i=zl(e),s=[];return p(r.getTicks(),function(e){var o=r.getLabel(e);t(e,o)&&s.push(n?e:{formattedLabel:i(e),rawLabel:o,tickValue:e})}),s}function bc(e,t){var n=e[1]-e[0],r=t,i=n/r/2;e[0]+=i,e[1]-=i}function wc(e,t,n,r){function i(e,t){return e=xo(e),t=xo(t),h?e>t:t>e}var s=t.length;if(e.onBand&&!n&&s){var o,u,a=e.getExtent();if(1===s)t[0].coord=a[0],o=t[1]={coord:a[0]};else{var f=t[s-1].tickValue-t[0].tickValue,l=(t[s-1].coord-t[0].coord)/f;p(t,function(e){e.coord-=l/2});var c=e.scale.getExtent();u=1+c[1]-t[s-1].tickValue,o={coord:t[s-1].coord+l*u},t.push(o)}var h=a[0]>a[1];i(t[0].coord,a[0])&&(r?t[0].coord=a[0]:t.shift()),r&&i(a[0],t[0].coord)&&t.unshift({coord:a[0]}),i(a[1],o.coord)&&(r?o.coord=a[1]:t.pop()),r&&i(o.coord,a[1])&&t.push({coord:a[1]})}}function Ec(e){return this._axes[e]}function Sc(e){XT.call(this,e)}function xc(e,t){return t.type||(t.data?"category":"value")}function Tc(e,t){return e.getCoordSysModel()===t}function Nc(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}function Cc(e,t,n,r){function i(e){return e.dim+"_"+e.index}n.getAxesOnZeroOf=function(){return s?[s]:[]};var s,o=e[t],u=n.model,a=u.get("axisLine.onZero"),f=u.get("axisLine.onZeroAxisIndex");if(a){if(null!=f)kc(o[f])&&(s=o[f]);else for(var l in o)if(o.hasOwnProperty(l)&&kc(o[l])&&!r[i(o[l])]){s=o[l];break}s&&(r[i(s)]=!0)}}function kc(e){return e&&"category"!==e.type&&"time"!==e.type&&Ul(e)}function Lc(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return r-e+t}}function Ac(e){return d(eN,function(t){var n=e.getReferringComponents(t)[0];return n})}function Oc(e){return"cartesian2d"===e.get("coordinateSystem")}function Mc(e,t){var n=e.mapDimension("defaultedLabel",!0),r=n.length;if(1===r)return Yu(e,t,n[0]);if(r){for(var i=[],s=0;s<n.length;s++){var o=Yu(e,t,n[s]);i.push(o)}return i.join(" ")}}function _c(e,t,n,r,i,s){var o=n.getModel("label"),u=n.getModel("emphasis.label");Us(e,t,o,u,{labelFetcher:i,labelDataIndex:s,defaultText:Mc(i.getData(),s),isRectText:!0,autoColor:r}),Dc(e),Dc(t)}function Dc(e,t){"outside"===e.textPosition&&(e.textPosition=t)}function Pc(e,t,n){var r=e.getArea(),i=e.getBaseAxis().isHorizontal(),s=r.x,o=r.y,u=r.width,a=r.height,f=n.get("lineStyle.width")||2;s-=f/2,o-=f/2,u+=f,a+=f,s=Math.floor(s),u=Math.round(u);var l=new Nw({shape:{x:s,y:o,width:u,height:a}});return t&&(l.shape[i?"width":"height"]=0,to(l,{shape:{width:u,height:a}},n)),l}function Hc(e,t,n){var r=e.getArea(),i=new gw({shape:{cx:xo(e.cx,1),cy:xo(e.cy,1),r0:xo(r.r0,1),r:xo(r.r,1),startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});return t&&(i.shape.endAngle=r.startAngle,to(i,{shape:{endAngle:r.endAngle}},n)),i}function Bc(e,t,n){return e?"polar"===e.type?Hc(e,t,n):"cartesian2d"===e.type?Pc(e,t,n):null:null}function jc(e,t){var n=e.getArea&&e.getArea();if("cartesian2d"===e.type){var r=e.getBaseAxis();if("category"!==r.type||!r.onBand){var i=t.getLayout("bandWidth");r.isHorizontal()?(n.x-=i,n.width+=2*i):(n.y-=i,n.height+=2*i)}}return n}function Fc(e,t,n){n.style.text=null,eo(n,{shape:{width:0}},t,e,function(){n.parent&&n.parent.remove(n)})}function Ic(e,t,n){n.style.text=null,eo(n,{shape:{r:n.shape.r0}},t,e,function(){n.parent&&n.parent.remove(n)})}function qc(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function Rc(e,t,n,r,i,s,o,a){var f=t.getItemVisual(n,"color"),l=t.getItemVisual(n,"opacity"),c=t.getVisual("borderColor"),h=r.getModel("itemStyle"),p=r.getModel("emphasis.itemStyle").getBarItemStyle();a||e.setShape("r",h.get("barBorderRadius")||0),e.useStyle(u({stroke:qc(i)?"none":c,fill:qc(i)?"none":f,opacity:l},h.getBarItemStyle()));var d=r.getShallow("cursor");d&&e.attr("cursor",d);var v=o?i.height>0?"bottom":"top":i.width>0?"left":"right";a||_c(e.style,p,r,f,s,n,v),qc(i)&&(p.fill=p.stroke="none"),Fs(e,p)}function Uc(e,t){var n=e.get(sN)||0,r=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,r,i)}function zc(e,t,n){var r=e.getData(),i=[],s=r.getLayout("valueAxisHorizontal")?1:0;i[1-s]=r.getLayout("valueAxisStart");var o=r.getLayout("largeDataIndices"),u=r.getLayout("barWidth"),a=e.getModel("backgroundStyle"),f=e.get("showBackground",!0);if(f){var l=r.getLayout("largeBackgroundPoints"),c=[];c[1-s]=r.getLayout("backgroundStart");var h=new hN({shape:{points:l},incremental:!!n,__startPoint:c,__baseDimIdx:s,__largeDataIndices:o,__barWidth:u,silent:!0,z2:0});Vc(h,a,r),t.add(h)}var p=new hN({shape:{points:r.getLayout("largePoints")},incremental:!!n,__startPoint:i,__baseDimIdx:s,__largeDataIndices:o,__barWidth:u});t.add(p),Xc(p,e,r),p.seriesIndex=e.seriesIndex,e.get("silent")||(p.on("mousedown",pN),p.on("mousemove",pN))}function Wc(e,t,n){var r=e.__baseDimIdx,i=1-r,s=e.shape.points,o=e.__largeDataIndices,u=Math.abs(e.__barWidth/2),a=e.__startPoint[i];oN[0]=t,oN[1]=n;for(var f=oN[r],l=oN[1-r],c=f-u,h=f+u,p=0,d=s.length/2;d>p;p++){var v=2*p,m=s[v+r],g=s[v+i];if(m>=c&&h>=m&&(g>=a?l>=a&&g>=l:l>=g&&a>=l))return o[p]}return-1}function Xc(e,t,n){var r=n.getVisual("borderColor")||n.getVisual("color"),i=t.getModel("itemStyle").getItemStyle(["color","borderColor"]);e.useStyle(i),e.style.fill=null,e.style.stroke=r,e.style.lineWidth=n.getLayout("barWidth")}function Vc(e,t,n){var r=t.get("borderColor")||t.get("color"),i=t.getItemStyle(["color","borderColor"]);e.useStyle(i),e.style.fill=null,e.style.stroke=r,e.style.lineWidth=n.getLayout("barWidth")}function $c(e,t,n){var r,i="polar"===n.type;return r=i?n.getArea():n.grid.getRect(),i?{cx:r.cx,cy:r.cy,r0:e?r.r0:t.r0,r:e?r.r:t.r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}:{x:e?t.x:r.x,y:e?r.y:t.y,width:e?t.width:r.width,height:e?r.height:t.height}}function Jc(e,t,n){var r="polar"===e.type?gw:Nw;return new r({shape:$c(t,n,e),silent:!0,z2:0})}function Kc(e,t,n,r){var i,s,o=Ao(n-e.rotation),u=r[0]>r[1],a="start"===t&&!u||"start"!==t&&u;return Oo(o-dN/2)?(s=a?"bottom":"top",i="center"):Oo(o-1.5*dN)?(s=a?"top":"bottom",i="center"):(s="middle",i=1.5*dN>o&&o>dN/2?a?"left":"right":a?"right":"left"),{rotation:o,textAlign:i,textVerticalAlign:s}}function Qc(e,t,n){if(!Jl(e.axis)){var r=e.get("axisLabel.showMinLabel"),i=e.get("axisLabel.showMaxLabel");t=t||[],n=n||[];var s=t[0],o=t[1],u=t[t.length-1],a=t[t.length-2],f=n[0],l=n[1],c=n[n.length-1],h=n[n.length-2];r===!1?(Gc(s),Gc(f)):Yc(s,o)&&(r?(Gc(o),Gc(l)):(Gc(s),Gc(f))),i===!1?(Gc(u),Gc(c)):Yc(a,u)&&(i?(Gc(a),Gc(h)):(Gc(u),Gc(c)))}}function Gc(e){e&&(e.ignore=!0)}function Yc(e,t){var n=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(n&&r){var i=Pt([]);return Ft(i,i,-e.rotation),n.applyTransform(Bt([],i,e.getLocalTransform())),r.applyTransform(Bt([],i,t.getLocalTransform())),n.intersect(r)}}function Zc(e){return"middle"===e||"center"===e}function eh(e,t,n,r,i){for(var s=[],o=[],u=[],a=0;a<e.length;a++){var f=e[a].coord;o[0]=f,o[1]=0,u[0]=f,u[1]=n,t&&(st(o,o,t),st(u,u,t));var l=new kw({anid:i+"_"+e[a].tickValue,subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:u[0],y2:u[1]},style:r,z2:2,silent:!0});s.push(l)}return s}function th(e,t,n){var r=t.axis,i=t.getModel("axisTick");if(i.get("show")&&!r.scale.isBlank()){for(var s=i.getModel("lineStyle"),o=n.tickDirection*i.get("length"),a=r.getTicksCoords(),f=eh(a,e._transform,o,u(s.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),"ticks"),l=0;l<f.length;l++)e.group.add(f[l]);return f}}function nh(e,t,n){var r=t.axis,i=t.getModel("minorTick");if(i.get("show")&&!r.scale.isBlank()){var s=r.getMinorTicksCoords();if(s.length)for(var o=i.getModel("lineStyle"),a=n.tickDirection*i.get("length"),f=u(o.getLineStyle(),u(t.getModel("axisTick").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})),l=0;l<s.length;l++)for(var c=eh(s[l],e._transform,a,f,"minorticks_"+l),h=0;h<c.length;h++)e.group.add(c[h])}}function rh(e,t,n){var r=t.axis,i=L(n.axisLabelShow,t.get("axisLabel.show"));if(i&&!r.scale.isBlank()){var s=t.getModel("axisLabel"),o=s.get("margin"),u=r.getViewLabels(),a=(L(n.labelRotate,s.get("rotate"))||0)*dN/180,f=yN(n.rotation,a,n.labelDirection),l=t.getCategories&&t.getCategories(!0),c=[],h=bN(t),d=t.get("triggerEvent");return p(u,function(i,u){var a=i.tickValue,p=i.formattedLabel,v=i.rawLabel,m=s;l&&l[a]&&l[a].textStyle&&(m=new po(l[a].textStyle,s,t.ecModel));var g=m.getTextColor()||t.get("axisLine.lineStyle.color"),y=r.dataToCoord(a),b=[y,n.labelOffset+n.labelDirection*o],w=new pw({anid:"label_"+a,position:b,rotation:f.rotation,silent:h,z2:10});Ws(w.style,m,{text:p,textAlign:m.getShallow("align",!0)||f.textAlign,textVerticalAlign:m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||f.textVerticalAlign,textFill:"function"==typeof g?g("category"===r.type?v:"value"===r.type?a+"":a,u):g}),d&&(w.eventData=gN(t),w.eventData.targetType="axisLabel",w.eventData.value=v),e._dumbGroup.add(w),w.updateTransform(),c.push(w),e.group.add(w),w.decomposeTransform()}),c}}function ih(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return sh(n,e,t),n.seriesInvolved&&uh(n,e),n}function sh(e,t,n){var r=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),s=i.get("link",!0)||[],o=[];wN(n.getCoordinateSystems(),function(n){function u(r,u,a){var l=a.model.getModel("axisPointer",i),h=l.get("show");if(h&&("auto"!==h||r||ph(l))){null==u&&(u=l.get("triggerTooltip")),l=r?oh(a,c,i,t,r,u):l;var p=l.get("snap"),d=dh(a.model),v=u||p||"category"===a.type,m=e.axesInfo[d]={key:d,axis:a,coordSys:n,axisPointerModel:l,triggerTooltip:u,involveSeries:v,snap:p,useHandle:ph(l),seriesModels:[]};f[d]=m,e.seriesInvolved|=v;var g=ah(s,a);if(null!=g){var y=o[g]||(o[g]={axesInfo:{}});y.axesInfo[d]=m,y.mapper=s[g].mapper,m.linkGroup=y}}}if(n.axisPointerEnabled){var a=dh(n.model),f=e.coordSysAxesInfo[a]={};e.coordSysMap[a]=n;var l=n.model,c=l.getModel("tooltip",r);if(wN(n.getAxes(),EN(u,!1,null)),n.getTooltipAxes&&r&&c.get("show")){var h="axis"===c.get("trigger"),p="cross"===c.get("axisPointer.type"),d=n.getTooltipAxes(c.get("axisPointer.axis"));(h||p)&&wN(d.baseAxes,EN(u,p?"cross":!0,h)),p&&wN(d.otherAxes,EN(u,"cross",!1))}}})}function oh(e,t,n,i,s,o){var a=t.getModel("axisPointer"),f={};wN(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(e){f[e]=r(a.get(e))}),f.snap="category"!==e.type&&!!o,"cross"===a.get("type")&&(f.type="line");var l=f.label||(f.label={});if(null==l.show&&(l.show=!1),"cross"===s){var c=a.get("label.show");if(l.show=null!=c?c:!0,!o){var h=f.lineStyle=a.get("crossStyle");h&&u(l,h.textStyle)}}return e.model.getModel("axisPointer",new po(f,n,i))}function uh(e,t){t.eachSeries(function(t){var n=t.coordinateSystem,r=t.get("tooltip.trigger",!0),i=t.get("tooltip.show",!0);n&&"none"!==r&&r!==!1&&"item"!==r&&i!==!1&&t.get("axisPointer.show",!0)!==!1&&wN(e.coordSysAxesInfo[dh(n.model)],function(e){var r=e.axis;n.getAxis(r.dim)===r&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())})},this)}function ah(e,t){for(var n=t.model,r=t.dim,i=0;i<e.length;i++){var s=e[i]||{};if(fh(s[r+"AxisId"],n.id)||fh(s[r+"AxisIndex"],n.componentIndex)||fh(s[r+"AxisName"],n.name))return i}}function fh(e,t){return"all"===e||w(e)&&f(e,t)>=0||e===t}function lh(e){var t=ch(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,i=n.option,s=n.get("status"),o=n.get("value");null!=o&&(o=r.parse(o));var u=ph(n);null==s&&(i.status=u?"show":"hide");var a=r.getExtent().slice();a[0]>a[1]&&a.reverse(),(null==o||o>a[1])&&(o=a[1]),o<a[0]&&(o=a[0]),i.value=o,u&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function ch(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[dh(e)]}function hh(e){var t=ch(e);return t&&t.axisPointerModel}function ph(e){return!!e.get("handle.show")}function dh(e){return e.type+"||"+e.id}function vh(e,t,n,r,i,s){var o=SN.getAxisPointerClass(e.axisPointerClass);if(o){var u=hh(t);u?(e._axisPointer||(e._axisPointer=new o)).render(t,u,r,s):mh(e,r)}}function mh(e,t,n){var r=e._axisPointer;r&&r.dispose(t,n),e._axisPointer=null}function gh(e,t,n){n=n||{};var r=e.coordinateSystem,i=t.axis,s={},o=i.getAxesOnZeroOf()[0],u=i.position,a=o?"onZero":u,f=i.dim,l=r.getRect(),c=[l.x,l.x+l.width,l.y,l.y+l.height],h={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,d="x"===f?[c[2]-p,c[3]+p]:[c[0]-p,c[1]+p];if(o){var v=o.toGlobalCoord(o.dataToCoord(0));d[h.onZero]=Math.max(Math.min(v,d[1]),d[0])}s.position=["y"===f?d[h[a]]:c[0],"x"===f?d[h[a]]:c[3]],s.rotation=Math.PI/2*("x"===f?0:1);var m={top:-1,bottom:1,left:-1,right:1};s.labelDirection=s.tickDirection=s.nameDirection=m[u],s.labelOffset=o?d[h[u]]-d[h.onZero]:0,t.get("axisTick.inside")&&(s.tickDirection=-s.tickDirection),L(n.labelInside,t.get("axisLabel.inside"))&&(s.labelDirection=-s.labelDirection);var g=t.get("axisLabel.rotate");return s.labelRotate="top"===a?-g:g,s.z2=1,s}function yh(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var s=n.getModel("splitArea"),o=s.getModel("areaStyle"),a=o.get("color"),f=r.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:s,clamp:!0});if(l.length){var c=a.length,h=e.__splitAreaColors,p=F(),d=0;if(h)for(var v=0;v<l.length;v++){var m=h.get(l[v].tickValue);if(null!=m){d=(m+(c-1)*v)%c;break}}var g=i.toGlobalCoord(l[0].coord),y=o.getAreaStyle();a=w(a)?a:[a];for(var v=1;v<l.length;v++){var b,E,S,x,T=i.toGlobalCoord(l[v].coord);i.isHorizontal()?(b=g,E=f.y,S=T-b,x=f.height,g=b+S):(b=f.x,E=g,S=f.width,x=T-E,g=E+x);var N=l[v-1].tickValue;null!=N&&p.set(N,d),t.add(new Nw({anid:null!=N?"area_"+N:null,shape:{x:b,y:E,width:S,height:x},style:u({fill:a[d]},y),silent:!0})),d=(d+1)%c}e.__splitAreaColors=p}}}function bh(e){e.__splitAreaColors=null}function wh(e,t,n){Yg.call(this),this.updateData(e,t,n)}function Eh(e){return[e[0]/2,e[1]/2]}function Sh(e,t){this.parent.drift(e,t)}function xh(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var n=this.__symbolOriginalScale,r=n[1]/n[0],i={scale:[Math.max(1.1*n[0],n[0]+3),Math.max(1.1*n[1],n[1]+3*r)]};this.animateTo(i,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function Th(e){this.group=new Yg,this._symbolCtor=e||wh}function Nh(e,t,n,r){return!(!t||isNaN(t[0])||isNaN(t[1])||r.isIgnore&&r.isIgnore(n)||r.clipShape&&!r.clipShape.contain(t[0],t[1])||"none"===e.getItemVisual(n,"symbol"))}function Ch(e){return null==e||x(e)||(e={isIgnore:e}),e||{}}function kh(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}function Lh(e,t,n){var r,i=e.getBaseAxis(),s=e.getOtherAxis(i),o=Ah(s,n),u=i.dim,a=s.dim,f=t.mapDimension(a),l=t.mapDimension(u),c="x"===a||"radius"===a?1:0,h=d(e.dimensions,function(e){return t.mapDimension(e)}),p=t.getCalculationInfo("stackResultDimension");return(r|=pl(t,h[0]))&&(h[0]=p),(r|=pl(t,h[1]))&&(h[1]=p),{dataDimsForPoint:h,valueStart:o,valueAxisDim:a,baseAxisDim:u,stacked:!!r,valueDim:f,baseDim:l,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Ah(e,t){var n=0,r=e.scale.getExtent();return"start"===t?n=r[0]:"end"===t?n=r[1]:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function Oh(e,t,n,r){var i=0/0;e.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=e.valueStart);var s=e.baseDataOffset,o=[];return o[s]=n.get(e.baseDim,r),o[1-s]=i,t.dataToPoint(o)}function Mh(e,t){var n=[];return t.diff(e).add(function(e){n.push({cmd:"+",idx:e})}).update(function(e,t){n.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){n.push({cmd:"-",idx:e})}).execute(),n}function _h(e){return isNaN(e[0])||isNaN(e[1])}function Dh(e,t,n,r,i,s,o,u,a,f){return"none"!==f&&f?Ph.apply(this,arguments):Hh.apply(this,arguments)}function Ph(e,t,n,r,i,s,o,u,a,f,l){for(var c=0,h=n,p=0;r>p;p++){var d=t[h];if(h>=i||0>h)break;if(_h(d)){if(l){h+=s;continue}break}if(h===n)e[s>0?"moveTo":"lineTo"](d[0],d[1]);else if(a>0){var v=t[c],m="y"===f?1:0,g=(d[m]-v[m])*a;FN(qN,v),qN[m]=v[m]+g,FN(RN,d),RN[m]=d[m]-g,e.bezierCurveTo(qN[0],qN[1],RN[0],RN[1],d[0],d[1])}else e.lineTo(d[0],d[1]);c=h,h+=s}return p}function Hh(e,t,n,r,i,s,o,u,a,f,l){for(var c=0,h=n,p=0;r>p;p++){var d=t[h];if(h>=i||0>h)break;if(_h(d)){if(l){h+=s;continue}break}if(h===n)e[s>0?"moveTo":"lineTo"](d[0],d[1]),FN(qN,d);else if(a>0){var v=h+s,m=t[v];if(l)for(;m&&_h(t[v]);)v+=s,m=t[v];var g=.5,y=t[c],m=t[v];if(!m||_h(m))FN(RN,d);else{_h(m)&&!l&&(m=d),$(IN,m,y);var b,w;if("x"===f||"y"===f){var E="x"===f?0:1;b=Math.abs(d[E]-y[E]),w=Math.abs(d[E]-m[E])}else b=ng(d,y),w=ng(d,m);g=w/(w+b),jN(RN,d,IN,-a*(1-g))}HN(qN,qN,u),BN(qN,qN,o),HN(RN,RN,u),BN(RN,RN,o),e.bezierCurveTo(qN[0],qN[1],RN[0],RN[1],d[0],d[1]),jN(qN,d,IN,a*g)}else e.lineTo(d[0],d[1]);c=h,h+=s}return p}function Bh(e,t){var n=[1/0,1/0],r=[-1/0,-1/0];if(t)for(var i=0;i<e.length;i++){var s=e[i];s[0]<n[0]&&(n[0]=s[0]),s[1]<n[1]&&(n[1]=s[1]),s[0]>r[0]&&(r[0]=s[0]),s[1]>r[1]&&(r[1]=s[1])}return{min:t?n:r,max:t?r:n}}function jh(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r[0]!==i[0]||r[1]!==i[1])return}return!0}}function Fh(e,t){var n=[],r=[],i=[],s=[];return Bi(e,n,r),Bi(t,i,s),Math.max(Math.abs(n[0]-i[0]),Math.abs(n[1]-i[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function Ih(e){return"number"==typeof e?e:e?.5:0}function qh(e,t,n){if(!n.valueDim)return[];for(var r=[],i=0,s=t.count();s>i;i++)r.push(Oh(n,e,t,i));return r}function Rh(e,t,n){for(var r=t.getBaseAxis(),i="x"===r.dim||"radius"===r.dim?0:1,s=[],o=0;o<e.length-1;o++){var u=e[o+1],a=e[o];s.push(a);var f=[];switch(n){case"end":f[i]=u[i],f[1-i]=a[1-i],s.push(f);break;case"middle":var l=(a[i]+u[i])/2,c=[];f[i]=c[i]=l,f[1-i]=a[1-i],c[1-i]=u[1-i],s.push(f),s.push(c);break;default:f[i]=a[i],f[1-i]=u[1-i],s.push(f)}}return e[o]&&s.push(e[o]),s}function Uh(e,t){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()&&"cartesian2d"===t.type){for(var r,i,s=n.length-1;s>=0;s--){var o=n[s].dimension,u=e.dimensions[o],a=e.getDimensionInfo(u);if(r=a&&a.coordDim,"x"===r||"y"===r){i=n[s];break}}if(i){var f=t.getAxis(r),l=d(i.stops,function(e){return{coord:f.toGlobalCoord(f.dataToCoord(e.value)),color:e.color}}),c=l.length,h=i.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),h.reverse());var v=10,m=l[0].coord-v,g=l[c-1].coord+v,y=g-m;if(.001>y)return"transparent";p(l,function(e){e.offset=(e.coord-m)/y}),l.push({offset:c?l[c-1].offset:.5,color:h[1]||"transparent"}),l.unshift({offset:c?l[0].offset:.5,color:h[0]||"transparent"});var b=new Dw(0,0,0,0,l,!0);return b[r]=m,b[r+"2"]=g,b}}}function zh(e,t,n){var r=e.get("showAllSymbol"),i="auto"===r;if(!r||i){var s=n.getAxesByScale("ordinal")[0];if(s&&(!i||!Wh(s,t))){var o=t.mapDimension(s.dim),u={};return p(s.getViewLabels(),function(e){u[e.tickValue]=1}),function(e){return!u.hasOwnProperty(t.get(o,e))}}}}function Wh(e,t){var n=e.getExtent(),r=Math.abs(n[1]-n[0])/e.scale.count();isNaN(r)&&(r=0);for(var i=t.count(),s=Math.max(1,Math.round(i/5)),o=0;i>o;o+=s)if(1.5*wh.getSymbolSize(t,o)[e.isHorizontal()?1:0]>r)return!1;return!0}function Xh(e,t,n){if("cartesian2d"===e.type){var r=e.getBaseAxis().isHorizontal(),i=Pc(e,t,n);if(!n.get("clip",!0)){var s=i.shape,o=Math.max(s.width,s.height);r?(s.y-=o,s.height+=2*o):(s.x-=o,s.width+=2*o)}return i}return Hc(e,t,n)}function Vh(e,t){this.getAllNames=function(){var e=t();return e.mapArray(e.getName)},this.containName=function(e){var n=t();return n.indexOfName(e)>=0},this.indexOfName=function(t){var n=e();return n.indexOfName(t)},this.getItemVisual=function(t,n){var r=e();return r.getItemVisual(t,n)}}function $h(e,t,n,r){var i=t.getData(),s=this.dataIndex,o=i.getName(s),u=t.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:e,name:o,seriesId:t.id}),i.each(function(e){Jh(i.getItemGraphicEl(e),i.getItemLayout(e),t.isSelected(i.getName(e)),u,n)})}function Jh(e,t,n,r,i){var s=(t.startAngle+t.endAngle)/2,o=Math.cos(s),u=Math.sin(s),a=n?r:0,f=[o*a,u*a];i?e.animate().when(200,{position:f}).start("bounceOut"):e.attr("position",f)}function Kh(e,t){Yg.call(this);var n=new gw({z2:2}),r=new Sw,i=new pw;this.add(n),this.add(r),this.add(i),this.updateData(e,t,!0)}function Qh(e,t,n,r,i,s,o,u,a,f){function l(t,n,r){for(var i=t;n>i&&!(e[i].y+r>a+o);i++)if(e[i].y+=r,i>t&&n>i+1&&e[i+1].y>e[i].y+e[i].height)return void c(i,r/2);c(n-1,r/2)}function c(t,n){for(var r=t;r>=0&&!(e[r].y-n<a)&&(e[r].y-=n,!(r>0&&e[r].y>e[r-1].y+e[r-1].height));r--);}function h(e,t,n,r,i,s){for(var o=s>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0,u=0,a=e.length;a>u;u++)if("none"===e[u].labelAlignTo){var f=Math.abs(e[u].y-r),l=e[u].len,c=e[u].len2,h=i+l>f?Math.sqrt((i+l+c)*(i+l+c)-f*f):Math.abs(e[u].x-n);t&&h>=o&&(h=o-10),!t&&o>=h&&(h=o+10),e[u].x=n+h*s,o=h}}e.sort(function(e,t){return e.y-t.y});for(var p,d=0,v=e.length,m=[],g=[],y=0;v>y;y++){if("outer"===e[y].position&&"labelLine"===e[y].labelAlignTo){var b=e[y].x-f;e[y].linePoints[1][0]+=b,e[y].x=f}p=e[y].y-d,0>p&&l(y,v,-p,i),d=e[y].y+e[y].height}0>o-d&&c(v-1,d-o);for(var y=0;v>y;y++)e[y].y>=n?g.push(e[y]):m.push(e[y]);h(m,!1,t,n,r,i),h(g,!0,t,n,r,i)}function Gh(e,t,n,r,i,s,o,u){for(var a=[],f=[],l=Number.MAX_VALUE,c=-Number.MAX_VALUE,h=0;h<e.length;h++)Yh(e[h])||(e[h].x<t?(l=Math.min(l,e[h].x),a.push(e[h])):(c=Math.max(c,e[h].x),f.push(e[h])));Qh(f,t,n,r,1,i,s,o,u,c),Qh(a,t,n,r,-1,i,s,o,u,l);for(var h=0;h<e.length;h++){var p=e[h];if(!Yh(p)){var d=p.linePoints;if(d){var v,m="edge"===p.labelAlignTo,g=p.textRect.width;v=m?p.x<t?d[2][0]-p.labelDistance-o-p.labelMargin:o+i-p.labelMargin-d[2][0]-p.labelDistance:p.x<t?p.x-o-p.bleedMargin:o+i-p.x-p.bleedMargin,v<p.textRect.width&&(p.text=Yn(p.text,v,p.font),"edge"===p.labelAlignTo&&(g=Xn(p.text,p.font)));var y=d[1][0]-d[2][0];m?d[2][0]=p.x<t?o+p.labelMargin+g+p.labelDistance:o+i-p.labelMargin-g-p.labelDistance:(d[2][0]=p.x<t?p.x+p.labelDistance:p.x-p.labelDistance,d[1][0]=d[2][0]+y),d[1][1]=d[2][1]=p.y}}}}function Yh(e){return"center"===e.position}function Zh(e,t){return Go(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ep(e,t){var n=e.get("center"),r=t.getWidth(),i=t.getHeight(),s=Math.min(r,i),o=So(n[0],t.getWidth()),u=So(n[1],t.getHeight()),a=So(e.get("radius"),s/2);return{cx:o,cy:u,r:a}}function tp(e,t){return t&&("string"==typeof t?e=t.replace("{value}",null!=e?e:""):"function"==typeof t&&(e=t(e))),e}function np(e,t,n){var r,i={},s="toggleSelected"===e;return n.eachComponent("legend",function(n){s&&null!=r?n[r?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?n[e]():(n[e](t.name),r=n.isSelected(t.name));var o=n.getData();p(o,function(e){var t=e.get("name");if("\n"!==t&&""!==t){var r=n.isSelected(t);i[t]=i.hasOwnProperty(t)?i[t]&&r:r}})}),"allSelect"===e||"inverseSelect"===e?{selected:i}:{name:t.name,selected:i}}function rp(e,t,n){var r=t.getBoxLayoutParams(),i=t.get("padding"),s={width:n.getWidth(),height:n.getHeight()},o=Go(r,s,i);yE(t.get("orient"),e,t.get("itemGap"),o.width,o.height),Yo(e,r,s,i)}function ip(e,t){var n=aE(t.get("padding")),r=t.getItemStyle(["color","opacity"]);r.fill=t.get("backgroundColor");var e=new Nw({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1});return e}function sp(e,t,n,r,i,s){var o;return"line"!==t&&t.indexOf("empty")<0?(o=n.getItemStyle(),e.style.stroke=r,s||(o.stroke=i)):o=n.getItemStyle(["borderWidth","borderColor"]),e.setStyle(o)}function op(e,t,n,r){ap(e,t,n,r),n.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),up(e,t,n,r)}function up(e,t,n,r){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}function ap(e,t,n,r){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}function fp(e,t,n){var r=e.getOrient(),i=[1,1];i[r.index]=0,Zo(t,n,{type:"box",ignoreSize:i})}function lp(e,t,n,r,i){var s=e.axis;if(!s.scale.isBlank()&&s.containData(t)){if(!e.involveSeries)return void n.showPointer(e,t);var u=cp(t,e),a=u.payloadBatch,f=u.snapToValue;a[0]&&null==i.seriesIndex&&o(i,a[0]),!r&&e.snap&&s.containData(f)&&null!=f&&(t=f),n.showPointer(e,t,a,i),n.showTooltip(e,u,f)}}function cp(e,t){var n=t.axis,r=n.dim,i=e,s=[],o=Number.MAX_VALUE,u=-1;return xC(t.seriesModels,function(t){var a,f,l=t.getData().mapDimension(r,!0);if(t.getAxisTooltipData){var c=t.getAxisTooltipData(l,e,n);f=c.dataIndices,a=c.nestestValue}else{if(f=t.getData().indicesOfNearest(l[0],e,"category"===n.type?.5:null),!f.length)return;a=t.getData().get(l[0],f[0])}if(null!=a&&isFinite(a)){var h=e-a,p=Math.abs(h);o>=p&&((o>p||h>=0&&0>u)&&(o=p,u=h,i=a,s.length=0),xC(f,function(e){s.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})}))}}),{payloadBatch:s,snapToValue:i}}function hp(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function pp(e,t,n,r){var i=n.payloadBatch,s=t.axis,o=s.model,u=t.axisPointerModel;if(t.triggerTooltip&&i.length){var a=t.coordSys.model,f=dh(a),l=e.map[f];l||(l=e.map[f]={coordSysId:a.id,coordSysIndex:a.componentIndex,coordSysType:a.type,coordSysMainType:a.mainType,dataByAxis:[]},e.list.push(l)),l.dataByAxis.push({axisDim:s.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:u.get("label.precision"),formatter:u.get("label.formatter")},seriesDataIndices:i.slice()})}}function dp(e,t,n){var r=n.axesInfo=[];xC(t,function(t,n){var i=t.axisPointerModel.option,s=e[n];s?(!t.useHandle&&(i.status="show"),i.value=s.value,i.seriesDataIndices=(s.payloadBatch||[]).slice()):!t.useHandle&&(i.status="hide"),"show"===i.status&&r.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})})}function vp(e,t,n,r){if(bp(t)||!e.list.length)return void r({type:"hideTip"});var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function mp(e,t,n){var r=n.getZr(),i="axisPointerLastHighlights",s=NC(r)[i]||{},o=NC(r)[i]={};xC(e,function(e){var t=e.axisPointerModel.option;"show"===t.status&&xC(t.seriesDataIndices,function(e){var t=e.seriesIndex+" | "+e.dataIndex;o[t]=e})});var u=[],a=[];p(s,function(e,t){!o[t]&&a.push(e)}),p(o,function(e,t){!s[t]&&u.push(e)}),a.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:a}),u.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:u})}function gp(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}function yp(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=t.componentIndex,n.axisName=n[r+"AxisName"]=t.name,n.axisId=n[r+"AxisId"]=t.id,n}function bp(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function wp(e,t,n){if(!Fm.node){var r=t.getZr();kC(r).records||(kC(r).records={}),Ep(r,t);var i=kC(r).records[e]||(kC(r).records[e]={});i.handler=n}}function Ep(e,t){function n(n,r){e.on(n,function(n){var i=Np(t);LC(kC(e).records,function(e){e&&r(e,n,i.dispatchAction)}),Sp(i.pendings,t)})}kC(e).initialized||(kC(e).initialized=!0,n("click",b(Tp,"click")),n("mousemove",b(Tp,"mousemove")),n("globalout",xp))}function Sp(e,t){var n,r=e.showTip.length,i=e.hideTip.length;r?n=e.showTip[r-1]:i&&(n=e.hideTip[i-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}function xp(e,t,n){e.handler("leave",null,n)}function Tp(e,t,n,r){t.handler(e,n,r)}function Np(e){var t={showTip:[],hideTip:[]},n=function(r){var i=t[r.type];i?i.push(r):(r.dispatchAction=n,e.dispatchAction(r))};return{dispatchAction:n,pendings:t}}function Cp(e,t){if(!Fm.node){var n=t.getZr(),r=(kC(n).records||{})[e];r&&(kC(n).records[e]=null)}}function kp(){}function Lp(e,t,n,r){Ap(OC(n).lastProp,r)||(OC(n).lastProp=r,t?eo(n,r,e):(n.stopAnimation(),n.attr(r)))}function Ap(e,t){if(x(e)&&x(t)){var n=!0;return p(t,function(t,r){n=n&&Ap(e[r],t)}),!!n}return e===t}function Op(e,t){e[t.get("label.show")?"show":"hide"]()}function Mp(e){return{position:e.position.slice(),rotation:e.rotation||0}}function _p(e,t,n){var r=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(e){"group"!==e.type&&(null!=r&&(e.z=r),null!=i&&(e.zlevel=i),e.silent=n)})}function Dp(e){var t,n=e.get("type"),r=e.getModel(n+"Style");return"line"===n?(t=r.getLineStyle(),t.fill=null):"shadow"===n&&(t=r.getAreaStyle(),t.stroke=null),t}function Pp(e,t,n,r,i){var s=n.get("value"),o=Bp(s,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),u=n.getModel("label"),a=aE(u.get("padding")||0),f=u.getFont(),l=Vn(o,f),c=i.position,h=l.width+a[1]+a[3],p=l.height+a[0]+a[2],d=i.align;"right"===d&&(c[0]-=h),"center"===d&&(c[0]-=h/2);var v=i.verticalAlign;"bottom"===v&&(c[1]-=p),"middle"===v&&(c[1]-=p/2),Hp(c,h,p,r);var m=u.get("backgroundColor");m&&"auto"!==m||(m=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:h,height:p,r:u.get("borderRadius")},position:c.slice(),style:{text:o,textFont:f,textFill:u.getTextColor(),textPosition:"inside",textPadding:a,fill:m,stroke:u.get("borderColor")||"transparent",lineWidth:u.get("borderWidth")||0,shadowBlur:u.get("shadowBlur"),shadowColor:u.get("shadowColor"),shadowOffsetX:u.get("shadowOffsetX"),shadowOffsetY:u.get("shadowOffsetY")},z2:10}}function Hp(e,t,n,r){var i=r.getWidth(),s=r.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+n,s)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function Bp(e,t,n,r,i){e=t.scale.parse(e);var s=t.scale.getLabel(e,{precision:i.precision}),o=i.formatter;if(o){var u={value:Wl(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};p(r,function(e){var t=n.getSeriesByIndex(e.seriesIndex),r=e.dataIndexInside,i=t&&t.getDataParams(r);i&&u.seriesData.push(i)}),S(o)?s=o.replace("{value}",s):E(o)&&(s=o(u))}return s}function jp(e,t,n){var r=Dt();return Ft(r,r,n.rotation),jt(r,r,n.position),ro([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function Fp(e,t,n,r,i,s){var o=vN.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get("label.margin"),Pp(t,r,i,s,{position:jp(r.axis,e,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function Ip(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function qp(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}function Rp(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}function Up(e){return"x"===e.dim?0:1}function zp(e){var t="cubic-bezier(0.23, 1, 0.32, 1)",n="left "+e+"s "+t+",top "+e+"s "+t;return d(jC,function(e){return e+"transition:"+n}).join(";")}function Wp(e){var t=[],n=e.get("fontSize"),r=e.getTextColor();return r&&t.push("color:"+r),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px"),HC(["decoration","align"],function(n){var r=e.get(n);r&&t.push("text-"+n+":"+r)}),t.join(";")}function Xp(e){var t=[],n=e.get("transitionDuration"),r=e.get("backgroundColor"),i=e.getModel("textStyle"),s=e.get("padding");return n&&t.push(zp(n)),r&&(Fm.canvasSupported?t.push("background-Color:"+r):(t.push("background-Color:#"+sn(r)),t.push("filter:alpha(opacity=70)"))),HC(["width","color","radius"],function(n){var r="border-"+n,i=BC(r),s=e.get(i);null!=s&&t.push(r+":"+s+("color"===n?"":"px"))}),t.push(Wp(i)),null!=s&&t.push("padding:"+aE(s).join("px ")+"px"),t.join(";")+";"}function Vp(e,t,n,r,i){var s=t&&t.painter;if(n){var o=s&&s.getViewportRoot();o&&dt(e,o,document.body,r,i)}else{e[0]=r,e[1]=i;var u=s&&s.getViewportRootOffset();u&&(e[0]+=u.offsetLeft,e[1]+=u.offsetTop)}}function $p(e,t,n){if(Fm.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=t.getZr(),s=this._appendToBody=n&&n.appendToBody;this._styleCoord=[0,0],Vp(this._styleCoord,i,s,t.getWidth()/2,t.getHeight()/2),s?document.body.appendChild(r):e.appendChild(r),this._container=e,this._show=!1,this._hideTimeout;var o=this;r.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},r.onmousemove=function(e){if(e=e||window.event,!o._enterable){var t=i.handler,n=i.painter.getViewportRoot();St(n,e,!0),t.dispatch("mousemove",e)}},r.onmouseleave=function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1}}function Jp(e){this._zr=e.getZr(),this._show=!1,this._hideTimeout}function Kp(e){for(var t=e.pop();e.length;){var n=e.pop();n&&(po.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),t=new po(n,t,t.ecModel))}return t}function Qp(e,t){return e.dispatchAction||y(t.dispatchAction,t)}function Gp(e,t,n,r,i,s,o){var u=n.getOuterSize(),a=u.width,f=u.height;return null!=s&&(e+a+s>r?e-=a+s:e+=s),null!=o&&(t+f+o>i?t-=f+o:t+=o),[e,t]}function Yp(e,t,n,r,i){var s=n.getOuterSize(),o=s.width,u=s.height;return e=Math.min(e+o,r)-o,t=Math.min(t+u,i)-u,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function Zp(e,t,n){var r=n[0],i=n[1],s=5,o=0,u=0,a=t.width,f=t.height;switch(e){case"inside":o=t.x+a/2-r/2,u=t.y+f/2-i/2;break;case"top":o=t.x+a/2-r/2,u=t.y-i-s;break;case"bottom":o=t.x+a/2-r/2,u=t.y+f+s;break;case"left":o=t.x-r-s,u=t.y+f/2-i/2;break;case"right":o=t.x+a+s,u=t.y+f/2-i/2}return[o,u]}function ed(e){return"center"===e||"middle"===e}function td(e){return f(WC,e)>=0}function nd(e,t){e=e.slice();var n=d(e,Vo);t=(t||[]).slice();var r=d(t,Vo);return function(i,s){p(e,function(e,o){for(var u={name:e,capital:n[o]},a=0;a<t.length;a++)u[t[a]]=e+r[a];i.call(s,u)})}}function rd(e,t,n){function r(e,t){return f(t.nodes,e)>=0}function i(e,r){var i=!1;return t(function(t){p(n(e,t)||[],function(e){r.records[t.name][e]&&(i=!0)})}),i}function s(e,r){r.nodes.push(e),t(function(t){p(n(e,t)||[],function(e){r.records[t.name][e]=!0})})}return function(n){function o(e){!r(e,u)&&i(e,u)&&(s(e,u),a=!0)}var u={nodes:[],records:{}};if(t(function(e){u.records[e.name]={}}),!n)return u;s(n,u);var a;do a=!1,e(o);while(a);return u}}function id(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:0>n?1:t?-1:1}}function sd(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}function od(e,t,n){var r=[1/0,-1/0];return $C(n,function(e){var n=e.getData();n&&$C(n.mapDimension(t,!0),function(e){var t=n.getApproximateExtent(e);t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1])})}),r[1]<r[0]&&(r=[0/0,0/0]),ud(e,r),r}function ud(e,t){var n=e.getAxisModel(),r=n.getMin(!0),i="category"===n.get("type"),s=i&&n.getCategories().length;null!=r&&"dataMin"!==r&&"function"!=typeof r?t[0]=r:i&&(t[0]=s>0?0:0/0);var o=n.getMax(!0);return null!=o&&"dataMax"!==o&&"function"!=typeof o?t[1]=o:i&&(t[1]=s>0?s-1:0/0),n.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function ad(e,t){var n=e.getAxisModel(),r=e._percentWindow,i=e._valueWindow;if(r){var s=ko(i,[0,500]);s=Math.min(s,20);var o=t||0===r[0]&&100===r[1];n.setRange(o?null:+i[0].toFixed(s),o?null:+i[1].toFixed(s))}}function fd(e){var t=e._minMaxSpan={},n=e._dataZoomModel,r=e._dataExtent;$C(["min","max"],function(i){var s=n.get(i+"Span"),o=n.get(i+"ValueSpan");null!=o&&(o=e.getAxisModel().axis.scale.parse(o)),null!=o?s=Eo(r[0]+o,r,[0,100],!0):null!=s&&(o=Eo(s,[0,100],r,!0)-r[0]),t[i+"Span"]=s,t[i+"ValueSpan"]=o})}function ld(e){var t={};return QC(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function cd(e,t){var n=e._rangePropMode,r=e.get("rangeMode");QC([["start","startValue"],["end","endValue"]],function(e,i){var s=null!=t[e[0]],o=null!=t[e[1]];s&&!o?n[i]="percent":!s&&o?n[i]="value":r?n[i]=r[i]:s&&(n[i]="percent")})}function hd(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function pd(e){return"vertical"===e?"ns-resize":"ew-resize"}function dd(e,t,n){var r=gd(e);r[t]=n}function vd(e,t,n){var r=gd(e),i=r[t];i===n&&(r[t]=null)}function md(e,t){return!!gd(e)[t]}function gd(e){return e[pk]||(e[pk]={})}function yd(e){this.pointerChecker,this._zr=e,this._opt={};var t=y,n=t(bd,this),i=t(wd,this),s=t(Ed,this),o=t(Sd,this),a=t(xd,this);og.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,f){this.disable(),this._opt=u(r(f)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),(t===!0||"move"===t||"pan"===t)&&(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",s)),(t===!0||"scale"===t||"zoom"===t)&&(e.on("mousewheel",o),e.on("pinch",a))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",s),e.off("mousewheel",o),e.off("pinch",a)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function bd(e){if(!(Nt(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function wd(e){if(this._dragging&&Cd("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!md(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,r=this._x,i=this._y,s=t-r,o=n-i;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&pg(e.event),Nd(this,"pan","moveOnMouseMove",e,{dx:s,dy:o,oldX:r,oldY:i,newX:t,newY:n})}}function Ed(e){Nt(e)||(this._dragging=!1)}function Sd(e){var t=Cd("zoomOnMouseWheel",e,this._opt),n=Cd("moveOnMouseWheel",e,this._opt),r=e.wheelDelta,i=Math.abs(r),s=e.offsetX,o=e.offsetY;if(0!==r&&(t||n)){if(t){var u=i>3?1.4:i>1?1.2:1.1,a=r>0?u:1/u;Td(this,"zoom","zoomOnMouseWheel",e,{scale:a,originX:s,originY:o})}if(n){var f=Math.abs(r),l=(r>0?1:-1)*(f>3?.4:f>1?.15:.05);Td(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:l,originX:s,originY:o})}}}function xd(e){if(!md(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;Td(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY})}}function Td(e,t,n,r,i){e.pointerChecker&&e.pointerChecker(r,i.originX,i.originY)&&(pg(r.event),Nd(e,t,n,r,i))}function Nd(e,t,n,r,i){i.isAvailableBehavior=y(Cd,null,n,r),e.trigger(t,i)}function Cd(e,t,n){var r=n[e];return!e||r&&(!S(r)||t.event[r+"Key"])}function kd(e,t){var n=Od(e),r=t.dataZoomId,i=t.coordId;p(n,function(e){var n=e.dataZoomInfos;n[r]&&f(t.allCoordIds,i)<0&&(delete n[r],e.count--)}),_d(n);var s=n[i];s||(s=n[i]={coordId:i,dataZoomInfos:{},count:0},s.controller=Md(e,s),s.dispatchAction=b(Dd,e)),!s.dataZoomInfos[r]&&s.count++,s.dataZoomInfos[r]=t;var o=Pd(s.dataZoomInfos);s.controller.enable(o.controlType,o.opt),s.controller.setPointerChecker(t.containsPoint),ya(s,"dispatchAction",t.dataZoomModel.get("throttle",!0),"fixRate")}function Ld(e,t){var n=Od(e);p(n,function(e){e.controller.dispose();var n=e.dataZoomInfos;n[t]&&(delete n[t],e.count--)}),_d(n)}function Ad(e){return e.type+"\0_"+e.id}function Od(e){var t=e.getZr();return t[dk]||(t[dk]={})}function Md(e,t){var n=new yd(e.getZr());return p(["pan","zoom","scrollMove"],function(e){n.on(e,function(n){var r=[];p(t.dataZoomInfos,function(i){if(n.isAvailableBehavior(i.dataZoomModel.option)){var s=(i.getRange||{})[e],o=s&&s(t.controller,n);!i.dataZoomModel.get("disabled",!0)&&o&&r.push({dataZoomId:i.dataZoomId,start:o[0],end:o[1]})}}),r.length&&t.dispatchAction(r)})}),n}function _d(e){p(e,function(t,n){t.count||(t.controller.dispose(),delete e[n])})}function Dd(e,t){e.dispatchAction({type:"dataZoom",batch:t})}function Pd(e){var t,n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return p(e,function(e){var s=e.dataZoomModel,o=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;r[n+o]>r[n+t]&&(t=o),i&=s.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function Hd(e){return function(t,n,r,i){var s=this._range,o=s.slice(),u=t.axisModels[0];if(u){var a=e(o,u,t,n,r,i);return VC(a,o,[0,100],"all"),this._range=o,s[0]!==o[0]||s[1]!==o[1]?o:void 0}}}function Bd(e,t){bk[e]=t}function jd(e){return bk[e]}function Fd(e){return 0===e.indexOf("my")}function Id(e){this.model=e}function qd(e){this.model=e}function Rd(e){var t={},n=[],r=[];return e.eachRawSeries(function(e){var i=e.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)n.push(e);else{var s=i.getBaseAxis();if("category"===s.type){var o=s.dim+"_"+s.index;t[o]||(t[o]={categoryAxis:s,valueAxis:i.getOtherAxis(s),series:[]},r.push({axisDim:s.dim,axisIndex:s.index})),t[o].series.push(e)}else n.push(e)}}),{seriesGroupByCategoryAxis:t,other:n,meta:r}}function Ud(e){var t=[];return p(e,function(e){var n=e.categoryAxis,r=e.valueAxis,i=r.dim,s=[" "].concat(d(e.series,function(e){return e.name})),o=[n.model.getCategories()];p(e.series,function(e){o.push(e.getRawData().mapArray(i,function(e){return e}))});for(var u=[s.join(Ok)],a=0;a<o[0].length;a++){for(var f=[],l=0;l<o.length;l++)f.push(o[l][a]);u.push(f.join(Ok))}t.push(u.join("\n"))}),t.join("\n\n"+Ak+"\n\n")}function zd(e){return d(e,function(e){var t=e.getRawData(),n=[e.name],r=[];return t.each(t.dimensions,function(){for(var e=arguments.length,i=arguments[e-1],s=t.getName(i),o=0;e-1>o;o++)r[o]=arguments[o];n.push((s?s+Ok:"")+r.join(Ok))}),n.join("\n")}).join("\n\n"+Ak+"\n\n")}function Wd(e){var t=Rd(e);return{value:m([Ud(t.seriesGroupByCategoryAxis),zd(t.other)],function(e){return e.replace(/[\n\t\s]/g,"")}).join("\n\n"+Ak+"\n\n"),meta:t.meta}}function Xd(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Vd(e){var t=e.slice(0,e.indexOf("\n"));return t.indexOf(Ok)>=0?!0:void 0}function $d(e){for(var t=e.split(/\n+/g),n=Xd(t.shift()).split(Mk),r=[],i=d(n,function(e){return{name:e,data:[]}}),s=0;s<t.length;s++){var o=Xd(t[s]).split(Mk);r.push(o.shift());for(var u=0;u<o.length;u++)i[u]&&(i[u].data[s]=o[u])}return{series:i,categories:r}}function Jd(e){for(var t=e.split(/\n+/g),n=Xd(t.shift()),r=[],i=0;i<t.length;i++){var s,o=Xd(t[i]).split(Mk),u="",a=!1;isNaN(o[0])?(a=!0,u=o[0],o=o.slice(1),r[i]={name:u,value:[]},s=r[i].value):s=r[i]=[];for(var f=0;f<o.length;f++)s.push(+o[f]);1===s.length&&(a?r[i].value=s[0]:r[i]=s[0])}return{name:n,data:r}}function Kd(e,t){var n=e.split(new RegExp("\n*"+Ak+"\n*","g")),r={series:[]};return p(n,function(e,n){if(Vd(e)){var i=$d(e),s=t[n],o=s.axisDim+"Axis";s&&(r[o]=r[o]||[],r[o][s.axisIndex]={data:i.categories},r.series=r.series.concat(i.series))}else{var i=Jd(e);r.series.push(i)}}),r}function Qd(e){this._dom=null,this.model=e}function Gd(e,t){return d(e,function(e,n){var r=t&&t[n];return x(r)&&!w(r)?(x(e)&&!w(e)&&(e=e.value),u({value:e},r)):e})}function Yd(e){og.call(this),this._zr=e,this.group=new Yg,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+Xk++,this._handlers={},Dk(Vk,function(e,t){this._handlers[t]=y(e,this)},this)}function Zd(e,t){var n=e._zr;e._enableGlobalPan||dd(n,Rk,e._uid),tv(n,e._handlers),e._brushType=t.brushType,e._brushOption=i(r(Wk),t,!0)}function ev(e){var t=e._zr;vd(t,Rk,e._uid),nv(t,e._handlers),e._brushType=e._brushOption=null}function tv(e,t){Dk(t,function(t,n){e.on(n,t)})}function nv(e,t){Dk(t,function(t,n){e.off(n,t)})}function rv(e,t){var n=$k[t.brushType].createCover(e,t);return n.__brushOption=t,ov(n,t),e.group.add(n),n}function iv(e,t){var n=av(t);return n.endCreating&&(n.endCreating(e,t),ov(t,t.__brushOption)),t}function sv(e,t){var n=t.__brushOption;av(t).updateCoverShape(e,t,n.range,n)}function ov(e,t){var n=t.z;null==n&&(n=Fk),e.traverse(function(e){e.z=n,e.z2=n})}function uv(e,t){av(t).updateCommon(e,t),sv(e,t)}function av(e){return $k[e.__brushOption.brushType]}function fv(e,t,n){var r=e._panels;if(!r)return!0;var i,s=e._transform;return Dk(r,function(e){e.isTargetByCursor(t,n,s)&&(i=e)}),i}function lv(e,t){var n=e._panels;if(!n)return!0;var r=t.__brushOption.panelId;return null!=r?n[r]:!0}function cv(e){var t=e._covers,n=t.length;return Dk(t,function(t){e.group.remove(t)},e),t.length=0,!!n}function hv(e,t){var n=Pk(e._covers,function(e){var t=e.__brushOption,n=r(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}});e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function pv(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],r=t[0],i=n[0]-r[0],s=n[1]-r[1],o=jk(i*i+s*s,.5);return o>Ik}function dv(e){var t=e.length-1;return 0>t&&(t=0),[e[0],e[t]]}function vv(e,t,n,r){var i=new Yg;return i.add(new Nw({name:"main",style:bv(n),silent:!0,draggable:!0,cursor:"move",drift:_k(e,t,i,"nswe"),ondragend:_k(hv,t,{isEnd:!0})})),Dk(r,function(n){i.add(new Nw({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:_k(e,t,i,n),ondragend:_k(hv,t,{isEnd:!0})}))}),i}function mv(e,t,n,r){var i=r.brushStyle.lineWidth||0,s=Bk(i,qk),o=n[0][0],u=n[1][0],a=o-i/2,f=u-i/2,l=n[0][1],c=n[1][1],h=l-s+i/2,p=c-s+i/2,d=l-o,v=c-u,m=d+i,g=v+i;yv(e,t,"main",o,u,d,v),r.transformable&&(yv(e,t,"w",a,f,s,g),yv(e,t,"e",h,f,s,g),yv(e,t,"n",a,f,m,s),yv(e,t,"s",a,p,m,s),yv(e,t,"nw",a,f,s,s),yv(e,t,"ne",h,f,s,s),yv(e,t,"sw",a,p,s,s),yv(e,t,"se",h,p,s,s))}function gv(e,t){var n=t.__brushOption,r=n.transformable,i=t.childAt(0);i.useStyle(bv(n)),i.attr({silent:!r,cursor:r?"move":"default"}),Dk(["w","e","n","s","se","sw","ne","nw"],function(n){var i=t.childOfName(n),s=Sv(e,n);i&&i.attr({silent:!r,invisible:!r,cursor:r?zk[s]+"-resize":null})})}function yv(e,t,n,r,i,s,o){var u=t.childOfName(n);u&&u.setShape(kv(Cv(e,t,[[r,i],[r+s,i+o]])))}function bv(e){return u({strokeNoScale:!0},e.brushStyle)}function wv(e,t,n,r){var i=[Hk(e,n),Hk(t,r)],s=[Bk(e,n),Bk(t,r)];return[[i[0],s[0]],[i[1],s[1]]]}function Ev(e){return no(e.group)}function Sv(e,t){if(t.length>1){t=t.split("");var n=[Sv(e,t[0]),Sv(e,t[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}var r={w:"left",e:"right",n:"top",s:"bottom"},i={left:"w",right:"e",top:"n",bottom:"s"},n=io(r[t],Ev(e));return i[n]}function xv(e,t,n,r,i,s,o){var u=r.__brushOption,a=e(u.range),f=Nv(n,s,o);Dk(i.split(""),function(e){var t=Uk[e];a[t[0]][t[1]]+=f[t[0]]}),u.range=t(wv(a[0][0],a[1][0],a[0][1],a[1][1])),uv(n,r),hv(n,{isEnd:!1})}function Tv(e,t,n,r){var i=t.__brushOption.range,s=Nv(e,n,r);Dk(i,function(e){e[0]+=s[0],e[1]+=s[1]}),uv(e,t),hv(e,{isEnd:!1})}function Nv(e,t,n){var r=e.group,i=r.transformCoordToLocal(t,n),s=r.transformCoordToLocal(0,0);return[i[0]-s[0],i[1]-s[1]]}function Cv(e,t,n){var i=lv(e,t);return i&&i!==!0?i.clipPath(n,e._transform):r(n)}function kv(e){var t=Hk(e[0][0],e[1][0]),n=Hk(e[0][1],e[1][1]),r=Bk(e[0][0],e[1][0]),i=Bk(e[0][1],e[1][1]);return{x:t,y:n,width:r-t,height:i-n}}function Lv(e,t,n){if(e._brushType&&!Pv(e,t)){var r=e._zr,i=e._covers,s=fv(e,t,n);if(!e._dragging)for(var o=0;o<i.length;o++){var u=i[o].__brushOption;if(s&&(s===!0||u.panelId===s.panelId)&&$k[u.brushType].contain(i[o],n[0],n[1]))return}s&&r.setCursorStyle("crosshair")}}function Av(e){var t=e.event;t.preventDefault&&t.preventDefault()}function Ov(e,t,n){return e.childOfName("main").contain(t,n)}function Mv(e,t,n,i){var s,o=e._creatingCover,u=e._creatingPanel,a=e._brushOption;if(e._track.push(n.slice()),pv(e)||o){if(u&&!o){"single"===a.brushMode&&cv(e);var f=r(a);f.brushType=_v(f.brushType,u),f.panelId=u===!0?null:u.panelId,o=e._creatingCover=rv(e,f),e._covers.push(o)}if(o){var l=$k[_v(e._brushType,u)],c=o.__brushOption;c.range=l.getCreatingRange(Cv(e,o,e._track)),i&&(iv(e,o),l.updateCommon(e,o)),sv(e,o),s={isEnd:i}}}else i&&"single"===a.brushMode&&a.removeOnClick&&fv(e,t,n)&&cv(e)&&(s={isEnd:i,removeOnClick:!0});return s}function _v(e,t){return"auto"===e?t.defaultBrushType:e}function Dv(e,t){if(e._dragging){Av(t);var n=t.offsetX,r=t.offsetY,i=e.group.transformCoordToLocal(n,r),s=Mv(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,s&&hv(e,s)}}function Pv(e,t,n){var r=e._zr;return 0>t||t>r.getWidth()||0>n||n>r.getHeight()}function Hv(e){return{createCover:function(t,n){return vv(_k(xv,function(t){var n=[t,[0,100]];return e&&n.reverse(),n},function(t){return t[e]}),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=dv(t),r=Hk(n[0][e],n[1][e]),i=Bk(n[0][e],n[1][e]);return[r,i]},updateCoverShape:function(t,n,r,i){var s,o=lv(t,n);if(o!==!0&&o.getLinearBrushOtherExtent)s=o.getLinearBrushOtherExtent(e,t._transform);else{var u=t._zr;s=[0,[u.getWidth(),u.getHeight()][1-e]]}var a=[r,s];e&&a.reverse(),mv(t,n,a,i)},updateCommon:gv,contain:Ov}}function Bv(e,t,n){var r=t.getComponentByElement(e.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!Jk[r.mainType]&&i&&i.model!==n}function jv(e){return e=qv(e),function(t){return oo(t,e)}}function Fv(e,t){return e=qv(e),function(n){var r=null!=t?t:n,i=r?e.width:e.height,s=r?e.x:e.y;return[s,s+(i||0)]}}function Iv(e,t,n){return e=qv(e),function(r,i){return e.contain(i[0],i[1])&&!Bv(r,t,n)}}function qv(e){return kn.create(e)}function Rv(e,t,n){var r=this._targetInfoList=[],i={},s=zv(t,e);Kk(tL,function(e,t){(!n||!n.include||Qk(n.include,t)>=0)&&e(s,r,i)})}function Uv(e){return e[0]>e[1]&&e.reverse(),e}function zv(e,t){return li(e,t,{includeMainTypes:Zk})}function Wv(e,t,n,r){var i=n.getAxis(["x","y"][e]),s=Uv(d([0,1],function(e){return t?i.coordToData(i.toLocalCoord(r[e])):i.toGlobalCoord(i.dataToCoord(r[e]))})),o=[];return o[e]=s,o[1-e]=[0/0,0/0],{values:s,xyMinMax:o}}function Xv(e,t,n,r){return[t[0]-r[e]*n[0],t[1]-r[e]*n[1]]}function Vv(e,t){var n=$v(e),r=$v(t),i=[n[0]/r[0],n[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function $v(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[0/0,0/0]}function Jv(e,t){var n=Yv(e);oL(t,function(t,r){for(var i=n.length-1;i>=0;i--){var s=n[i];if(s[r])break}if(0>i){var o=e.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(o){var u=o.getPercentRange();n[0][r]={dataZoomId:r,start:u[0],end:u[1]}}}}),n.push(t)}function Kv(e){var t=Yv(e),n=t[t.length-1];t.length>1&&t.pop();var r={};return oL(n,function(e,n){for(var i=t.length-1;i>=0;i--){var e=t[i][n];if(e){r[n]=e;break}}}),r}function Qv(e){e[uL]=null}function Gv(e){return Yv(e).length}function Yv(e){var t=e[uL];return t||(t=e[uL]=[{}]),t}function Zv(e,t,n){(this._brushController=new Yd(n.getZr())).on("brush",y(this._onBrush,this)).mount(),this._isZoomActive}function em(e){var t={};return p(["xAxisIndex","yAxisIndex"],function(n){t[n]=e[n],null==t[n]&&(t[n]="all"),(t[n]===!1||"none"===t[n])&&(t[n]=[])}),t}function tm(e,t){e.setIconStatus("back",Gv(t)>1?"emphasis":"normal")}function nm(e,t,n,r,i){var s=n._isZoomActive;r&&"takeGlobalCursor"===r.type&&(s="dataZoomSelect"===r.key?r.dataZoomSelectActive:!1),n._isZoomActive=s,e.setIconStatus("zoom",s?"emphasis":"normal");var o=new Rv(em(e.option),t,{include:["grid"]});n._brushController.setPanels(o.makePanelOpts(i,function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"})).enableBrush(s?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}function rm(e){this.model=e}function im(e){return document.createElementNS(vL,e)}function sm(e){return bL(1e4*e)/1e4}function om(e){return NL>e&&e>-NL}function um(e,t){var n=t?e.textFill:e.fill;return null!=n&&n!==yL}function am(e,t){var n=t?e.textStroke:e.stroke;return null!=n&&n!==yL}function fm(e,t){t&&lm(e,"transform","matrix("+gL.call(t,",")+")")}function lm(e,t,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&e.setAttribute(t,n)}function cm(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function hm(e,t,n,r){if(um(t,n)){var i=n?t.textFill:t.fill;i="transparent"===i?yL:i,lm(e,"fill",i),lm(e,"fill-opacity",null!=t.fillOpacity?t.fillOpacity*t.opacity:t.opacity)}else lm(e,"fill",yL);if(am(t,n)){var s=n?t.textStroke:t.stroke;s="transparent"===s?yL:s,lm(e,"stroke",s);var o=n?t.textStrokeWidth:t.lineWidth,u=!n&&t.strokeNoScale?r.getLineScale():1;lm(e,"stroke-width",o/u),lm(e,"paint-order",n?"stroke":"fill"),lm(e,"stroke-opacity",null!=t.strokeOpacity?t.strokeOpacity:t.opacity);var a=t.lineDash;a?(lm(e,"stroke-dasharray",t.lineDash.join(",")),lm(e,"stroke-dashoffset",bL(t.lineDashOffset||0))):lm(e,"stroke-dasharray",""),t.lineCap&&lm(e,"stroke-linecap",t.lineCap),t.lineJoin&&lm(e,"stroke-linejoin",t.lineJoin),t.miterLimit&&lm(e,"stroke-miterlimit",t.miterLimit)}else lm(e,"stroke",yL)}function pm(e){for(var t=[],n=e.data,r=e.len(),i=0;r>i;){var s=n[i++],o="",u=0;switch(s){case mL.M:o="M",u=2;break;case mL.L:o="L",u=2;break;case mL.Q:o="Q",u=4;break;case mL.C:o="C",u=6;break;case mL.A:var a=n[i++],f=n[i++],l=n[i++],c=n[i++],h=n[i++],p=n[i++],d=n[i++],v=n[i++],m=Math.abs(p),g=om(m-xL)||(v?p>=xL:-p>=xL),y=p>0?p%xL:p%xL+xL,b=!1;b=g?!0:om(m)?!1:y>=SL==!!v;var w=sm(a+l*EL(h)),E=sm(f+c*wL(h));g&&(p=v?xL-1e-4:-xL+1e-4,b=!0,9===i&&t.push("M",w,E));var S=sm(a+l*EL(h+p)),x=sm(f+c*wL(h+p));t.push("A",sm(l),sm(c),bL(d*TL),+b,+v,S,x);break;case mL.Z:o="Z";break;case mL.R:var S=sm(n[i++]),x=sm(n[i++]),T=sm(n[i++]),N=sm(n[i++]);t.push("M",S,x,"L",S+T,x,"L",S+T,x+N,"L",S,x+N,"L",S,x)}o&&t.push(o);for(var C=0;u>C;C++)t.push(sm(n[i++]))}return t.join(" ")}function dm(e,t,n,r,i,s,o){Pt(ML),t&&n&&Ht(ML,n);var u=r.textRotation;if(i&&u){var a=r.textOrigin;"center"===a?(s=i.width/2+i.x,o=i.height/2+i.y):a&&(s=a[0]+i.x,o=a[1]+i.y),ML[4]-=s,ML[5]-=o,Ft(ML,ML,u),ML[4]+=s,ML[5]+=o}fm(e,ML)}function vm(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function mm(e,t,n,r){lm(e,"dominant-baseline","middle"),lm(e,"text-anchor",_L[t]),lm(e,"x",n),lm(e,"y",r)}function gm(e){e&&e.__textSvgEl&&(e.__textSvgEl.parentNode&&e.__textSvgEl.parentNode.removeChild(e.__textSvgEl),e.__textSvgEl=null,e.__tspanList=[],e.__text=null)}function ym(){}function bm(e,t){for(var n=0,r=t.length,i=0,s=0;r>n;n++){var o=t[n];if(o.removed){for(var u=[],a=s;a<s+o.count;a++)u.push(a);o.indices=u,s+=o.count}else{for(var u=[],a=i;a<i+o.count;a++)u.push(a);o.indices=u,i+=o.count,o.added||(s+=o.count)}}return t}function wm(e){return{newPos:e.newPos,components:e.components.slice(0)}}function Em(e,t,n,r,i){this._zrId=e,this._svgRoot=t,this._tagNames="string"==typeof n?[n]:n,this._markLabel=r,this._domName=i||"_dom",this.nextId=0}function Sm(e,t){Em.call(this,e,t,["linearGradient","radialGradient"],"__gradient_in_use__")}function xm(e,t){Em.call(this,e,t,"clipPath","__clippath_in_use__")}function Tm(e,t){Em.call(this,e,t,["filter"],"__filter_in_use__","_shadowDom")}function Nm(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}function Cm(e){return parseInt(e,10)}function km(e){return e instanceof ts?CL:e instanceof Lr?kL:e instanceof pw?LL:CL}function Lm(e,t){return t&&e&&t.parentNode!==e}function Am(e,t,n){if(Lm(e,t)&&n){var r=n.nextSibling;r?e.insertBefore(t,r):e.appendChild(t)}}function Om(e,t){if(Lm(e,t)){var n=e.firstChild;n?e.insertBefore(t,n):e.appendChild(t)}}function Mm(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function _m(e){return e.__textSvgEl}function Dm(e){return e.__svgEl}function Pm(e){return function(){Vg('In SVG mode painter not support method "'+e+'"')}}var Hm=2311,Bm=function(){return Hm++},jm={};jm="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:t(navigator.userAgent);var Fm=jm,Im={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},qm={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Rm=Object.prototype.toString,Um=Array.prototype,zm=Um.forEach,Wm=Um.filter,Xm=Um.slice,Vm=Um.map,$m=Um.reduce,Jm={},Km=function(){return Jm.createCanvas()};Jm.createCanvas=function(){return document.createElement("canvas")};var Qm,Gm="__ec_primitive__";j.prototype={constructor:j,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){void 0!==t&&(e=y(e,t));for(var n in this.data)this.data.hasOwnProperty(n)&&e(this.data[n],n)},removeKey:function(e){delete this.data[e]}};var Ym=(Object.freeze||Object)({$override:n,clone:r,merge:i,mergeAll:s,extend:o,defaults:u,createCanvas:Km,getContext:a,indexOf:f,inherits:l,mixin:c,isArrayLike:h,each:p,map:d,reduce:v,filter:m,find:g,bind:y,curry:b,isArray:w,isFunction:E,isString:S,isObject:x,isBuiltInObject:T,isTypedArray:N,isDom:C,eqNaN:k,retrieve:L,retrieve2:A,retrieve3:O,slice:M,normalizeCssArray:_,assert:D,trim:P,setAsPrimitive:H,isPrimitive:B,createHashMap:F,concatArray:I,noop:q}),Zm="undefined"==typeof Float32Array?Array:Float32Array,eg=J,tg=K,ng=tt,rg=nt,ig=(Object.freeze||Object)({create:R,copy:U,clone:z,set:W,add:X,scaleAndAdd:V,sub:$,len:J,length:eg,lenSquare:K,lengthSquare:tg,mul:Q,div:G,dot:Y,scale:Z,normalize:et,distance:tt,dist:ng,distanceSquare:nt,distSquare:rg,negate:rt,lerp:it,applyTransform:st,min:ot,max:ut});at.prototype={constructor:at,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(ft(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,r=e.offsetY,i=n-this._x,s=r-this._y;this._x=n,this._y=r,t.drift(i,s,e),this.dispatchToElement(ft(t,e),"drag",e.event);var o=this.findHover(n,r,t).target,u=this._dropTarget;this._dropTarget=o,t!==o&&(u&&o!==u&&this.dispatchToElement(ft(u,e),"dragleave",e.event),o&&o!==u&&this.dispatchToElement(ft(o,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(ft(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(ft(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};var sg=Array.prototype.slice,og=function(e){this._$handlers={},this._$eventProcessor=e};og.prototype={constructor:og,one:function(e,t,n,r){return ct(this,e,t,n,r,!0)},on:function(e,t,n,r){return ct(this,e,t,n,r,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var r=[],i=0,s=n[e].length;s>i;i++)n[e][i].h!==t&&r.push(n[e][i]);n[e]=r}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},trigger:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var r=arguments,i=r.length;i>3&&(r=sg.call(r,1));for(var s=t.length,o=0;s>o;){var u=t[o];if(n&&n.filter&&null!=u.query&&!n.filter(e,u.query))o++;else{switch(i){case 1:u.h.call(u.ctx);break;case 2:u.h.call(u.ctx,r[1]);break;case 3:u.h.call(u.ctx,r[1],r[2]);break;default:u.h.apply(u.ctx,r)}u.one?(t.splice(o,1),s--):o++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var r=arguments,i=r.length;i>4&&(r=sg.call(r,1,r.length-1));for(var s=r[r.length-1],o=t.length,u=0;o>u;){var a=t[u];if(n&&n.filter&&null!=a.query&&!n.filter(e,a.query))u++;else{switch(i){case 1:a.h.call(s);break;case 2:a.h.call(s,r[1]);break;case 3:a.h.call(s,r[1],r[2]);break;default:a.h.apply(s,r)}a.one?(t.splice(u,1),o--):u++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this}};var ug=Math.log(2),ag="___zrEVENTSAVED",fg=[],lg="undefined"!=typeof window&&!!window.addEventListener,cg=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,hg=[],pg=lg?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0},dg=function(){this._track=[]};dg.prototype={constructor:dg,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var r=e.touches;if(r){for(var i={points:[],touches:[],target:t,event:e},s=0,o=r.length;o>s;s++){var u=r[s],a=bt(n,u,{});i.points.push([a.zrX,a.zrY]),i.touches.push(u)}this._track.push(i)}},_recognize:function(e){for(var t in vg)if(vg.hasOwnProperty(t)){var n=vg[t](this._track,e);if(n)return n}}};var vg={pinch:function(e,t){var n=e.length;if(n){var r=(e[n-1]||{}).points,i=(e[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var s=Ct(r)/Ct(i);!isFinite(s)&&(s=1),t.pinchScale=s;var o=kt(r);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:e[0].target,event:t}}}}},mg="silent";Ot.prototype.dispose=function(){};var gg=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],yg=function(e,t,n,r){og.call(this),this.storage=e,this.painter=t,this.painterRoot=r,n=n||new Ot,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,at.call(this),this.setHandlerProxy(n)};yg.prototype={constructor:yg,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(p(gg,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,n=e.zrY,r=_t(this,t,n),i=this._hovered,s=i.target;s&&!s.__zr&&(i=this.findHover(i.x,i.y),s=i.target);var o=this._hovered=r?{x:t,y:n}:this.findHover(t,n),u=o.target,a=this.proxy;a.setCursor&&a.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(o,"mousemove",e),u&&u!==s&&this.dispatchToElement(o,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,n=e.zrIsToLocalDOM;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&!n&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(){this._hovered={}},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){e=e||{};var r=e.target;if(!r||!r.silent){for(var i="on"+t,s=Lt(t,e,n);r&&(r[i]&&(s.cancelBubble=r[i].call(r,s)),r.trigger(t,s),r=r.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(t,s),this.painter&&this.painter.eachOtherLayer(function(e){"function"==typeof e[i]&&e[i].call(e,s),e.trigger&&e.trigger(t,s)}))}},findHover:function(e,t,n){for(var r=this.storage.getDisplayList(),i={x:e,y:t},s=r.length-1;s>=0;s--){var o;if(r[s]!==n&&!r[s].ignore&&(o=Mt(r[s],e,t))&&(!i.topTarget&&(i.topTarget=r[s]),o!==mg)){i.target=r[s];break}}return i},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new dg);var n=this._gestureMgr;"start"===t&&n.clear();var r=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),r){var i=r.type;e.gestureEvent=i,this.dispatchToElement({target:r.target},i,r.event)}}},p(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){yg.prototype[e]=function(t){var n,r,i=t.zrX,s=t.zrY,o=_t(this,i,s);if("mouseup"===e&&o||(n=this.findHover(i,s),r=n.target),"mousedown"===e)this._downEl=r,this._downPoint=[t.zrX,t.zrY],this._upEl=r;else if("mouseup"===e)this._upEl=r;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||ng(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}}),c(yg,og),c(yg,at);var bg="undefined"==typeof Float32Array?Array:Float32Array,wg=(Object.freeze||Object)({create:Dt,identity:Pt,copy:Ht,mul:Bt,translate:jt,rotate:Ft,scale:It,invert:qt,clone:Rt}),Eg=Pt,Sg=5e-5,xg=function(e){e=e||{},e.position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},Tg=xg.prototype;Tg.transform=null,Tg.needLocalTransform=function(){return Ut(this.rotation)||Ut(this.position[0])||Ut(this.position[1])||Ut(this.scale[0]-1)||Ut(this.scale[1]-1)};var Ng=[];Tg.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),r=this.transform;if(!n&&!t)return void (r&&Eg(r));r=r||Dt(),n?this.getLocalTransform(r):Eg(r),t&&(n?Bt(r,e.transform,r):Ht(r,e.transform)),this.transform=r;var i=this.globalScaleRatio;if(null!=i&&1!==i){this.getGlobalScale(Ng);var s=Ng[0]<0?-1:1,o=Ng[1]<0?-1:1,u=((Ng[0]-s)*i+s)/Ng[0]||0,a=((Ng[1]-o)*i+o)/Ng[1]||0;r[0]*=u,r[1]*=u,r[2]*=a,r[3]*=a}this.invTransform=this.invTransform||Dt(),qt(this.invTransform,r)},Tg.getLocalTransform=function(e){return xg.getLocalTransform(this,e)},Tg.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)},Tg.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var Cg=[],kg=Dt();Tg.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],r=this.position,i=this.scale;Ut(t-1)&&(t=Math.sqrt(t)),Ut(n-1)&&(n=Math.sqrt(n)),e[0]<0&&(t=-t),e[3]<0&&(n=-n),r[0]=e[4],r[1]=e[5],i[0]=t,i[1]=n,this.rotation=Math.atan2(-e[1]/n,e[0]/t)}},Tg.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Bt(Cg,e.invTransform,t),t=Cg);var n=this.origin;n&&(n[0]||n[1])&&(kg[4]=n[0],kg[5]=n[1],Bt(Cg,t,kg),Cg[4]-=n[0],Cg[5]-=n[1],t=Cg),this.setLocalTransform(t)}},Tg.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},Tg.transformCoordToLocal=function(e,t){var n=[e,t],r=this.invTransform;return r&&st(n,n,r),n},Tg.transformCoordToGlobal=function(e,t){var n=[e,t],r=this.transform;return r&&st(n,n,r),n},xg.getLocalTransform=function(e,t){t=t||[],Eg(t);var n=e.origin,r=e.scale||[1,1],i=e.rotation||0,s=e.position||[0,0];return n&&(t[4]-=n[0],t[5]-=n[1]),It(t,t,r),i&&Ft(t,t,i),n&&(t[4]+=n[0],t[5]+=n[1]),t[4]+=s[0],t[5]+=s[1],t};var Lg={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-0.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/r)))},elasticOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin(2*(e-t)*Math.PI/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-0.5*n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/r):n*Math.pow(2,-10*(e-=1))*Math.sin(2*(e-t)*Math.PI/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Lg.bounceOut(1-e)},bounceOut:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return.5>e?.5*Lg.bounceIn(2*e):.5*Lg.bounceOut(2*e-1)+.5}};zt.prototype={constructor:zt,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)return void (this._pausedTime+=t);var n=(e-this._startTime-this._pausedTime)/this._life;if(!(0>n)){n=Math.min(n,1);var r=this.easing,i="string"==typeof r?Lg[r]:r,s="function"==typeof i?i(n):n;return this.fire("frame",s),1===n?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Ag=function(){this.head=null,this.tail=null,this._len=0},Og=Ag.prototype;Og.insert=function(e){var t=new Mg(e);return this.insertEntry(t),t},Og.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},Og.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},Og.len=function(){return this._len},Og.clear=function(){this.head=this.tail=null,this._len=0};var Mg=function(e){this.value=e,this.next,this.prev},_g=function(e){this._list=new Ag,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},Dg=_g.prototype;Dg.put=function(e,t){var n=this._list,r=this._map,i=null;if(null==r[e]){var s=n.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var u=n.head;n.remove(u),delete r[u.key],i=u.value,this._lastRemovedEntry=u}o?o.value=t:o=new Mg(t),o.key=e,n.insertEntry(o),r[e]=o}return i},Dg.get=function(e){var t=this._map[e],n=this._list;return null!=t?(t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value):void 0},Dg.clear=function(){this._list.clear(),this._map={}};var Pg={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Hg=new _g(20),Bg=null,jg=on,Fg=un,Ig=(Object.freeze||Object)({parse:en,lift:rn,toHex:sn,fastLerp:on,fastMapToColor:jg,lerp:un,mapToColor:Fg,modifyHSL:an,modifyAlpha:fn,stringify:ln}),qg=Array.prototype.slice,Rg=function(e,t,n,r){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||cn,this._setter=r||hn,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Rg.prototype={when:function(e,t){var n=this._tracks;for(var r in t)if(t.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==e&&n[r].push({time:0,value:wn(i)})}n[r].push({time:e,value:t[r]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;t>n;n++)e[n].call(this)},start:function(e,t){var n,r=this,i=0,s=function(){i--,i||r._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var u=xn(this,e,s,this._tracks[o],o,t);u&&(this._clipList.push(u),i++,this.animation&&this.animation.addClip(u),n=u)}if(n){var a=n.onframe;n.onframe=function(e,t){a(e,t);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](e,t)}}return i||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,r=0;r<t.length;r++){var i=t[r];e&&i.onframe(this._target,1),n&&n.removeClip(i)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var Ug=1;"undefined"!=typeof window&&(Ug=Math.max(window.devicePixelRatio||1,1));var zg=0,Wg=Ug,Xg=function(){};1===zg&&(Xg=console.error);var Vg=Xg,$g=function(){this.animators=[]};$g.prototype={constructor:$g,animate:function(e,t){var n,r=!1,i=this,s=this.__zr;if(e){var o=e.split("."),u=i;r="shape"===o[0];for(var a=0,l=o.length;l>a;a++)u&&(u=u[o[a]]);u&&(n=u)}else n=i;if(!n)return void Vg('Property "'+e+'" is not existed in element '+i.id);var c=i.animators,h=new Rg(n,t);return h.during(function(){i.dirty(r)}).done(function(){c.splice(f(c,h),1)}),c.push(h),s&&s.animation.addAnimator(h),h},stopAnimation:function(e){for(var t=this.animators,n=t.length,r=0;n>r;r++)t[r].stop(e);return t.length=0,this},animateTo:function(e,t,n,r,i,s){Tn(this,e,t,n,r,i,s)},animateFrom:function(e,t,n,r,i,s){Tn(this,e,t,n,r,i,s,!0)}};var Jg=function(e){xg.call(this,e),og.call(this,e),$g.call(this,e),this.id=e.id||Bm()};Jg.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(x(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},c(Jg,$g),c(Jg,xg),c(Jg,og);var Kg=st,Qg=Math.min,Gg=Math.max;kn.prototype={constructor:kn,union:function(e){var t=Qg(e.x,this.x),n=Qg(e.y,this.y);this.width=Gg(e.x+e.width,this.x+this.width)-t,this.height=Gg(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[],n=[],r=[];return function(i){if(i){e[0]=n[0]=this.x,e[1]=r[1]=this.y,t[0]=r[0]=this.x+this.width,t[1]=n[1]=this.y+this.height,Kg(e,e,i),Kg(t,t,i),Kg(n,n,i),Kg(r,r,i),this.x=Qg(e[0],t[0],n[0],r[0]),this.y=Qg(e[1],t[1],n[1],r[1]);var s=Gg(e[0],t[0],n[0],r[0]),o=Gg(e[1],t[1],n[1],r[1]);this.width=s-this.x,this.height=o-this.y}}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,r=e.height/t.height,i=Dt();return jt(i,i,[-t.x,-t.y]),It(i,i,[n,r]),jt(i,i,[e.x,e.y]),i},intersect:function(e){if(!e)return!1;e instanceof kn||(e=kn.create(e));var t=this,n=t.x,r=t.x+t.width,i=t.y,s=t.y+t.height,o=e.x,u=e.x+e.width,a=e.y,f=e.y+e.height;return!(o>r||n>u||a>s||i>f)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new kn(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},kn.create=function(e){return new kn(e.x,e.y,e.width,e.height)};var Yg=function(e){e=e||{},Jg.call(this,e);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};Yg.prototype={constructor:Yg,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,r=n.indexOf(t);r>=0&&(n.splice(r,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof Yg&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,r=this._children,i=f(r,e);return 0>i?this:(r.splice(i,1),e.parent=null,n&&(n.delFromStorage(e),e instanceof Yg&&e.delChildrenFromStorage(n)),t&&t.refresh(),this)},removeAll:function(){var e,t,n=this._children,r=this.__storage;for(t=0;t<n.length;t++)e=n[t],r&&(r.delFromStorage(e),e instanceof Yg&&e.delChildrenFromStorage(r)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];e.call(t,i,r)}return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var r=this._children[n];e.call(t,r),"group"===r.type&&r.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToStorage(n),n instanceof Yg&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromStorage(n),n instanceof Yg&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new kn(0,0,0,0),r=e||this._children,i=[],s=0;s<r.length;s++){var o=r[s];if(!o.ignore&&!o.invisible){var u=o.getBoundingRect(),a=o.getLocalTransform(i);a?(n.copy(u),n.applyTransform(a),t=t||n.clone(),t.union(n)):(t=t||u.clone(),t.union(u))}}return t||n}},l(Yg,Jg);var Zg=32,ey=7,ty=function(){this._roots=[],this._displayList=[],this._displayListLen=0};ty.prototype={constructor:ty,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,r=0,i=t.length;i>r;r++)this._updateAndAddDisplayable(t[r],null,e);n.length=this._displayListLen,Fm.canvasSupported&&Hn(n,Bn)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var r=e.clipPath;if(r){t=t?t.slice():[];for(var i=r,s=e;i;)i.parent=s,i.updateTransform(),t.push(i),s=i,i=i.clipPath}if(e.isGroup){for(var o=e._children,u=0;u<o.length;u++){var a=o[u];e.__dirty&&(a.__dirty=!0),this._updateAndAddDisplayable(a,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof Yg&&e.addChildrenToStorage
(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof Yg&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void (this._displayListLen=0)}if(e instanceof Array)for(var t=0,r=e.length;r>t;t++)this.delRoot(e[t]);else{var i=f(this._roots,e);i>=0&&(this.delFromStorage(e),this._roots.splice(i,1),e instanceof Yg&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Bn};var ny={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},ry=function(e,t,n){return ny.hasOwnProperty(t)?n*=e.dpr:n},iy={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},sy=9,oy=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],uy=function(e){this.extendFrom(e,!1)};uy.prototype={constructor:uy,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,n){var r=this,i=n&&n.style,s=!i||e.__attrCachedBy!==iy.STYLE_BIND;e.__attrCachedBy=iy.STYLE_BIND;for(var o=0;o<oy.length;o++){var u=oy[o],a=u[0];(s||r[a]!==i[a])&&(e[a]=ry(e,a,r[a]||u[1]))}if((s||r.fill!==i.fill)&&(e.fillStyle=r.fill),(s||r.stroke!==i.stroke)&&(e.strokeStyle=r.stroke),(s||r.opacity!==i.opacity)&&(e.globalAlpha=null==r.opacity?1:r.opacity),(s||r.blend!==i.blend)&&(e.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()){var f=r.lineWidth;e.lineWidth=f/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var n in e)!e.hasOwnProperty(n)||t!==!0&&(t===!1?this.hasOwnProperty(n):null==e[n])||(this[n]=e[n])},set:function(e,t){"string"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,n){for(var r="radial"===t.type?Fn:jn,i=r(e,t,n),s=t.colorStops,o=0;o<s.length;o++)i.addColorStop(s[o].offset,s[o].color);return i}};for(var ay=uy.prototype,fy=0;fy<oy.length;fy++){var ly=oy[fy];ly[0]in ay||(ay[ly[0]]=ly[1])}uy.getGradient=ay.getGradient;var cy=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};cy.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var hy=function(e,t,n){var r;n=n||Wg,"string"==typeof e?r=qn(e,t,n):x(e)&&(r=e,e=r.id),this.id=e,this.dom=r;var i=r.style;i&&(r.onselectstart=In,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};hy.prototype={constructor:hy,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=qn("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,r=this.dom,i=r.style,s=this.domBack;i&&(i.width=e+"px",i.height=t+"px"),r.width=e*n,r.height=t*n,s&&(s.width=e*n,s.height=t*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(e,t){var n=this.dom,r=this.ctx,i=n.width,s=n.height,t=t||this.clearColor,o=this.motionBlur&&!e,u=this.lastFrameAlpha,a=this.dpr;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,i/a,s/a)),r.clearRect(0,0,i,s),t&&"transparent"!==t){var f;t.colorStops?(f=t.__canvasGradient||uy.getGradient(r,t,{x:0,y:0,width:i,height:s}),t.__canvasGradient=f):t.image&&(f=cy.prototype.getCanvasPattern.call(t,r)),r.save(),r.fillStyle=f||t,r.fillRect(0,0,i,s),r.restore()}if(o){var l=this.domBack;r.save(),r.globalAlpha=u,r.drawImage(l,0,0,i,s),r.restore()}}};var py="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},dy=new _g(50),vy={},my=0,gy=5e3,yy=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,by="12px sans-serif",wy={};wy.measureText=function(e,t){var n=a();return n.font=t||by,n.measureText(e)};var Ey=by,Sy={left:1,right:1,center:1},xy={top:1,bottom:1,middle:1},Ty=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Ny={},Cy={},ky=new kn,Ly=function(){};Ly.prototype={constructor:Ly,drawRectText:function(e,t){var n=this.style;t=n.textRect||t,this.__dirty&&fr(n,!0);var r=n.text;if(null!=r&&(r+=""),Cr(r,n)){e.save();var i=this.transform;n.transformText?this.setTransform(e):i&&(ky.copy(t),ky.applyTransform(i),t=ky),cr(this,e,r,n,t,sy),e.restore()}}},kr.prototype={constructor:kr,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return r.contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?Jg.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new uy(e,this),this.dirty(!1),this},calculateTextPosition:null},l(kr,Jg),c(kr,Ly),Lr.prototype={constructor:Lr,type:"image",brush:function(e,t){var n=this.style,r=n.image;n.bind(e,this,t);var i=this._image=Un(r,this._image,this,this.onload);if(i&&Wn(i)){var s=n.x||0,o=n.y||0,u=n.width,a=n.height,f=i.width/i.height;if(null==u&&null!=a?u=a*f:null==a&&null!=u?a=u/f:null==u&&null==a&&(u=i.width,a=i.height),this.setTransform(e),n.sWidth&&n.sHeight){var l=n.sx||0,c=n.sy||0;e.drawImage(i,l,c,n.sWidth,n.sHeight,s,o,u,a)}else if(n.sx&&n.sy){var l=n.sx,c=n.sy,h=u-l,p=a-c;e.drawImage(i,l,c,h,p,s,o,u,a)}else e.drawImage(i,s,o,u,a);null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new kn(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},l(Lr,kr);var Ay=1e5,Oy=314159,My=.01,_y=.001,Dy=new kn(0,0,0,0),Py=new kn(0,0,0,0),Hy=function(e,t,n){this.type="canvas";var r=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=o({},n||{}),this.dpr=n.devicePixelRatio||Wg,this._singleCanvas=r,this.root=e;var i=e.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var s=this._zlevelList=[],u=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var a=e.width,f=e.height;null!=n.width&&(a=n.width),null!=n.height&&(f=n.height),this.dpr=n.devicePixelRatio||1,e.width=a*this.dpr,e.height=f*this.dpr,this._width=a,this._height=f;var l=new hy(e,this,this.dpr);l.__builtin__=!0,l.initContext(),u[Oy]=l,l.zlevel=Oy,s.push(Oy),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var c=this._domRoot=Pr(this._width,this._height);e.appendChild(c)}this._hoverlayer=null,this._hoverElements=[]};Hy.prototype={constructor:Hy,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();return e?{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}:void 0},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var r=0;r<n.length;r++){var i=n[r],s=this._layers[i];if(!s.__builtin__&&s.refresh){var o=0===r?this._backgroundColor:null;s.refresh(o)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return n.__from=e,e.__hoverMir=n,t&&n.setStyle(t),this._hoverElements.push(n),n}},removeHover:function(e){var t=e.__hoverMir,n=this._hoverElements,r=f(n,t);r>=0&&n.splice(r,1),e.__hoverMir=null},clearHover:function(){for(var e=this._hoverElements,t=0;t<e.length;t++){var n=e[t].__from;n&&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){Hn(e,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(Ay));var r={};n.ctx.save();for(var i=0;t>i;){var s=e[i],o=s.__from;o&&o.__zr?(i++,o.invisible||(s.transform=o.transform,s.invTransform=o.invTransform,s.__clipPaths=o.__clipPaths,this._doPaintEl(s,n,!0,r))):(e.splice(i,1),o.__hoverMir=null,t--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(Ay)},_paintList:function(e,t,n){if(this._redrawId===n){t=t||!1,this._updateLayerStatus(e);var r=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!r){var i=this;py(function(){i._paintList(e,t,n)})}}},_compositeManually:function(){var e=this.getLayer(Oy).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,t,n)})},_doPaintList:function(e,t){for(var n=[],r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r],s=this._layers[i];s.__builtin__&&s!==this._hoverlayer&&(s.__dirty||t)&&n.push(s)}for(var o=!0,u=0;u<n.length;u++){var s=n[u],a=s.ctx,f={};a.save();var l=t?s.__startIndex:s.__drawIndex,c=!t&&s.incremental&&Date.now,h=c&&Date.now(),d=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,d);else if(l===s.__startIndex){var v=e[l];v.incremental&&v.notClear&&!t||s.clear(!1,d)}-1===l&&(console.error("For some unknown reason. drawIndex is -1"),l=s.__startIndex);for(var m=l;m<s.__endIndex;m++){var g=e[m];if(this._doPaintEl(g,s,t,f),g.__dirty=g.__dirtyText=!1,c){var y=Date.now()-h;if(y>15)break}}s.__drawIndex=m,s.__drawIndex<s.__endIndex&&(o=!1),f.prevElClipPaths&&a.restore(),a.restore()}return Fm.wxa&&p(this._layers,function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()}),o},_doPaintEl:function(e,t,n,r){var i=t.ctx,s=e.transform;if(!(!t.__dirty&&!n||e.invisible||0===e.style.opacity||s&&!s[0]&&!s[3]||e.culling&&Mr(e,this._width,this._height))){var o=e.__clipPaths,u=r.prevElClipPaths;(!u||_r(o,u))&&(u&&(i.restore(),r.prevElClipPaths=null,r.prevEl=null),o&&(i.save(),Dr(o,i),r.prevElClipPaths=o)),e.beforeBrush&&e.beforeBrush(i),e.brush(i,r.prevEl||null),r.prevEl=e,e.afterBrush&&e.afterBrush(i)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Oy);var n=this._layers[e];return n||(n=new hy("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?i(n,this._layerConfig[e],!0):this._layerConfig[e-My]&&i(n,this._layerConfig[e-My],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},insertLayer:function(e,t){var n=this._layers,r=this._zlevelList,i=r.length,s=null,o=-1,u=this._domRoot;if(n[e])return void Vg("ZLevel "+e+" has been used already");if(!Or(t))return void Vg("Layer of zlevel "+e+" is not valid");if(i>0&&e>r[0]){for(o=0;i-1>o&&!(r[o]<e&&r[o+1]>e);o++);s=n[r[o]]}if(r.splice(o+1,0,e),n[e]=t,!t.virtual)if(s){var a=s.dom;a.nextSibling?u.insertBefore(t.dom,a.nextSibling):u.appendChild(t.dom)}else u.firstChild?u.insertBefore(t.dom,u.firstChild):u.appendChild(t.dom)},eachLayer:function(e,t){var n,r,i=this._zlevelList;for(r=0;r<i.length;r++)n=i[r],e.call(t,this._layers[n],n)},eachBuiltinLayer:function(e,t){var n,r,i,s=this._zlevelList;for(i=0;i<s.length;i++)r=s[i],n=this._layers[r],n.__builtin__&&e.call(t,n,r)},eachOtherLayer:function(e,t){var n,r,i,s=this._zlevelList;for(i=0;i<s.length;i++)r=s[i],n=this._layers[r],n.__builtin__||e.call(t,n,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(e){s&&(s.__endIndex!==e&&(s.__dirty=!0),s.__endIndex=e)}if(this.eachBuiltinLayer(function(e){e.__dirty=e.__used=!1}),this._singleCanvas)for(var n=1;n<e.length;n++){var r=e[n];if(r.zlevel!==e[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}for(var i,s=null,o=0,n=0;n<e.length;n++){var u,r=e[n],a=r.zlevel;i!==a&&(i=a,o=0),r.incremental?(u=this.getLayer(a+_y,this._needsManuallyCompositing),u.incremental=!0,o=1):u=this.getLayer(a+(o>0?My:0),this._needsManuallyCompositing),u.__builtin__||Vg("ZLevel "+a+" has been used by unkown layer "+u.id),u!==s&&(u.__used=!0,u.__startIndex!==n&&(u.__dirty=!0),u.__startIndex=n,u.__drawIndex=u.incremental?-1:n,t(n),s=u),r.__dirty&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=n))}t(n),this.eachBuiltinLayer(function(e){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?i(n[e],t,!0):n[e]=t;for(var r=0;r<this._zlevelList.length;r++){var s=this._zlevelList[r];if(s===e||s===e+My){var o=this._layers[s];i(o,n[e],!0)}}}},delLayer:function(e){var t=this._layers,n=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],n.splice(f(n,e),1))},resize:function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||t!==this._height){n.style.width=e+"px",n.style.height=t+"px";for(var i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);p(this._progressiveLayers,function(n){n.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(Oy).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Oy].dom;var t=new hy("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width,r=t.dom.height,i=t.ctx;this.eachLayer(function(e){e.__builtin__?i.drawImage(e.dom,0,0,n,r):e.renderToCanvas&&(t.ctx.save(),e.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var s={},o=this.storage.getDisplayList(!0),u=0;u<o.length;u++){var a=o[u];this._doPaintEl(a,t,!0,s)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],r=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var o=this.root,u=document.defaultView.getComputedStyle(o);return(o[r]||Ar(u[n])||Ar(o.style[n]))-(Ar(u[i])||0)-(Ar(u[s])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),i=e.getBoundingRect(),s=e.style,o=s.shadowBlur*t,u=s.shadowOffsetX*t,a=s.shadowOffsetY*t,f=s.hasStroke()?s.lineWidth:0,l=Math.max(f/2,-u+o),c=Math.max(f/2,u+o),h=Math.max(f/2,-a+o),p=Math.max(f/2,a+o),d=i.width+l+c,v=i.height+h+p;n.width=d*t,n.height=v*t,r.scale(t,t),r.clearRect(0,0,d,v),r.dpr=t;var m={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[l-i.x,h-i.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(r);var g=Lr,y=new g({style:{x:0,y:0,image:n}});return null!=m.position&&(y.position=e.position=m.position),null!=m.rotation&&(y.rotation=e.rotation=m.rotation),null!=m.scale&&(y.scale=e.scale=m.scale),y}};var By=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,og.call(this)};By.prototype={constructor:By,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=f(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,n=this._clips,r=n.length,i=[],s=[],o=0;r>o;o++){var u=n[o],a=u.step(e,t);a&&(i.push(a),s.push(u))}for(var o=0;r>o;)n[o]._needsRemove?(n[o]=n[r-1],n.pop(),r--):o++;r=i.length;for(var o=0;r>o;o++)s[o].fire(i[o]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){function e(){t._running&&(py(e),!t._paused&&t._update())}var t=this;this._running=!0,py(e)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){t=t||{};var n=new Rg(e,t.loop,t.getter,t.setter);return this.addAnimator(n),n}},c(By,og);var jy=300,Fy=Fm.domSupported,Iy=function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=d(e,function(e){var t=e.replace("mouse","pointer");return n.hasOwnProperty(t)?t:e});return{mouse:e,touch:t,pointer:r}}(),qy={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Ry=Rr.prototype;Ry.stopPropagation=Ry.stopImmediatePropagation=Ry.preventDefault=q;var Uy={mousedown:function(e){e=St(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=St(this.dom,e);var t=this._mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||Vr(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=St(this.dom,e),Vr(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=St(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=qr(this,t),this.trigger("mouseout",e)},touchstart:function(e){e=St(this.dom,e),Fr(e),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Uy.mousemove.call(this,e),Uy.mousedown.call(this,e)},touchmove:function(e){e=St(this.dom,e),Fr(e),this.handler.processGesture(e,"change"),Uy.mousemove.call(this,e)},touchend:function(e){e=St(this.dom,e),Fr(e),this.handler.processGesture(e,"end"),Uy.mouseup.call(this,e),+(new Date)-this._lastTouchMoment<jy&&Uy.click.call(this,e)},pointerdown:function(e){Uy.mousedown.call(this,e)},pointermove:function(e){Br(e)||Uy.mousemove.call(this,e)},pointerup:function(e){Uy.mouseup.call(this,e)},pointerout:function(e){Br(e)||Uy.mouseout.call(this,e)}};p(["click","mousewheel","dblclick","contextmenu"],function(e){Uy[e]=function(t){t=St(this.dom,t),this.trigger(e,t)}});var zy={pointermove:function(e){Br(e)||zy.mousemove.call(this,e)},pointerup:function(e){zy.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;Vr(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}},Wy=Jr.prototype;Wy.dispose=function(){Xr(this._localHandlerScope),Fy&&Xr(this._globalHandlerScope)},Wy.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},c(Jr,og);var Xy=!Fm.canvasSupported,Vy={canvas:Hy},$y={},Jy="4.3.1",Ky=function(e,t,n){n=n||{},this.dom=t,this.id=e;var r=this,i=new ty,s=n.renderer;if(Xy){if(!Vy.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");s="vml"}else s&&Vy[s]||(s="canvas");var o=new Vy[s](t,i,n,e);this.storage=i,this.painter=o;var u=Fm.node||Fm.worker?null:new Jr(o.getViewportRoot(),o.root);this.handler=new yg(i,o,u,o.root),this.animation=new By({stage:{update:y(this.flush,this)}}),this.animation.start(),this._needsRefresh;var a=i.delFromStorage,f=i.addToStorage;i.delFromStorage=function(e){a.call(i,e),e&&e.removeSelfFromZr(r)},i.addToStorage=function(e){f.call(i,e),e.addSelfToZr(r)}};Ky.prototype={constructor:Ky,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var n=this.painter.addHover(e,t);return this.refreshHover(),n}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,Zr(this.id)}};var Qy=(Object.freeze||Object)({version:Jy,init:Kr,dispose:Qr,getInstance:Gr,registerPainter:Yr}),Gy=p,Yy=x,Zy=w,eb="series\0",tb=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],nb=0,rb=".",ib="___EC__COMPONENT__CONTAINER___",sb=0,ob=function(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(t,n,r){for(var i={},s=0;s<e.length;s++){var o=e[s][1];if(!(n&&f(n,o)>=0||r&&f(r,o)<0)){var u=t.getShallow(o);null!=u&&(i[e[s][0]]=u)}}return i}},ub=ob([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),ab={getLineStyle:function(e){var t=ub(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),n=Math.max(e,2),r=4*e;return"solid"===t||null==t?!1:"dashed"===t?[r,r]:[n,n]}},fb=ob([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),lb={getAreaStyle:function(e,t){return fb(this,e,t)}},cb=Math.pow,hb=Math.sqrt,pb=1e-8,db=1e-4,vb=hb(3),mb=1/3,gb=R(),yb=R(),bb=R(),wb=Math.min,Eb=Math.max,Sb=Math.sin,xb=Math.cos,Tb=2*Math.PI,Nb=R(),Cb=R(),kb=R(),Lb=[],Ab=[],Ob={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Mb=[],_b=[],Db=[],Pb=[],Hb=Math.min,Bb=Math.max,jb=Math.cos,Fb=Math.sin,Ib=Math.sqrt,qb=Math.abs,Rb="undefined"!=typeof Float32Array,Ub=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};Ub.prototype={constructor:Ub,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,n){n=n||0,this._ux=qb(n/Wg/e)||0,this._uy=qb(n/Wg/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(Ob.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=qb(e-this._xi)>this._ux||qb(t-this._yi)>this._uy||this._len<5;return this.addData(Ob.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,r,i,s){return this.addData(Ob.C,e,t,n,r,i,s),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,r,i,s):this._ctx.bezierCurveTo(e,t,n,r,i,s)),this._xi=i,this._yi=s,this},quadraticCurveTo:function(e,t,n,r){return this.addData(Ob.Q,e,t,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,r):this._ctx.quadraticCurveTo(e,t,n,r)),this._xi=n,this._yi=r,this},arc:function(e,t,n,r,i,s){return this.addData(Ob.A,e,t,n,n,r,i-r,0,s?0:1),this._ctx&&this._ctx.arc(e,t,n,r,i,s),this._xi=jb(i)*n+e,this._yi=Fb(i)*n+t,this},arcTo:function(e,t,n,r,i){return this._ctx&&this._ctx.arcTo(e,t,n,r,i),this},rect:function(e,t,n,r){return this._ctx&&this._ctx.rect(e,t,n,r),this.addData(Ob.R,e,t,n,r),this},closePath:function(){this.addData(Ob.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length===t||!Rb||(this.data=new Float32Array(t));for(var n=0;t>n;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,r=this._len,i=0;t>i;i++)n+=e[i].len();Rb&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(var i=0;t>i;i++)for(var s=e[i].data,o=0;o<s.length;o++)this.data[r++]=s[o];this._len=r},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,r,i=this._dashSum,s=this._dashOffset,o=this._lineDash,u=this._ctx,a=this._xi,f=this._yi,l=e-a,c=t-f,h=Ib(l*l+c*c),p=a,d=f,v=o.length;for(l/=h,c/=h,0>s&&(s=i+s),s%=i,p-=s*l,d-=s*c;l>0&&e>=p||0>l&&p>=e||0===l&&(c>0&&t>=d||0>c&&d>=t);)r=this._dashIdx,n=o[r],p+=l*n,d+=c*n,this._dashIdx=(r+1)%v,l>0&&a>p||0>l&&p>a||c>0&&f>d||0>c&&d>f||u[r%2?"moveTo":"lineTo"](l>=0?Hb(p,e):Bb(p,e),c>=0?Hb(d,t):Bb(d,t));l=p-e,c=d-t,this._dashOffset=-Ib(l*l+c*c)},_dashedBezierTo:function(e,t,n,r,i,s){var o,u,a,f,l,c=this._dashSum,h=this._dashOffset,p=this._lineDash,d=this._ctx,v=this._xi,m=this._yi,g=Ti,y=0,b=this._dashIdx,w=p.length,E=0;for(0>h&&(h=c+h),h%=c,o=0;1>o;o+=.1)u=g(v,e,n,i,o+.1)-g(v,e,n,i,o),a=g(m,t,r,s,o+.1)-g(m,t,r,s,o),y+=Ib(u*u+a*a);for(;w>b&&(E+=p[b],!(E>h));b++);for(o=(E-h)/y;1>=o;)f=g(v,e,n,i,o),l=g(m,t,r,s,o),b%2?d.moveTo(f,l):d.lineTo(f,l),o+=p[b]/y,b=(b+1)%w;b%2!==0&&d.lineTo(i,s),u=i-f,a=s-l,this._dashOffset=-Ib(u*u+a*a)},_dashedQuadraticTo:function(e,t,n,r){var i=n,s=r;n=(n+2*e)/3,r=(r+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,n,r,i,s)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,Rb&&(this.data=new Float32Array(e)))},getBoundingRect:function(){Mb[0]=Mb[1]=Db[0]=Db[1]=Number.MAX_VALUE,_b[0]=_b[1]=Pb[0]=Pb[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,n=0,r=0,i=0,s=0;s<e.length;){var o=e[s++];switch(1===s&&(t=e[s],n=e[s+1],r=t,i=n),o){case Ob.M:r=e[s++],i=e[s++],t=r,n=i,Db[0]=r,Db[1]=i,Pb[0]=r,Pb[1]=i;break;case Ob.L:ji(t,n,e[s],e[s+1],Db,Pb),t=e[s++],n=e[s++];break;case Ob.C:Fi(t,n,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],Db,Pb),t=e[s++],n=e[s++];break;case Ob.Q:Ii(t,n,e[s++],e[s++],e[s],e[s+1],Db,Pb),t=e[s++],n=e[s++];break;case Ob.A:var u=e[s++],a=e[s++],f=e[s++],l=e[s++],c=e[s++],h=e[s++]+c;s+=1;var p=1-e[s++];1===s&&(r=jb(c)*f+u,i=Fb(c)*l+a),qi(u,a,f,l,c,h,p,Db,Pb),t=jb(h)*f+u,n=Fb(h)*l+a;break;case Ob.R:r=t=e[s++],i=n=e[s++];var d=e[s++],v=e[s++];ji(r,i,r+d,i+v,Db,Pb);break;case Ob.Z:t=r,n=i}ot(Mb,Mb,Db),ut(_b,_b,Pb)}return 0===s&&(Mb[0]=Mb[1]=_b[0]=_b[1]=0),new kn(Mb[0],Mb[1],_b[0]-Mb[0],_b[1]-Mb[1])},rebuildPath:function(e){for(var t,n,r,i,s,o,u=this.data,a=this._ux,f=this._uy,l=this._len,c=0;l>c;){var h=u[c++];switch(1===c&&(r=u[c],i=u[c+1],t=r,n=i),h){case Ob.M:t=r=u[c++],n=i=u[c++],e.moveTo(r,i);break;case Ob.L:s=u[c++],o=u[c++],(qb(s-r)>a||qb(o-i)>f||c===l-1)&&(e.lineTo(s,o),r=s,i=o);break;case Ob.C:e.bezierCurveTo(u[c++],u[c++],u[c++],u[c++],u[c++],u[c++]),r=u[c-2],i=u[c-1];break;case Ob.Q:e.quadraticCurveTo(u[c++],u[c++],u[c++],u[c++]),r=u[c-2],i=u[c-1];break;case Ob.A:var p=u[c++],d=u[c++],v=u[c++],m=u[c++],g=u[c++],y=u[c++],b=u[c++],w=u[c++],E=v>m?v:m,S=v>m?1:v/m,x=v>m?m/v:1,T=Math.abs(v-m)>.001,N=g+y;T?(e.translate(p,d),e.rotate(b),e.scale(S,x),e.arc(0,0,E,g,N,1-w),e.scale(1/S,1/x),e.rotate(-b),e.translate(-p,-d)):e.arc(p,d,E,g,N,1-w),1===c&&(t=jb(g)*v+p,n=Fb(g)*m+d),r=jb(N)*v+p,i=Fb(N)*m+d;break;case Ob.R:t=r=u[c],n=i=u[c+1],e.rect(u[c++],u[c++],u[c++],u[c++]);break;case Ob.Z:e.closePath(),r=t,i=n}}}},Ub.CMD=Ob;var zb=2*Math.PI,Wb=2*Math.PI,Xb=Ub.CMD,Vb=2*Math.PI,$b=1e-4,Jb=[-1,-1,-1],Kb=[-1,-1],Qb=cy.prototype.getCanvasPattern,Gb=Math.abs,Yb=new Ub(!0);ts.prototype={constructor:ts,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var n=this.style,r=this.path||Yb,i=n.hasStroke(),s=n.hasFill(),o=n.fill,u=n.stroke,a=s&&!!o.colorStops,f=i&&!!u.colorStops,l=s&&!!o.image,c=i&&!!u.image;if(n.bind(e,this,t),this.setTransform(e),this.__dirty){var h;a&&(h=h||this.getBoundingRect(),this._fillGradient=n.getGradient(e,o,h)),f&&(h=h||this.getBoundingRect(),this._strokeGradient=n.getGradient(e,u,h))}a?e.fillStyle=this._fillGradient:l&&(e.fillStyle=Qb.call(o,e)),f?e.strokeStyle=this._strokeGradient:c&&(e.strokeStyle=Qb.call(u,e));var p=n.lineDash,d=n.lineDashOffset,v=!!e.setLineDash,m=this.getGlobalScale();if(r.setScale(m[0],m[1],this.segmentIgnoreThreshold),this.__dirtyPath||p&&!v&&i?(r.beginPath(e),p&&!v&&(r.setLineDash(p),r.setLineDashOffset(d)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),s)if(null!=n.fillOpacity){var g=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,r.fill(e),e.globalAlpha=g}else r.fill(e);if(p&&v&&(e.setLineDash(p),e.lineDashOffset=d),i)if(null!=n.strokeOpacity){var g=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,r.stroke(e),e.globalAlpha=g}else r.stroke(e);p&&v&&e.setLineDash([]),null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(){},createPathProxy:function(){this.path=new Ub},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var r=this.path;r||(r=this.path=new Ub),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),e=r.getBoundingRect()}if(this._rect=e,t.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){i.copy(e);var s=t.lineWidth,o=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(s=Math.max(s,this.strokeContainThreshold||4)),o>1e-10&&(i.width+=s/o,i.height+=s/o,i.x-=s/o/2,i.y-=s/o/2)}return i}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect(),i=this.style;if(e=n[0],t=n[1],r.contain(e,t)){var s=this.path.data;if(i.hasStroke()){var o=i.lineWidth,u=i.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(i.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),es(s,o/u,e,t)))return!0}if(i.hasFill())return Zi(s,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):kr.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(x(e))for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&Gb(e[0]-1)>1e-10&&Gb(e[3]-1)>1e-10?Math.sqrt(Gb(e[0]*e[3]-e[2]*e[1])):1}},ts.extend=function(e){var t=function(t){ts.call(this,t),e.style&&this.style.extendFrom(e.style,!1);var n=e.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var i in n)!r.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(r[i]=n[i])}e.init&&e.init.call(this,t)};l(t,ts);for(var n in e)"style"!==n&&"shape"!==n&&(t.prototype[n]=e[n]);return t},l(ts,kr);var Zb=Ub.CMD,ew=[[],[],[]],tw=Math.sqrt,nw=Math.atan2,rw=function(e,t){var n,r,i,s,o,u,a=e.data,f=Zb.M,l=Zb.C,c=Zb.L,h=Zb.R,p=Zb.A,d=Zb.Q;for(i=0,s=0;i<a.length;){switch(n=a[i++],s=i,r=0,n){case f:r=1;break;case c:r=1;break;case l:r=3;break;case d:r=2;break;case p:var v=t[4],m=t[5],g=tw(t[0]*t[0]+t[1]*t[1]),y=tw(t[2]*t[2]+t[3]*t[3]),b=nw(-t[1]/y,t[0]/g);a[i]*=g,a[i++]+=v,a[i]*=y,a[i++]+=m,a[i++]*=g,a[i++]*=y,a[i++]+=b,a[i++]+=b,i+=2,s=i;break;case h:u[0]=a[i++],u[1]=a[i++],st(u,u,t),a[s++]=u[0],a[s++]=u[1],u[0]+=a[i++],u[1]+=a[i++],st(u,u,t),a[s++]=u[0],a[s++]=u[1]}for(o=0;r>o;o++){var u=ew[o];u[0]=a[i++],u[1]=a[i++],st(u,u,t),a[s++]=u[0],a[s++]=u[1]}}},iw=Math.sqrt,sw=Math.sin,ow=Math.cos,uw=Math.PI,aw=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},fw=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(aw(e)*aw(t))},lw=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(fw(e,t))},cw=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,hw=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,pw=function(e){kr.call(this,e)};pw.prototype={constructor:pw,type:"text",brush:function(e,t){var n=this.style;this.__dirty&&fr(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var r=n.text;return null!=r&&(r+=""),Cr(r,n)?(this.setTransform(e),cr(this,e,r,n,null,t),void this.restoreTransform(e)):void (e.__attrCachedBy=iy.NONE)},getBoundingRect:function(){var e=this.style;if(this.__dirty&&fr(e,!0),!this._rect){var t=e.text;null!=t?t+="":t="";var n=Vn(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(n.x+=e.x||0,n.y+=e.y||0,Sr(e.textStroke,e.textStrokeWidth)){var r=e.textStrokeWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect}},l(pw,kr);var dw=ts.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}}),vw=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],mw=function(e){return Fm.browser.ie&&Fm.browser.version>=11?function(){var t,n=this.__clipPaths,r=this.style;if(n)for(var i=0;i<n.length;i++){var s=n[i],o=s&&s.shape,u=s&&s.type;if(o&&("sector"===u&&o.startAngle===o.endAngle||"rect"===u&&(!o.width||!o.height))){for(var a=0;a<vw.length;a++)vw[a][2]=r[vw[a][0]],r[vw[a][0]]=vw[a][1];t=!0;break}}if(e.apply(this,arguments),t)for(var a=0;a<vw.length;a++)r[vw[a][0]]=vw[a][2]}:e},gw=ts.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:mw(ts.prototype.brush),buildPath:function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r0||0,0),s=Math.max(t.r,0),o=t.startAngle,u=t.endAngle,a=t.clockwise,f=Math.cos(o),l=Math.sin(o);e.moveTo(f*i+n,l*i+r),e.lineTo(f*s+n,l*s+r),e.arc(n,r,s,o,u,!a),e.lineTo(Math.cos(u)*i+n,Math.sin(u)*i+r),0!==i&&e.arc(n,r,i,u,o,a),e.closePath()}}),yw=ts.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=2*Math.PI;e.moveTo(n+t.r,r),e.arc(n,r,t.r,0,i,!1),e.moveTo(n+t.r0,r),e.arc(n,r,t.r0,0,i,!0)}}),bw=function(e,t){for(var n=e.length,r=[],i=0,s=1;n>s;s++)i+=tt(e[s-1],e[s]);var o=i/2;o=n>o?n:o;for(var s=0;o>s;s++){var u,a,f,l=s/(o-1)*(t?n:n-1),c=Math.floor(l),h=l-c,p=e[c%n];t?(u=e[(c-1+n)%n],a=e[(c+1)%n],f=e[(c+2)%n]):(u=e[0===c?c:c-1],a=e[c>n-2?n-1:c+1],f=e[c>n-3?n-1:c+2]);var d=h*h,v=h*d;r.push([as(u[0],p[0],a[0],f[0],h,d,v),as(u[1],p[1],a[1],f[1],h,d,v)])}return r},ww=function(e,t,n,r){var i,s,o,u,a=[],f=[],l=[],c=[];if(r){o=[1/0,1/0],u=[-1/0,-1/0];for(var h=0,p=e.length;p>h;h++)ot(o,o,e[h]),ut(u,u,e[h]);ot(o,o,r[0]),ut(u,u,r[1])}for(var h=0,p=e.length;p>h;h++){var d=e[h];if(n)i=e[h?h-1:p-1],s=e[(h+1)%p];else{if(0===h||h===p-1){a.push(z(e[h]));continue}i=e[h-1],s=e[h+1]}$(f,s,i),Z(f,f,t);var v=tt(d,i),m=tt(d,s),g=v+m;0!==g&&(v/=g,m/=g),Z(l,f,-v),Z(c,f,m);var y=X([],d,l),b=X([],d,c);r&&(ut(y,y,o),ot(y,y,u),ut(b,b,o),ot(b,b,u)),a.push(y),a.push(b)}return n&&a.push(a.shift()),a},Ew=ts.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){fs(e,t,!0)}}),Sw=ts.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){fs(e,t,!1)}}),xw=Math.round,Tw={},Nw=ts.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n,r,i,s;this.subPixelOptimize?(cs(Tw,t,this.style),n=Tw.x,r=Tw.y,i=Tw.width,s=Tw.height,Tw.r=t.r,t=Tw):(n=t.x,r=t.y,i=t.width,s=t.height),t.r?ar(e,t):e.rect(n,r,i,s),e.closePath()}}),Cw={},kw=ts.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n,r,i,s;this.subPixelOptimize?(ls(Cw,t,this.style),n=Cw.x1,r=Cw.y1,i=Cw.x2,s=Cw.y2):(n=t.x1,r=t.y1,i=t.x2,s=t.y2);var o=t.percent;0!==o&&(e.moveTo(n,r),1>o&&(i=n*(1-o)+i*o,s=r*(1-o)+s*o),e.lineTo(i,s))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),Lw=[],Aw=ts.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,r=t.y1,i=t.x2,s=t.y2,o=t.cpx1,u=t.cpy1,a=t.cpx2,f=t.cpy2,l=t.percent;0!==l&&(e.moveTo(n,r),null==a||null==f?(1>l&&(Pi(n,o,i,l,Lw),o=Lw[1],i=Lw[2],Pi(r,u,s,l,Lw),u=Lw[1],s=Lw[2]),e.quadraticCurveTo(o,u,i,s)):(1>l&&(Li(n,o,a,i,l,Lw),o=Lw[1],a=Lw[2],i=Lw[3],Li(r,u,f,s,l,Lw),u=Lw[1],f=Lw[2],s=Lw[3]),e.bezierCurveTo(o,u,a,f,i,s)))},pointAt:function(e){return ps(this.shape,e,!1)},tangentAt:function(e){var t=ps(this.shape,e,!0);return et(t,t)}}),Ow=ts.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r,0),s=t.startAngle,o=t.endAngle,u=t.clockwise,a=Math.cos(s),f=Math.sin(s);e.moveTo(a*i+n,f*i+r),e.arc(n,r,i,s,o,!u)}}),Mw=ts.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},buildPath:function(e,t){for(var n=t.paths||[],r=0;r<n.length;r++)n[r].buildPath(e,n[r].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),ts.prototype.getBoundingRect.call(this)}}),_w=function(e){this.colorStops=e||[]};_w.prototype={constructor:_w,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var Dw=function(e,t,n,r,i,s){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==n?1:n,this.y2=null==r?0:r,this.type="linear",this.global=s||!1,_w.call(this,i)};Dw.prototype={constructor:Dw},l(Dw,_w);var Pw=function(e,t,n,r,i){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==n?.5:n,this.type="radial",this.global=i||!1,_w.call(this,r)};Pw.prototype={constructor:Pw},l(Pw,_w),ds.prototype.incremental=!0,ds.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},ds.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},ds.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},ds.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},ds.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}},ds.prototype.brush=function(e){for(var t=this._cursor;t<this._displayables.length;t++){var n=this._displayables[t];n.beforeBrush&&n.beforeBrush(e),n.brush(e,t===this._cursor?null:this._displayables[t-1]),n.afterBrush&&n.afterBrush(e)}this._cursor=t;for(var t=0;t<this._temporaryDisplayables.length;t++){var n=this._temporaryDisplayables[t];n.beforeBrush&&n.beforeBrush(e),n.brush(e,0===t?null:this._temporaryDisplayables[t-1]),n.afterBrush&&n.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var Hw=[];ds.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new kn(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(Hw)),e.union(r)}this._rect=e}return this._rect},ds.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();if(r.contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){var s=this._displayables[i];if(s.contain(e,t))return!0}return!1},l(ds,kr);var Bw=Math.max,jw=Math.min,Fw={},Iw=1,qw={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},Rw="emphasis",Uw="normal",zw=1,Ww={},Xw={},Vw=us,$w=hs,Jw=F(),Kw=0;gs("circle",dw),gs("sector",gw),gs("ring",yw),gs("polygon",Ew),gs("polyline",Sw),gs("rect",Nw),gs("line",kw),gs("bezierCurve",Aw),gs("arc",Ow);var Qw=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:Iw,CACHED_LABEL_STYLE_PROPERTIES:qw,extendShape:vs,extendPath:ms,registerShape:gs,getShapeClass:ys,makePath:bs,makeImage:ws,mergePath:Vw,resizePath:Ss,subPixelOptimizeLine:xs,subPixelOptimizeRect:Ts,subPixelOptimize:$w,setElementHoverStyle:_s,setHoverStyle:Fs,setAsHighDownDispatcher:Is,isHighDownDispatcher:qs,getHighlightDigit:Rs,setLabelStyle:Us,modifyLabelStyle:zs,setTextStyle:Ws,setText:Xs,getFont:Ys,updateProps:eo,initProps:to,getTransform:no,applyTransform:ro,transformDirection:io,groupTransition:so,clipPointsByRect:oo,clipRectByRect:uo,createIcon:ao,linePolygonIntersect:fo,lineLineIntersect:lo,Group:Yg,Image:Lr,Text:pw,Circle:dw,Sector:gw,Ring:yw,Polygon:Ew,Polyline:Sw,Rect:Nw,Line:kw,BezierCurve:Aw,Arc:Ow,IncrementalDisplayable:ds,CompoundPath:Mw,LinearGradient:Dw,RadialGradient:Pw,BoundingRect:kn}),Gw=["textStyle","color"],Yw={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(Gw):null)},getFont:function(){return Ys({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return Vn(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},Zw=ob([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),eE={getItemStyle:function(e,t){var n=Zw(this,e,t),r=this.getBorderLineDash();return r&&(n.lineDash=r),n},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}},tE=c,nE=fi();po.prototype={constructor:po,init:null,mergeOption:function(e){i(this.option,e,!0)},get:function(e,t){return null==e?this.option:vo(this.option,this.parsePath(e),!t&&mo(this,e))},getShallow:function(e,t){var n=this.option,r=null==n?n:n[e],i=!t&&mo(this,e);return null==r&&i&&(r=i.getShallow(e)),r},getModel:function(e,t){var n,r=null==e?this.option:vo(this.option,e=this.parsePath(e));return t=t||(n=mo(this,e))&&n.getModel(e),new po(r,t,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var e=this.constructor;return new e(r(this.option))},setReadOnly:function(){},parsePath:function(e){return"string"==typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){nE(this).getParent=e},isAnimationEnabled:function(){if(!Fm.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},gi(po),yi(po),tE(po,ab),tE(po,lb),tE(po,Yw),tE(po,eE);var rE=0,iE=1e-4,sE=9007199254740991,oE=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,uE=(Object.freeze||Object)({linearMap:Eo,parsePercent:So,round:xo,asc:To,getPrecision:No,getPrecisionSafe:Co,getPixelPrecision:ko,getPercentWithPrecision:Lo,MAX_SAFE_INTEGER:sE,remRadian:Ao,isRadianAroundZero:Oo,parseDate:Mo,quantity:_o,quantityExponent:Do,nice:Po,quantile:Ho,reformIntervals:Bo,isNumeric:jo}),aE=_,fE=/([&<>"'])/g,lE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cE=["a","b","c","d","e","f","g"],hE=function(e,t){return"{"+e+(null==t?"":t)+"}"},pE=Yn,dE=(Object.freeze||Object)({addCommas:Fo,toCamelCase:Io,normalizeCssArray:aE,encodeHTML:qo,formatTpl:Ro,formatTplSimple:Uo,getTooltipMarker:zo,formatTime:Xo,capitalFirst:Vo,truncateText:pE,getTextBoundingRect:$o,getTextRect:Jo,windowOpen:Ko}),vE=p,mE=["left","right","top","bottom","width","height"],gE=[["width","left","right"],["height","top","bottom"]],yE=Qo,bE=(b(Qo,"vertical"),b(Qo,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),wE=fi(),EE=po.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,r){po.call(this,e,t,n,r),this.uid=go("ec_cpt_model")},init:function(e,t,n){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,r=n?eu(e):{},s=t.getTheme();i(e,s.get(this.mainType)),i(e,this.getDefaultOption()),n&&Zo(e,r,n)},mergeOption:function(e){i(this.option,e,!0);var t=this.layoutMode;t&&Zo(this.option,e,t)},optionUpdated:function(){},getDefaultOption:function(){var e=wE(this);if(!e.defaultOption){for(var t=[],n=this.constructor;n;){var r=n.prototype.defaultOption;r&&t.push(r),n=n.superClass}for(var s={},o=t.length-1;o>=0;o--)s=i(s,t[o],!0);e.defaultOption=s}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});Ei(EE,{registerWhenExtend:!0}),yo(EE),bo(EE,nu),c(EE,bE);var SE="";"undefined"!=typeof navigator&&(SE=navigator.platform||"");var xE={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:SE.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},TE=fi(),NE={clearColorPalette:function(){TE(this).colorIdx=0,TE(this).colorNameMap={}},getColorFromPalette:function(e,t,n){t=t||this;var r=TE(t),i=r.colorIdx||0,s=r.colorNameMap=r.colorNameMap||{};if(s.hasOwnProperty(e))return s[e];var o=ei(this.get("color",!0)),u=this.get("colorLayer",!0),a=null!=n&&u?ru(u,n):o;if(a=a||o,a&&a.length){var f=a[i];return e&&(s[e]=f),r.colorIdx=(i+1)%a.length,f}}},CE="original",kE="arrayRows",LE="objectRows",AE="keyedColumns",OE="unknown",ME="typedArray",_E="column",DE="row";iu.seriesDataToSource=function(e){return new iu({data:e,sourceFormat:N(e)?ME:CE,fromDataset:!1})},yi(iu);var PE={Must:1,Might:2,Not:3},HE=fi(),BE="\0_ec_inner",jE=po.extend({init:function(e,t,n,r){n=n||{},this.option=null,this._theme=new po(n),this._optionManager=r},setOption:function(e,t,n){D(!(BE in e),"please use chart.getOption()"),n&&(this.option=null),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,n=this._optionManager;if(!e||"recreate"===e){var r=n.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(r)):wu.call(this,r),t=!0}if(("timeline"===e||"media"===e)&&this.restoreData(),!e||"recreate"===e||"timeline"===e){var i=n.getTimelineOption(this);i&&(this.mergeOption(i),t=!0)}if(!e||"recreate"===e||"media"===e){var s=n.getMediaOption(this,this._api);s.length&&p(s,function(e){this.mergeOption(e,t=!0)},this)}return t},mergeOption:function(e){function t(t,r){var i=ei(e[t]),u=ii(s.get(t),i);si(u),p(u,function(e){var n=e.option;x(n)&&(e.keyInfo.mainType=t,e.keyInfo.subType=Su(t,n,e.exist))});var a=Eu(s,r);n[t]=[],s.set(t,[]),p(u,function(e,r){var i=e.exist,u=e.option;if(D(x(u)||i,"Empty component definition"),u){var f=EE.getClass(t,e.keyInfo.subType,!0);if(i&&i.constructor===f)i.name=e.keyInfo.name,i.mergeOption(u,this),i.optionUpdated(u,!1);else{var l=o({dependentModels:a,componentIndex:r},e.keyInfo);i=new f(u,this,this,l),o(i,l),i.init(u,this,this,l),i.optionUpdated(null,!0)}}else i.mergeOption({},this),i.optionUpdated({},!1);s.get(t)[r]=i,n[t][r]=i.option},this),"series"===t&&xu(this,s.get("series"))}var n=this.option,s=this._componentsMap,u=[];uu(this),p(e,function(e,t){null!=e&&(EE.hasClass(t)?t&&u.push(t):n[t]=null==n[t]?r(e):i(n[t],e,!0))}),EE.topologicalTravel(u,EE.getAllClassMainTypes(),t,this),this._seriesIndicesMap=F(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=r(this.option);return p(e,function(t,n){if(EE.hasClass(n)){for(var t=ei(t),r=t.length-1;r>=0;r--)ui(t[r])&&t.splice(r,1);e[n]=t}}),delete e[BE],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap.get(e);return n?n[t||0]:void 0},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n=e.index,r=e.id,i=e.name,s=this._componentsMap.get(t);if(!s||!s.length)return[];var o;if(null!=n)w(n)||(n=[n]),o=m(d(n,function(e){return s[e]}),function(e){return!!e});else if(null!=r){var u=w(r);o=m(s,function(e){return u&&f(r,e.id)>=0||!u&&e.id===r})}else if(null!=i){var a=w(i);o=m(s,function(e){return a&&f(i,e.name)>=0||!a&&e.name===i})}else o=s.slice();return Tu(o,e)},findComponents:function(e){function t(e){var t=i+"Index",n=i+"Id",r=i+"Name";return!e||null==e[t]&&null==e[n]&&null==e[r]?null:{mainType:i,index:e[t],id:e[n],name:e[r]}}function n(t){return e.filter?m(t,e.filter):t}var r=e.query,i=e.mainType,s=t(r),o=s?this.queryComponents(s):this._componentsMap.get(i);return n(Tu(o,e))},eachComponent:function(e,t,n){var r=this._componentsMap;if("function"==typeof e)n=t,t=e,r.each(function(e,r){p(e,function(e,i){t.call(n,r,e,i)})});else if(S(e))p(r.get(e),t,n);else if(x(e)){var i=this.findComponents(e);p(i,t,n)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return m(t,function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return m(t,function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){p(this._seriesIndices,function(n){var r=this._componentsMap.get("series")[n];e.call(t,r,n)},this)},eachRawSeries:function(e,t){p(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,n){p(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];i.subType===e&&t.call(n,i,r)},this)},eachRawSeriesByType:function(e,t,n){return p(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){var n=m(this._componentsMap.get("series"),e,t);xu(this,n)},restoreData:function(e){var t=this._componentsMap;xu(this,t.get("series"));var n=[];t.each(function(e,t){n.push(t)}),EE.topologicalTravel(n,EE.getAllClassMainTypes(),function(n){p(t.get(n),function(t){("series"!==n||!yu(t,e))&&t.restoreData()})})}});c(jE,NE);var FE=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],IE={};Cu.prototype={constructor:Cu,create:function(e,t){var n=[];p(IE,function(r){var i=r.create(e,t);n=n.concat(i||[])}),this._coordinateSystems=n},update:function(e,t){p(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Cu.register=function(e,t){IE[e]=t},Cu.get=function(e){return IE[e]};var qE=p,RE=r,UE=d,zE=i,WE=/^(min|max)?(.+)$/;ku.prototype={constructor:ku,setOption:function(e,t){e&&p(ei(e.series),function(e){e&&e.data&&N(e.data)&&H(e.data)}),e=RE(e);var n=this._optionBackup,r=Lu.call(this,e,t,!n);this._newBaseOption=r.baseOption,n?(_u(n.baseOption,r.baseOption),r.timelineOptions.length&&(n.timelineOptions=r.timelineOptions),r.mediaList.length&&(n.mediaList=r.mediaList),r.mediaDefault&&(n.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=UE(t.timelineOptions,RE),this._mediaList=UE(t.mediaList,RE),this._mediaDefault=RE(t.mediaDefault),this._currentMediaIndices=[],RE(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var r=e.getComponent("timeline");r&&(t=RE(n[r.getCurrentIndex()],!0))}return t},getMediaOption:function(){var e=this._api.getWidth(),t=this._api.getHeight(),n=this._mediaList,r=this._mediaDefault,i=[],s=[];if(!n.length&&!r)return s;for(var o=0,u=n.length;u>o;o++)Au(n[o].query,e,t)&&i.push(o);return!i.length&&r&&(i=[-1]),i.length&&!Mu(i,this._currentMediaIndices)&&(s=UE(i,function(e){return RE(-1===e?r.option:n[e].option)})),this._currentMediaIndices=i,s}};var XE=p,VE=x,$E=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],JE=function(e,t){XE(Iu(e.series),function(e){VE(e)&&Fu(e)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),XE(n,function(t){XE(Iu(e[t]),function(e){e&&(Bu(e,"axisLabel"),Bu(e.axisPointer,"label"))})}),XE(Iu(e.parallel),function(e){var t=e&&e.parallelAxisDefault;Bu(t,"axisLabel"),Bu(t&&t.axisPointer,"label")}),XE(Iu(e.calendar),function(e){Pu(e,"itemStyle"),Bu(e,"dayLabel"),Bu(e,"monthLabel"),Bu(e,"yearLabel")}),XE(Iu(e.radar),function(e){Bu(e,"name")}),XE(Iu(e.geo),function(e){VE(e)&&(ju(e),XE(Iu(e.regions),function(e){ju(e)}))}),XE(Iu(e.timeline),function(e){ju(e),Pu(e,"label"),Pu(e,"itemStyle"),Pu(e,"controlStyle",!0);var t=e.data;w(t)&&p(t,function(e){x(e)&&(Pu(e,"label"),Pu(e,"itemStyle"))})}),XE(Iu(e.toolbox),function(e){Pu(e,"iconStyle"),XE(e.feature,function(e){Pu(e,"iconStyle")})}),Bu(qu(e.axisPointer),"label"),Bu(qu(e.tooltip).axisPointer,"label")},KE=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],QE=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],GE=function(e,t){JE(e,t),e.series=ei(e.series),p(e.series,function(e){if(x(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t)null!=e.clockWise&&(e.clockwise=e.clockWise);else if("gauge"===t){var n=Ru(e,"pointer.color");null!=n&&Uu(e,"itemStyle.color",n)}zu(e)}}),e.dataRange&&(e.visualMap=e.dataRange),p(QE,function(t){var n=e[t];n&&(w(n)||(n=[n]),p(n,function(e){zu(e)}))})},YE=function(e){var t=F();e.eachSeries(function(e){var n=e.get("stack");if(n){var r=t.get(n)||t.set(n,[]),i=e.getData(),s={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:e};if(!s.stackedDimension||!s.isStackedByIndex&&!s.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(s)}}),t.each(Wu)},ZE=Xu.prototype;ZE.pure=!1,ZE.persistent=!0,ZE.getSource=function(){return this._source};var eS={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Ju},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],n=this._data,r=0;r<n.length;r++){var i=n[r];t.push(i?i[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Vu,getItem:$u,appendData:Ju},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],n=this._source.dimensionsDefine,r=0;r<n.length;r++){var i=this._data[n[r].name];t.push(i?i[e]:null)}return t},appendData:function(e){var t=this._data;p(e,function(e,n){for(var r=t[n]||(t[n]=[]),i=0;i<(e||[]).length;i++)r.push(e[i])})}},original:{count:Vu,getItem:$u,appendData:Ju},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e-=this._offset,t=t||[];for(var n=this._dimSize*e,r=0;r<this._dimSize;r++)t[r]=this._data[n+r];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}},tS={arrayRows:Ku,objectRows:function(e,t,n,r){return null!=n?e[r]:e},keyedColumns:Ku,original:function(e,t,n){var r=ni(e);return null!=n&&r instanceof Array?r[n]:r},typedArray:Ku},nS={arrayRows:Qu,objectRows:function(e,t){return Gu(e[t],this._dimensionInfos[t])},keyedColumns:Qu,original:function(e,t,n,r){var i=e&&(null==e.value?e:e.value);return!this._rawData.pure&&ri(e)&&(this.hasItemOption=!0),Gu(i instanceof Array?i[r]:i,this._dimensionInfos[t])},typedArray:function(e,t,n,r){return e[r]}},rS=/\{@(.+?)\}/g,iS={getDataParams:function(e,t){var n=this.getData(t),r=this.getRawValue(e,t),i=n.getRawIndex(e),s=n.getName(e),o=n.getRawDataItem(e),u=n.getItemVisual(e,"color"),a=n.getItemVisual(e,"borderColor"),f=this.ecModel.getComponent("tooltip"),l=f&&f.get("renderMode"),c=di(l),h=this.mainType,p="series"===h,d=n.userOutput;return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:s,dataIndex:i,data:o,dataType:t,value:r,color:u,borderColor:a,dimensionNames:d?d.dimensionNames:null,encode:d?d.encode:null,marker:zo({color:u,renderMode:c}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,r,i){t=t||"normal";var s=this.getData(n),o=s.getItemModel(e),u=this.getDataParams(e,n);null!=r&&u.value instanceof Array&&(u.value=u.value[r]);var a=o.get("normal"===t?[i||"label","formatter"]:[t,i||"label","formatter"]);if("function"==typeof a)return u.status=t,u.dimensionIndex=r,a(u);if("string"==typeof a){var f=Ro(a,u);return f.replace(rS,function(t,n){var r=n.length;return"["===n.charAt(0)&&"]"===n.charAt(r-1)&&(n=+n.slice(1,r-1)),Yu(s,e,n)})}},getRawValue:function(e,t){return Yu(this.getData(t),e)},formatTooltip:function(){}},sS=ta.prototype;sS.perform=function(e){function t(e){return!(e>=1)&&(e=1),e}var n=this._upstream,r=e&&e.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var s;this._plan&&!r&&(s=this._plan(this.context));var o=t(this._modBy),u=this._modDataCount||0,a=t(e&&e.modBy),f=e&&e.modDataCount||0;(o!==a||u!==f)&&(s="reset");var l;(this._dirty||"reset"===s)&&(this._dirty=!1,l=ra(this,r)),this._modBy=a,this._modDataCount=f;var c=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(null!=c?this._dueIndex+c:1/0,this._dueEnd);if(!r&&(l||p>h)){var d=this._progress;if(w(d))for(var v=0;v<d.length;v++)na(this,d[v],h,p,a,f);else na(this,d,h,p,a,f)}this._dueIndex=p;var m=null!=this._settedOutputEnd?this._settedOutputEnd:p;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var oS=function(){function e(){return n>r?r++:null}function t(){var e=r%o*i+Math.ceil(r/o),t=r>=n?null:s>e?e:r;return r++,t}var n,r,i,s,o,u={reset:function(a,f,l,c){r=a,n=f,i=l,s=c,o=Math.ceil(s/i),u.next=i>1&&s>0?t:e}};return u}();sS.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},sS.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},sS.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},sS.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},sS.getUpstream=function(){return this._upstream},sS.getDownstream=function(){return this._downstream},sS.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var uS=fi(),aS=EE.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,n){this.seriesIndex=this.componentIndex,this.dataTask=ea({count:oa,reset:ua}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),au(this);var r=this.getInitialData(e,n);fa(r,this),this.dataTask.context.data=r,uS(this).dataBeforeProcessed=r,ia(this)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,r=n?eu(e):{},s=this.subType;EE.hasClass(s)&&(s+="Series"),i(e,t.getTheme().get(this.subType)),i(e,this.getDefaultOption()),ti(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&Zo(e,r,n)},mergeOption:function(e,t){e=i(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&Zo(this.option,e,n),au(this);var r=this.getInitialData(e,t);fa(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,uS(this).dataBeforeProcessed=r,ia(this)},fillDataTextStyle:function(e){if(e&&!N(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&ti(e[n],"label",t)},getInitialData:function(){},appendData:function(e){var t=this.getRawData();t.appendData(e.data)},getData:function(e){var t=ca(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return uS(this).data},setData:function(e){var t=ca(this);if(t){var n=t.context;n.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),n.outputData=e,t!==this.dataTask&&(n.data=e)}uS(this).data=e},getSource:function(){return ou(this)},getRawData:function(){return uS(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n,r){function i(n){function i(e,n){var i=c.getDimensionInfo(n);if(i&&i.otherDims.tooltip!==!1){var h=i.type,p="sub"+o.seriesIndex+"at"+l,d=zo({color:y,type:"subItem",renderMode:r,markerId:p}),v="string"==typeof d?d:d.content,m=(s?v+qo(i.displayName||"-")+": ":"")+qo("ordinal"===h?e+"":"time"===h?t?"":Xo("yyyy/MM/dd hh:mm:ss",e):Fo(e));m&&u.push(m),a&&(f[p]=y,++l)}}var s=v(n,function(e,t,n){var r=c.getDimensionInfo(n);return e|=r&&r.tooltip!==!1&&null!=r.displayName},0),u=[];h.length?p(h,function(t){i(Yu(c,e,t),t)}):p(n,i);var d=s?a?"\n":"<br/>":"",m=d+u.join(d||", ");return{renderMode:r,content:m,style:f}}function s(e){return{renderMode:r,content:qo(Fo(e)),style:f}}var o=this;r=r||"html";var u="html"===r?"<br/>":"\n",a="richText"===r,f={},l=0,c=this.getData(),h=c.mapDimension("defaultedTooltip",!0),d=h.length,m=this.getRawValue(e),g=w(m),y=c.getItemVisual(e,"color");x(y)&&y.colorStops&&(y=(y.colorStops[0]||{}).color),y=y||"transparent";var b=d>1||g&&!d?i(m):s(d?Yu(c,e,h[0]):g?m[0]:m),E=b.content,S=o.seriesIndex+"at"+l,T=zo({color:y,type:"item",renderMode:r,markerId:S});f[S]=y,++l;var N=c.getName(e),C=this.name;oi(this)||(C=""),C=C?qo(C)+(t?": ":u):"";var k="string"==typeof T?T:T.content,L=t?k+C+E:C+k+(N?qo(N)+": "+E:E);return{html:L,markers:f}},isAnimationEnabled:function(){if(Fm.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,n){var r=this.ecModel,i=NE.getColorFromPalette.call(this,e,t,n);return i||(i=r.getColorFromPalette(e,t,n)),i},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});c(aS,iS),c(aS,NE);var fS=function(){this.group=new Yg,this.uid=go("viewComponent")};fS.prototype={constructor:fS,init:function(){},render:function(){},dispose:function(){},filterForExposedEvent:null};var lS=fS.prototype;lS.updateView=lS.updateLayout=lS.updateVisual=function(){},gi(fS),Ei(fS,{registerWhenExtend:!0});var cS=function(){var e=fi();return function(t){var n=e(t),r=t.pipelineContext,i=n.large,s=n.progressiveRender,o=n.large=r&&r.large,u=n.progressiveRender=r&&r.progressiveRender;return!!(i^o||s^u)&&"reset"}},hS=fi(),pS=cS();ha.prototype={type:"chart",init:function(){},render:function(){},highlight:function(e,t,n,r){da(e.getData(),r,"emphasis")},downplay:function(e,t,n,r){da(e.getData(),r,"normal")},remove:function(){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var dS=ha.prototype;dS.updateView=dS.updateLayout=dS.updateVisual=function(e,t,n,r){this.render(e,t,n,r)},gi(ha,["dispose"]),Ei(ha,{registerWhenExtend:!0}),ha.markUpdateMethod=function(e,t){hS(e).updateMethod=t};var vS={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},mS="\0__throttleOriginMethod",gS="\0__throttleRate",yS="\0__throttleType",bS={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=(e.visualColorAccessPath||"itemStyle.color").split("."),i=e.get(r),s=!E(i)||i instanceof _w?null:i;(!i||s)&&(i=e.getColorFromPalette(e.name,null,t.getSeriesCount())),n.setVisual("color",i);var o=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),u=e.get(o);if(n.setVisual("borderColor",u),!t.isSeriesFiltered(e)){s&&n.each(function(t){n.setItemVisual(t,"color",s(e.getDataParams(t)))});var a=function(e,t){var n=e.getItemModel(t),i=n.get(r,!0),s=n.get(o,!0);null!=i&&e.setItemVisual(t,"color",i),null!=s&&e.setItemVisual(t,"borderColor",s)};return{dataEach:n.hasItemOption?a:null}}}},wS={legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}},ES=function(e,t){function n(e,t){if("string"!=typeof e)return e;var n=e;return p(t,function(e,t){n=n.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)}),n}function r(e){var t=o.get(e);if(null==t){for(var n=e.split("."),r=wS.aria,i=0;i<n.length;++i)r=r[n[i]];return r}return t}function i(){var e=t.getModel("title").option;return e&&e.length&&(e=e[0]),e&&e.text}function s(e){return wS.series.typeNames[e]||"\u81ea\u5b9a\u4e49\u56fe"}var o=t.getModel("aria");if(o.get("show")){if(o.get("description"))return void e.setAttribute("aria-label",o.get("description"));var u=0;t.eachSeries(function(){++u},this);var a,f=o.get("data.maxCount")||10,l=o.get("series.maxCount")||10,c=Math.min(u,l);if(!(1>u)){var h=i();a=h?n(r("general.withTitle"),{title:h}):r("general.withoutTitle");var d=[],v=u>1?"series.multiple.prefix":"series.single.prefix";a+=n(r(v),{seriesCount:u}),t.eachSeries(function(e,t){if(c>t){var i,o=e.get("name"),a="series."+(u>1?"multiple":"single")+".";i=r(o?a+"withName":a+"withoutName"),i=n(i,{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:s(e.subType)});var l=e.getData();window.data=l,i+=l.count()>f?n(r("data.partialData"),{displayCnt:f}):r("data.allData");for(var h=[],p=0;p<l.count();p++)if(f>p){var v=l.getName(p),m=Yu(l,p);h.push(n(r(v?"data.withName":"data.withoutName"),{name:v,value:m}))}i+=h.join(r("data.separator.middle"))+r("data.separator.end"),d.push(i)}}),a+=d.join(r("series.multiple.separator.middle"))+r("series.multiple.separator.end"),e.setAttribute("aria-label",a)}}},SS=Math.PI,xS=function(e,t){t=t||{},u(t,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Yg,r=new Nw({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var i=t.fontSize+" sans-serif",s=new Nw({style:{fill:"none",text:t.text,font:i,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(n.add(s),t.showSpinner){var o=new Ow({shape:{startAngle:-SS/2,endAngle:-SS/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*SS/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*SS/2}).delay(300).start("circularInOut"),n.add(o)}return n.resize=function(){var n=Xn(t.text,i),u=t.showSpinner?t.spinnerRadius:0,a=(e.getWidth()-2*u-(t.showSpinner&&n?10:0)-n)/2-(t.showSpinner?0:n/2),f=e.getHeight()/2;t.showSpinner&&o.setShape({cx:a,cy:f}),s.setShape({x:a-u,y:f-u,width:2*u,height:2*u}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n},TS=wa.prototype;TS.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(e){var t=e.overallTask;t&&t.dirty()})},TS.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),r=n.context,i=!t&&n.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>n.blockIndex,s=i?n.step:null,o=r&&r.modDataCount,u=null!=o?Math.ceil(o/s):null;return{step:s,modBy:u,modDataCount:o}}},TS.getPipeline=function(e){return this._pipelineMap.get(e)},TS.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),r=e.getData(),i=r.count(),s=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,o=e.get("large")&&i>=e.get("largeThreshold"),u="mod"===e.get("progressiveChunkMode")?i:null;e.pipelineContext=n.context={progressiveRender:s,modDataCount:u,large:o}},TS.restorePipelines=function(e){var t=this,n=t._pipelineMap=F();e.eachSeries(function(e){var r=e.getProgressive(),i=e.uid;n.set(i,{id:i,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:r&&(!e.preventIncremental||!e.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),_a(t,e,e.dataTask)})},TS.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),n=this.api;p(this._allHandlers,function(r){var i=e.get(r.uid)||e.set(r.uid,[]);r.reset&&Sa(this,r,i,t,n),r.overallReset&&xa(this,r,i,t,n)},this)},TS.prepareView=function(e,t,n,r){var i=e.renderTask,s=i.context;s.model=t,s.ecModel=n,s.api=r,i.__block=!e.incrementalPrepareRender,_a(this,t,i)},TS.performDataProcessorTasks=function(e,t){Ea(this,this._dataProcessorHandlers,e,t,{block:!0})},TS.performVisualTasks=function(e,t,n){Ea(this,this._visualHandlers,e,t,n)},TS.performSeriesTasks=function(e){var t;e.eachSeries(function(e){t|=e.dataTask.perform()}),this.unfinished|=t},TS.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var NS=TS.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},CS=Oa(0);wa.wrapStageHandler=function(e,t){return E(e)&&(e={overallReset:e,seriesType:Da(e)}),e.uid=go("stageHandler"),t&&(e.visualType=t),e};var kS,LS={},AS={};Pa(LS,jE),Pa(AS,Nu),LS.eachSeriesByType=LS.eachRawSeriesByType=function(e){kS=e},LS.eachComponent=function(e){"series"===e.mainType&&e.subType&&(kS=e.subType)};var OS=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],MS={color:OS,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],OS]},_S="#eee",DS=function(){return{axisLine:{lineStyle:{color:_S}},axisTick:{lineStyle:{color:_S}},axisLabel:{textStyle:{color:_S}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:_S}}}},PS=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],HS={color:PS,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:_S},crossStyle:{color:_S},label:{color:"#000"}}},legend:{textStyle:{color:_S}},textStyle:{color:_S},title:{textStyle:{color:_S}},toolbox:{iconStyle:{normal:{borderColor:_S}}},dataZoom:{textStyle:{color:_S}},visualMap:{textStyle:{color:_S}},timeline:{lineStyle:{color:_S},itemStyle:{normal:{color:PS[1]}},label:{normal:{textStyle:{color:_S}}},controlStyle:{normal:{color:_S,borderColor:_S}}},timeAxis:DS(),logAxis:DS(),valueAxis:DS(),categoryAxis:DS(),line:{symbol:"circle"},graph:{color:PS},gauge:{title:{textStyle:{color:_S}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};HS.categoryAxis.splitLine.show=!1,EE.extend({type:"dataset",defaultOption:{seriesLayoutBy:_E,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){su(this)}}),fS.extend({type:"dataset"});var BS=ts.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var n=.5522848,r=t.cx,i=t.cy,s=t.rx,o=t.ry,u=s*n,a=o*n;e.moveTo(r-s,i),e.bezierCurveTo(r-s,i-a,r-u,i-o,r,i-o),e.bezierCurveTo(r+u,i-o,r+s,i-a,r+s,i),e.bezierCurveTo(r+s,i+a,r+u,i+o,r,i+o),e.bezierCurveTo(r-u,i+o,r-s,i+a,r-s,i),e.closePath()}}),jS=/[\s,]+/;Ba.prototype.parse=function(e,t){t=t||{};var n=Ha(e);if(!n)throw new Error("Illegal svg");var r=new Yg;this._root=r;var i=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||t.width),o=parseFloat(n.getAttribute("height")||t.height);isNaN(s)&&(s=null),isNaN(o)&&(o=null),qa(n,r,null,!0);for(var u=n.firstChild;u;)this._parseNode(u,r),u=u.nextSibling;var a,f;if(i){var l=P(i).split(jS);l.length>=4&&(a={x:parseFloat(l[0]||0),y:parseFloat(l[1]||0),width:parseFloat(l[2]),height:parseFloat(l[3])})}if(a&&null!=s&&null!=o&&(f=Wa(a,s,o),!t.ignoreViewBox)){var c=r;r=new Yg,r.add(c),c.scale=f.scale.slice(),c.position=f.position.slice()}return t.ignoreRootClip||null==s||null==o||r.setClipPath(new Nw({shape:{x:0,y:0,width:s,height:o}})),{root:r,width:s,height:o,viewBoxRect:a,viewBoxTransform:f}},Ba.prototype._parseNode=function(e,t){var n=e.nodeName.toLowerCase();"defs"===n?this._isDefine=!0:"text"===n&&(this._isText=!0);var r;if(this._isDefine){var i=IS[n];if(i){var s=i.call(this,e),o=e.getAttribute("id");o&&(this._defs[o]=s)}}else{var i=FS[n];i&&(r=i.call(this,e,t),t.add(r))}for(var u=e.firstChild;u;)1===u.nodeType&&this._parseNode(u,r),3===u.nodeType&&this._isText&&this._parseText(u,r),u=u.nextSibling;"defs"===n?this._isDefine=!1:"text"===n&&(this._isText=!1)},Ba.prototype._parseText=function(e,t){if(1===e.nodeType){var n=e.getAttribute("dx")||0,r=e.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(r)}var i=new pw({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Fa(t,i),qa(e,i,this._defs);var s=i.style.fontSize;s&&9>s&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=s/9,i.scale[1]*=s/9);var o=i.getBoundingRect();return this._textX+=o.width,t.add(i),i};var FS={g:function(e,t){var n=new Yg;return Fa(t,n),qa(e,n,this._defs),n},rect:function(e,t){var n=new Nw;return Fa(t,n),qa(e,n,this._defs),n.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),n},circle:function(e,t){var n=new dw;return Fa(t,n),qa(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),n},line:function(e,t){var n=new kw;return Fa(t,n),qa(e,n,this._defs),n.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),n},ellipse:function(e,t){var n=new BS;return Fa(t,n),qa(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),n},polygon:function(e,t){var n=e.getAttribute("points");n&&(n=Ia(n));var r=new Ew({shape:{points:n||[]}});return Fa(t,r),qa(e,r,this._defs),r},polyline:function(e,t){var n=new ts;Fa(t,n),qa(e,n,this._defs);var r=e.getAttribute("points");r&&(r=Ia(r));var i=new Sw({shape:{points:r||[]}});return i},image:function(e,t){var n=new Lr;return Fa(t,n),qa(e,n,this._defs),n.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),n},text:function(e,t){var n=e.getAttribute("x")||0,r=e.getAttribute("y")||0,i=e.getAttribute("dx")||0,s=e.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(i),this._textY=parseFloat(r)+parseFloat(s);var o=new Yg;return Fa(t,o),qa(e,o,this._defs),o},tspan:function(e,t){var n=e.getAttribute("x"),r=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var i=e.getAttribute("dx")||0,s=e.getAttribute("dy")||0,o=new Yg;return Fa(t,o),qa(e,o,this._defs),this._textX+=i,this._textY+=s,o},path:function(e,t){var n=e.getAttribute("d")||"",r=ss(n);return Fa(t,r),qa(e,r,this._defs),r}},IS={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),n=parseInt(e.getAttribute("y1")||0,10),r=parseInt(e.getAttribute("x2")||10,10),i=parseInt(e.getAttribute("y2")||0,10),s=new Dw(t,n,r,i);return ja(e,s),s},radialgradient:function(){}},qS={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},RS=/url\(\s*#(.*?)\)/,US=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,zS=/([^\s:;]+)\s*:\s*([^:;]+)/g,WS=F(),XS={registerMap:function(e,t,n){var r;return w(t)?r=t:t.svg?r=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(n=t.specialAreas,t=t.geoJson),r=[{type:"geoJSON",source:t,specialAreas:n}]),p(r,function(e){var t=e.type;"geoJson"===t&&(t=e.type="geoJSON");var n=VS[t];n(e)}),WS.set(e,r)},retrieveMap:function(e){return WS.get(e)}},VS={geoJSON:function(e){var t=e.source;e.geoJSON=S(t)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):(new Function("return ("+t+");"))():t},svg:function(e){e.svgXML=Ha(e.source)}},$S=D,JS=p,KS=E,QS=x,GS=EE.parseClassType,YS="4.8.0",ZS={zrender:"4.3.1"},ex=1,tx=1e3,nx=800,rx=900,ix=5e3,sx=1e3,ox=1100,ux=2e3,ax=3e3,fx=3500,lx=4e3,cx=5e3,hx={PROCESSOR:{FILTER:tx,SERIES_FILTER:nx,STATISTIC:ix},VISUAL:{LAYOUT:sx,PROGRESSIVE_LAYOUT:ox,GLOBAL:ux,CHART:ax,POST_CHART_LAYOUT:fx,COMPONENT:lx,BRUSH:cx}},px="__flagInMainProcess",dx="__optionUpdated",vx=/^[a-zA-Z0-9_]+$/;Va.prototype.on=Xa("on",!0),Va.prototype.off=Xa("off",!0),Va.prototype.one=Xa("one",!0),c(Va,og);var mx=$a.prototype;mx._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[dx]){var t=this[dx].silent;this[px]=!0,Ka(this),gx.update.call(this),this[px]=!1,this[dx]=!1,Za.call(this,t),ef.call(this,t)}else if(e.unfinished){var n=ex,r=this._model,i=this._api;e.unfinished=!1;do{var s=+(new Date);e.performSeriesTasks(r),e.performDataProcessorTasks(r),Ga(this,r),e.performVisualTasks(r),uf(this,this._model,i,"remain"),n-=+(new Date)-s}while(n>0&&e.unfinished);e.unfinished||this._zr.flush()}}},mx.getDom=function(){return this._dom},mx.getZr=function(){return this._zr},mx.setOption=function(e,t,n,r){if(!this._disposed){var i;if(QS(t)&&(n=t.lazyUpdate,i=t.silent,t=t.notMerge),this[px]=!0,!this._model||t){var s=new ku(this._api),o=this._theme,u=this._model=new jE;u.scheduler=this._scheduler,u.init(null,null,o,s)}this._model.setOption(e,xx,r),n?(this[dx]={silent:i},this[px]=!1):(Ka(this),gx.update.call(this),this._zr.flush(),this[dx]=!1,this[px]=!1,Za.call(this,i),ef.call(this,i))}},mx.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},mx.getModel=function(){return this._model},mx.getOption=function(){return this._model&&this._model.getOption()},mx.getWidth=function(){return this._zr.getWidth()},mx.getHeight=function(){return this._zr.getHeight()},mx.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},mx.getRenderedCanvas=function(e){if(Fm.canvasSupported){e=e||{},e.pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr;return t.painter.getRenderedCanvas(e)}},mx.getSvgDataURL=function(){if(Fm.svgSupported){var e=this._zr,t=e.storage.getDisplayList();return p(t,function(e){e.stopAnimation(!0)}),e.painter.toDataURL()}},mx.getDataURL=function(e){if(!this._disposed){e=e||{};var t=e.excludeComponents,n=this._model,r=[],i=this;JS(t,function(e){n.eachComponent({mainType:e},function(e){var t=i._componentsMap[e.__viewId];t.group.ignore||(r.push(t),t.group.ignore=!0)})});var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return JS(r,function(e){e.group.ignore=!1}),s}},mx.getConnectedDataURL=function(e){if(!this._disposed&&Fm.canvasSupported){var t="svg"===e.type,n=this.group,i=Math.min,s=Math.max,o=1/0;if(Ax[n]){var u=o,a=o,f=-o,l=-o,c=[],h=e&&e.pixelRatio||1;p(Lx,function(o){if(o.group===n){var h=t?o.getZr().painter.getSvgDom().innerHTML:o.getRenderedCanvas(r(e)),p=o.getDom().getBoundingClientRect();u=i(p.left,u),a=i(p.top,a),f=s(p.right,f),l=s(p.bottom,l),c.push({dom:h,left:p.left,top:p.top})}}),u*=h,a*=h,f*=h,l*=h;var d=f-u,v=l-a,m=Km(),g=Kr(m,{renderer:t?"svg":"canvas"});if(g.resize({width:d,height:v}),t){var y="";return JS(c,function(e){var t=e.left-u,n=e.top-a;y+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"}),g.painter.getSvgRoot().innerHTML=y,e.connectedBackgroundColor&&g.painter.setBackgroundColor(e.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}return e.connectedBackgroundColor&&g.add(new Nw({shape:{x:0,y:0,width:d,height:v},style:{fill:e.connectedBackgroundColor}})),JS(c,function(e){var t=new Lr({style:{x:e.left*h-u,y:e.top*h-a,image:e.dom}});g.add(t)}),g.refreshImmediately(),m.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},mx.convertToPixel=b(Ja,"convertToPixel"),mx.convertFromPixel=b(Ja,"convertFromPixel"),mx.containPixel=function(e,t){if(!this._disposed){var n,r=this._model;return e=li(r,e),p(e,function(e,r){r.indexOf("Models")>=0&&p(e,function(e){var i=e.coordinateSystem;if(i&&i.containPoint)n|=!!i.containPoint(t);else if("seriesModels"===r){var s=this._chartsMap[e.__viewId];s&&s.containPoint&&(n|=s.containPoint(t,e))}},this)},this),!!n}},mx.getVisual=function(e,t){var n=this._model;e=li(n,e,{defaultMainType:"series"});var r=e.seriesModel,i=r.getData(),s=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?i.indexOfRawIndex(e.dataIndex):null;return null!=s?i.getItemVisual(s,t):i.getVisual(t)},mx.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},mx.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var gx={prepareAndUpdate:function(e){Ka(this),gx.update.call(this,e)},update:function(e){var t=this._model,n=this._api,r=this._zr,i=this._coordSysMgr,s=this._scheduler;if(t){s.restoreData(t,e),s.performSeriesTasks(t),i.create(t,n),s.performDataProcessorTasks(t,e),Ga(this,t),i.update(t,n),rf(t),s.performVisualTasks(t,e),sf(this,t,n,e);var o=t.get("backgroundColor")||"transparent";if(Fm.canvasSupported)r.setBackgroundColor(o);else{var u=en(o);o=ln(u,"rgb"),0===u[3]&&(o="transparent")}af(t,n)}},updateTransform:function(e){var t=this._model,n=this,r=this._api;if(t){var i=[];t.eachComponent(function(s,o){var u=n.getViewOfComponentModel(o);if(u&&u.__alive)if(u.updateTransform){var a=u.updateTransform(o,t,r,e);a&&a.update&&i.push(u)}else i.push(u)});var s=F();t.eachSeries(function(i){var o=n._chartsMap[i.__viewId];if(o.updateTransform){var u=o.updateTransform(i,t,r,e);u&&u.update&&s.set(i.uid,1)}else s.set(i.uid,1)}),rf(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0,dirtyMap:s}),uf(n,t,r,e,s),af(t,this._api)}},updateView:function(e){var t=this._model;t&&(ha.markUpdateMethod(e,"updateView"),rf(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),sf(this,this._model,this._api,e),af(t,this._api))},updateVisual:function(e){gx.update.call(this,e)},updateLayout:function(e){gx.update.call(this,e)}};mx.resize=function(e){if(!this._disposed){this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),r=e&&e.silent;this[px]=!0,n&&Ka(this),gx.update.call(this),this[px]=!1,Za.call(this,r),ef.call(this,r)}}},mx.showLoading=function(e,t){if(!this._disposed&&(QS(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),kx[e])){var n=kx[e](this._api,t),r=this._zr;this._loadingFX=n,r.add(n)}},mx.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},mx.makeActionFromEvent=function(e){var t=o({},e);return t.type=Ex[e.type],t},mx.dispatchAction=function(e,t){if(!this._disposed&&(QS(t)||(t={silent:!!t}),bx[e.type]&&this._model)){if(this[px])return void this._pendingActions.push(e);Ya.call(this,e,t.silent),t.flush?this._zr.flush(!0):t.flush!==!1&&Fm.browser.weChat&&this._throttledZrFlush(),Za.call(this,t.silent),ef.call(this,t.silent)}},mx.appendData=function(e){if(!this._disposed){var t=e.seriesIndex,n=this.getModel(),r=n.getSeriesByIndex(t);r.appendData(e),this._scheduler.unfinished=!0}},mx.on=Xa("on",!1),mx.off=Xa("off",!1),mx.one=Xa("one",!1);var yx=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];mx._initEvents=function(){JS(yx,function(e){var t=function(t){var n,r=this.getModel(),i=t.target,s="globalout"===e;if(s)n={};else if(i&&null!=i.dataIndex){var u=i.dataModel||r.getSeriesByIndex(i.seriesIndex);n=u&&u.getDataParams(i.dataIndex,i.dataType,i)||{}}else i&&i.eventData&&(n=o({},i.eventData));if(n){var a=n.componentType,f=n.componentIndex;("markLine"===a||"markPoint"===a||"markArea"===a)&&(a="series",f=n.seriesIndex);var l=a&&null!=f&&r.getComponent(a,f),c=l&&this["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];n.event=t,n.type=e,this._ecEventProcessor.eventInfo={targetEl:i,packedEvent:n,model:l,view:c},this.trigger(e,n)}};t.zrEventfulCallAtLast=!0,this._zr.on(e,t,this)},this),JS(Ex,function(e,t){this._messageCenter.on(t,function(e){this.trigger(t,e)},this)},this)},mx.isDisposed=function(){return this._disposed},mx.clear=function(){this._disposed||this.setOption({series:[]},!0)},mx.dispose=function(){if(!this._disposed){this._disposed=!0,hi(this.getDom(),_x,"");var e=this._api,t=this._model;JS(this._componentsViews,function(n){n.dispose(t,e)}),JS(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete Lx[this.id]}},c($a,og),pf.prototype={constructor:pf,normalizeQuery:function(e){var t={},n={},r={};if(S(e)){var i=GS(e);t.mainType=i.main||null,t.subType=i.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};p(e,function(e,i){for(var u=!1,a=0;a<s.length;a++){var f=s[a],l=i.lastIndexOf(f);if(l>0&&l===i.length-f.length){var c=i.slice(0,l);"data"!==c&&(t.mainType=c,t[f.toLowerCase()]=e,u=!0)}}o.hasOwnProperty(i)&&(n[i]=e,u=!0),u||(r[i]=e)})}return{cptQuery:t,dataQuery:n,otherQuery:r}},filter:function(e,t){function n(e,t,n,r){return null==e[n]||t[r||n]===e[n]}var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,s=r.packedEvent,o=r.model,u=r.view;if(!o||!u)return!0;var a=t.cptQuery,f=t.dataQuery;return n(a,o,"mainType")&&n(a,o,"subType")&&n(a,o,"index","componentIndex")&&n(a,o,"name")&&n(a,o,"id")&&n(f,s,"name")&&n(f,s,"dataIndex")&&n(f,s,"dataType")&&(!u.filterForExposedEvent||u.filterForExposedEvent(e,t.otherQuery,i,s))},afterTrigger:function(){this.eventInfo=null}};var bx={},Ex={},Sx=[],xx=[],Tx=[],Nx=[],Cx={},kx={},Lx={},Ax={},Ox=new Date-0,Mx=new Date-0,_x="_echarts_instance_",Dx=gf;Af(ux,bS),Sf(GE),xf(rx,YE),Mf("default",xS),Nf({type:"highlight",event:"highlight",update:"highlight"},q),Nf({type:"downplay",event:"downplay",update:"downplay"},q),Ef("light",MS),Ef("dark",HS);var Px={};qf.prototype={constructor:qf,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e,t=this._old,n=this._new,r={},i={},s=[],o=[];for(Rf(t,r,s,"_oldKeyGetter",this),Rf(n,i,o,"_newKeyGetter",this),e=0;e<t.length;e++){var u=s[e],a=i[u];if(null!=a){var f=a.length;f?(1===f&&(i[u]=null),a=a.shift()):i[u]=null,this._update&&this._update(a,e)}else this._remove&&this._remove(e)}for(var e=0;e<o.length;e++){var u=o[e];if(i.hasOwnProperty(u)){var a=i[u];if(null==a)continue;if(a.length)for(var l=0,f=a.length;f>l;l++)this._add&&this._add(a[l]);else this._add&&this._add(a)}}}};var Hx=F(["tooltip","label","itemName","itemId","seriesName"]),Bx=x,jx="undefined",Fx=-1,Ix="e\0\0",qx={"float":typeof Float64Array===jx?Array:Float64Array,"int":typeof Int32Array===jx?Array:Int32Array,ordinal:Array,number:Array,time:Array},Rx=typeof Uint32Array===jx?Array:Uint32Array,Ux=typeof Int32Array===jx?Array:Int32Array,zx=typeof Uint16Array===jx?Array:Uint16Array,Wx=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Xx=["_extent","_approximateExtent","_rawExtent"],Vx=function(e,t){e=e||["x","y"];for(var n={},r=[],i={},s=0;s<e.length;s++){var o=e[s];S(o)?o=new Vf({name:o}):o instanceof Vf||(o=new Vf(o));var u=o.name;o.type=o.type||"float",o.coordDim||(o.coordDim=u,o.coordDimIndex=0),o.otherDims=o.otherDims||{},r.push(u),n[u]=o,o.index=s,o.createInvertedIndices&&(i[u]=[])}this.dimensions=r,this._dimensionInfos=n,this.hostModel=t,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=Uf(this),this._invertedIndicesMap=i,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},$x=Vx.prototype;$x.type="list",$x.hasItemOption=!0,$x.getDimension=function(e){return("number"==typeof e||!isNaN(e)&&!this._dimensionInfos.hasOwnProperty(e))&&(e=this.dimensions[e]),e},$x.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},$x.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},$x.mapDimension=function(e,t){var n=this._dimensionsSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var r=n.encode[e];return t===!0?(r||[]).slice():r&&r[t]},$x.initData=function(e,t,n){var r=iu.isInstance(e)||h(e);r&&(e=new Xu(e,this.dimensions.length)),this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=nS[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=nS.arrayRows,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},$x.getProvider=function(){return this._rawData},$x.appendData=function(e){var t=this._rawData,n=this.count();t.appendData(e);var r=t.count();t.persistent||(r+=n),this._initDataFromProvider(n,r)},$x.appendValues=function(e,t){for(var n=this._chunkSize,r=this._storage,i=this.dimensions,s=i.length,o=this._rawExtent,u=this.count(),a=u+Math.max(e.length,t?t.length:0),f=this._chunkCount,l=0;s>l;l++){var c=i[l];o[c]||(o[c]=sl()),r[c]||(r[c]=[]),Qf(r,this._dimensionInfos[c],n,f,a),this._chunkCount=r[c].length}for(var h=new Array(s),p=u;a>p;p++){for(var d=p-u,v=Math.floor(p/n),m=p%n,g=0;s>g;g++){var c=i[g],y=this._dimValueGetterArrayRows(e[d]||h,c,d,g);r[c][v][m]=y;var b=o[c];y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}t&&(this._nameList[p]=t[d])}this._rawCount=this._count=a,this._extent={},Gf(this)},$x._initDataFromProvider=function(e,t){if(!(e>=t)){for(var n,r=this._chunkSize,i=this._rawData,s=this._storage,o=this.dimensions,u=o.length,a=this._dimensionInfos,f=this._nameList,l=this._idList,c=this._rawExtent,h=this._nameRepeatCount={},p=this._chunkCount,d=0;u>d;d++){var v=o[d];c[v]||(c[v]=sl());var m=a[v];0===m.otherDims.itemName&&(n=this._nameDimIdx=d),0===m.otherDims.itemId&&(this._idDimIdx=d),s[v]||(s[v]=[]),Qf(s,m,r,p,t),this._chunkCount=s[v].length}for(var g=new Array(u),y=e;t>y;y++){g=i.getItem(y,g);for(var b=Math.floor(y/r),w=y%r,E=0;u>E;E++){var v=o[E],S=s[v][b],x=this._dimValueGetter(g,v,y,E);S[w]=x;var T=c[v];x<T[0]&&(T[0]=x),x>T[1]&&(T[1]=x)}if(!i.pure){var N=f[y];if(g&&null==N)if(null!=g.name)f[y]=N=g.name;else if(null!=n){var C=o[n],k=s[C][b];if(k){N=k[w];var L=a[C].ordinalMeta;L&&L.categories.length&&(N=L.categories[N])}}var A=null==g?null:g.id;null==A&&null!=N&&(h[N]=h[N]||0,A=N,h[N]>0&&(A+="__ec__"+h[N]),h[N]++),null!=A&&(l[y]=A)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent={},Gf(this)}},$x.count=function(){return this._count},$x.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,r=this._count;if(n===Array){e=new n(r);for(var i=0;r>i;i++)e[i]=t[i]}else e=new n(t.buffer
,0,r)}else for(var n=$f(this),e=new n(this.count()),i=0;i<e.length;i++)e[i]=i;return e},$x.get=function(e,t){if(t>=0&&t<this._count){var n=this._storage;if(!n[e])return 0/0;t=this.getRawIndex(t);var r=Math.floor(t/this._chunkSize),i=t%this._chunkSize,s=n[e][r],o=s[i];return o}return 0/0},$x.getByRawIndex=function(e,t){if(t>=0&&t<this._rawCount){var n=this._storage[e];if(!n)return 0/0;var r=Math.floor(t/this._chunkSize),i=t%this._chunkSize,s=n[r];return s[i]}return 0/0},$x._getFast=function(e,t){var n=Math.floor(t/this._chunkSize),r=t%this._chunkSize,i=this._storage[e][n];return i[r]},$x.getValues=function(e,t){var n=[];w(e)||(t=e,e=this.dimensions);for(var r=0,i=e.length;i>r;r++)n.push(this.get(e[r],t));return n},$x.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,n=0,r=t.length;r>n;n++)if(isNaN(this.get(t[n],e)))return!1;return!0},$x.getDataExtent=function(e){e=this.getDimension(e);var t=this._storage[e],n=sl();if(!t)return n;var r,i=this.count(),s=!this._indices;if(s)return this._rawExtent[e].slice();if(r=this._extent[e])return r.slice();r=n;for(var o=r[0],u=r[1],a=0;i>a;a++){var f=this._getFast(e,this.getRawIndex(a));o>f&&(o=f),f>u&&(u=f)}return r=[o,u],this._extent[e]=r,r},$x.getApproximateExtent=function(e){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e)},$x.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},$x.getCalculationInfo=function(e){return this._calculationInfo[e]},$x.setCalculationInfo=function(e,t){Bx(e)?o(this._calculationInfo,e):this._calculationInfo[e]=t},$x.getSum=function(e){var t=this._storage[e],n=0;if(t)for(var r=0,i=this.count();i>r;r++){var s=this.get(e,r);isNaN(s)||(n+=s)}return n},$x.getMedian=function(e){var t=[];this.each(e,function(e){isNaN(e)||t.push(e)});var n=[].concat(t).sort(function(e,t){return e-t}),r=this.count();return 0===r?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},$x.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e],r=n[t];return null==r||isNaN(r)?Fx:r},$x.indexOfName=function(e){for(var t=0,n=this.count();n>t;t++)if(this.getName(t)===e)return t;return-1},$x.indexOfRawIndex=function(e){if(e>=this._rawCount||0>e)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var r=0,i=this._count-1;i>=r;){var s=(r+i)/2|0;if(t[s]<e)r=s+1;else{if(!(t[s]>e))return s;i=s-1}}return-1},$x.indicesOfNearest=function(e,t,n){var r=this._storage,i=r[e],s=[];if(!i)return s;null==n&&(n=1/0);for(var o=1/0,u=-1,a=0,f=0,l=this.count();l>f;f++){var c=t-this.get(e,f),h=Math.abs(c);n>=h&&((o>h||h===o&&c>=0&&0>u)&&(o=h,u=c,a=0),c===u&&(s[a++]=f))}return s.length=a,s},$x.getRawIndex=Zf,$x.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],n=0;n<this.dimensions.length;n++){var r=this.dimensions[n];t.push(this.get(r,e))}return t},$x.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||Yf(this,this._nameDimIdx,t)||""},$x.getId=function(e){return tl(this,this.getRawIndex(e))},$x.each=function(e,t,n,r){if(this._count){"function"==typeof e&&(r=n,n=t,t=e,e=[]),n=n||r||this,e=d(nl(e),this.getDimension,this);for(var i=e.length,s=0;s<this.count();s++)switch(i){case 0:t.call(n,s);break;case 1:t.call(n,this.get(e[0],s),s);break;case 2:t.call(n,this.get(e[0],s),this.get(e[1],s),s);break;default:for(var o=0,u=[];i>o;o++)u[o]=this.get(e[o],s);u[o]=s,t.apply(n,u)}}},$x.filterSelf=function(e,t,n,r){if(this._count){"function"==typeof e&&(r=n,n=t,t=e,e=[]),n=n||r||this,e=d(nl(e),this.getDimension,this);for(var i=this.count(),s=$f(this),o=new s(i),u=[],a=e.length,f=0,l=e[0],c=0;i>c;c++){var h,p=this.getRawIndex(c);if(0===a)h=t.call(n,c);else if(1===a){var v=this._getFast(l,p);h=t.call(n,v,c)}else{for(var m=0;a>m;m++)u[m]=this._getFast(l,p);u[m]=c,h=t.apply(n,u)}h&&(o[f++]=p)}return i>f&&(this._indices=o),this._count=f,this._extent={},this.getRawIndex=this._indices?el:Zf,this}},$x.selectRange=function(e){if(this._count){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var r=t.length;if(r){var i=this.count(),s=$f(this),o=new s(i),u=0,a=t[0],f=e[a][0],l=e[a][1],c=!1;if(!this._indices){var h=0;if(1===r){for(var p=this._storage[t[0]],d=0;d<this._chunkCount;d++)for(var v=p[d],m=Math.min(this._count-d*this._chunkSize,this._chunkSize),g=0;m>g;g++){var y=v[g];(y>=f&&l>=y||isNaN(y))&&(o[u++]=h),h++}c=!0}else if(2===r){for(var p=this._storage[a],b=this._storage[t[1]],w=e[t[1]][0],E=e[t[1]][1],d=0;d<this._chunkCount;d++)for(var v=p[d],S=b[d],m=Math.min(this._count-d*this._chunkSize,this._chunkSize),g=0;m>g;g++){var y=v[g],x=S[g];(y>=f&&l>=y||isNaN(y))&&(x>=w&&E>=x||isNaN(x))&&(o[u++]=h),h++}c=!0}}if(!c)if(1===r)for(var g=0;i>g;g++){var T=this.getRawIndex(g),y=this._getFast(a,T);(y>=f&&l>=y||isNaN(y))&&(o[u++]=T)}else for(var g=0;i>g;g++){for(var N=!0,T=this.getRawIndex(g),d=0;r>d;d++){var C=t[d],y=this._getFast(n,T);(y<e[C][0]||y>e[C][1])&&(N=!1)}N&&(o[u++]=this.getRawIndex(g))}return i>u&&(this._indices=o),this._count=u,this._extent={},this.getRawIndex=this._indices?el:Zf,this}}},$x.mapArray=function(e,t,n,r){"function"==typeof e&&(r=n,n=t,t=e,e=[]),n=n||r||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},n),i},$x.map=function(e,t,n,r){n=n||r||this,e=d(nl(e),this.getDimension,this);var i=rl(this,e);i._indices=this._indices,i.getRawIndex=i._indices?el:Zf;for(var s=i._storage,o=[],u=this._chunkSize,a=e.length,f=this.count(),l=[],c=i._rawExtent,h=0;f>h;h++){for(var p=0;a>p;p++)l[p]=this.get(e[p],h);l[a]=h;var v=t&&t.apply(n,l);if(null!=v){"object"!=typeof v&&(o[0]=v,v=o);for(var m=this.getRawIndex(h),g=Math.floor(m/u),y=m%u,b=0;b<v.length;b++){var w=e[b],E=v[b],S=c[w],x=s[w];x&&(x[g][y]=E),E<S[0]&&(S[0]=E),E>S[1]&&(S[1]=E)}}}return i},$x.downSample=function(e,t,n,r){for(var i=rl(this,[e]),s=i._storage,o=[],u=Math.floor(1/t),a=s[e],f=this.count(),l=this._chunkSize,c=i._rawExtent[e],h=new($f(this))(f),p=0,d=0;f>d;d+=u){u>f-d&&(u=f-d,o.length=u);for(var v=0;u>v;v++){var m=this.getRawIndex(d+v),g=Math.floor(m/l),y=m%l;o[v]=a[g][y]}var b=n(o),w=this.getRawIndex(Math.min(d+r(o,b)||0,f-1)),E=Math.floor(w/l),S=w%l;a[E][S]=b,b<c[0]&&(c[0]=b),b>c[1]&&(c[1]=b),h[p++]=w}return i._count=p,i._indices=h,i.getRawIndex=el,i},$x.getItemModel=function(e){var t=this.hostModel;return new po(this.getRawDataItem(e),t,t&&t.ecModel)},$x.diff=function(e){var t=this;return new qf(e?e.getIndices():[],this.getIndices(),function(t){return tl(e,t)},function(e){return tl(t,e)})},$x.getVisual=function(e){var t=this._visual;return t&&t[e]},$x.setVisual=function(e,t){if(Bx(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},$x.setLayout=function(e,t){if(Bx(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},$x.getLayout=function(e){return this._layout[e]},$x.getItemLayout=function(e){return this._itemLayouts[e]},$x.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?o(this._itemLayouts[e]||{},t):t},$x.clearItemLayouts=function(){this._itemLayouts.length=0},$x.getItemVisual=function(e,t,n){var r=this._itemVisuals[e],i=r&&r[t];return null!=i||n?i:this.getVisual(t)},$x.setItemVisual=function(e,t,n){var r=this._itemVisuals[e]||{},i=this.hasItemVisual;if(this._itemVisuals[e]=r,Bx(t))for(var s in t)t.hasOwnProperty(s)&&(r[s]=t[s],i[s]=!0);else r[t]=n,i[t]=!0},$x.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var Jx=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};$x.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(Jx,t)),this._graphicEls[e]=t},$x.getItemGraphicEl=function(e){return this._graphicEls[e]},$x.eachItemGraphicEl=function(e,t){p(this._graphicEls,function(n,r){n&&e&&e.call(t,n,r)})},$x.cloneShallow=function(e){if(!e){var t=d(this.dimensions,this.getDimensionInfo,this);e=new Vx(t,this.hostModel)}if(e._storage=this._storage,Kf(e,this),this._indices){var n=this._indices.constructor;e._indices=new n(this._indices)}else e._indices=null;return e.getRawIndex=e._indices?el:Zf,e},$x.wrapMethod=function(e,t){var n=this[e];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(M(arguments)))})},$x.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],$x.CHANGABLE_METHODS=["filterSelf","selectRange"];var Kx=function(e,t){return t=t||{},ol(t.coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})},Qx={cartesian2d:function(e,t,n,r){var i=e.getReferringComponents("xAxis")[0],s=e.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"],n.set("x",i),n.set("y",s),cl(i)&&(r.set("x",i),t.firstCategoryDimIndex=0),cl(s)&&(r.set("y",s),null==t.firstCategoryDimIndex&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,r){var i=e.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"],n.set("single",i),cl(i)&&(r.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var i=e.getReferringComponents("polar")[0],s=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",s),n.set("angle",o),cl(s)&&(r.set("radius",s),t.firstCategoryDimIndex=0),cl(o)&&(r.set("angle",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,r){var i=e.ecModel,s=i.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=s.dimensions.slice();p(s.parallelAxisIndex,function(e,s){var u=i.getComponent("parallelAxis",e),a=o[s];n.set(a,u),cl(u)&&null==t.firstCategoryDimIndex&&(r.set(a,u),t.firstCategoryDimIndex=s)})}};yl.prototype.parse=function(e){return e},yl.prototype.getSetting=function(e){return this._setting[e]},yl.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},yl.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},yl.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},yl.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},yl.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},yl.prototype.getExtent=function(){return this._extent.slice()},yl.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},yl.prototype.isBlank=function(){return this._isBlank},yl.prototype.setBlank=function(e){this._isBlank=e},yl.prototype.getLabel=null,gi(yl),Ei(yl,{registerWhenExtend:!0}),bl.createByAxisModel=function(e){var t=e.option,n=t.data,r=n&&d(n,El);return new bl({categories:r,needCollect:!r,deduplication:t.dedplication!==!1})};var Gx=bl.prototype;Gx.getOrdinal=function(e){return wl(this).get(e)},Gx.parseAndCollect=function(e){var t,n=this._needCollect;if("string"!=typeof e&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var r=wl(this);return t=r.get(e),null==t&&(n?(t=this.categories.length,this.categories[t]=e,r.set(e,t)):t=0/0),t};var Yx=yl.prototype,Zx=yl.extend({type:"ordinal",init:function(e,t){(!e||w(e))&&(e=new bl({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return"string"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),Yx.contain.call(this,e)&&null!=this._ordinalMeta.categories[e]},normalize:function(e){return Yx.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(Yx.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){return this.isBlank()?void 0:this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:q,niceExtent:q});Zx.create=function(){return new Zx};var eT=xo,tT=xo,nT=yl.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),nT.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=xl(e)},getTicks:function(e){var t=this._interval,n=this._extent,r=this._niceExtent,i=this._intervalPrecision,s=[];if(!t)return s;var o=1e4;n[0]<r[0]&&s.push(e?tT(r[0]-t,i):n[0]);for(var u=r[0];u<=r[1]&&(s.push(u),u=tT(u+t,i),u!==s[s.length-1]);)if(s.length>o)return[];var a=s.length?s[s.length-1]:r[1];return n[1]>a&&s.push(e?tT(a+t,i):n[1]),s},getMinorTicks:function(e){for(var t=this.getTicks(!0),n=[],r=this.getExtent(),i=1;i<t.length;i++){for(var s=t[i],o=t[i-1],u=0,a=[],f=s-o,l=f/e;e-1>u;){var c=xo(o+(u+1)*l);c>r[0]&&c<r[1]&&a.push(c),u++}n.push(a)}return n},getLabel:function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=Co(e)||0:"auto"===n&&(n=this._intervalPrecision),e=tT(e,n,!0),Fo(e)},niceTicks:function(e,t,n){e=e||5;var r=this._extent,i=r[1]-r[0];if(isFinite(i)){0>i&&(i=-i,r.reverse());var s=Sl(r,e,t,n);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax?t[0]-=n/2:(t[1]+=n/2,t[0]-=n/2)}else t[1]=1;var r=t[1]-t[0];isFinite(r)||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=tT(Math.floor(t[0]/i)*i)),e.fixMax||(t[1]=tT(Math.ceil(t[1]/i)*i))}});nT.create=function(){return new nT};var rT="__ec_stack_",iT=.5,sT="undefined"!=typeof Float32Array?Float32Array:Array,oT={seriesType:"bar",plan:cS(),reset:function(e){function t(e,t){for(var n,h=e.count,p=new sT(2*h),d=new sT(2*h),v=new sT(h),m=[],g=[],y=0,b=0;null!=(n=e.next());)g[l]=t.get(u,n),g[1-l]=t.get(a,n),m=r.dataToPoint(g,null,m),d[y]=f?i.x+i.width:m[0],p[y++]=m[0],d[y]=f?m[1]:i.y+i.height,p[y++]=m[1],v[b++]=n;t.setLayout({largePoints:p,largeDataIndices:v,largeBackgroundPoints:d,barWidth:c,valueAxisStart:Bl(s,o,!1),backgroundStart:f?i.x:i.y,valueAxisHorizontal:f})}if(Pl(e)&&Hl(e)){var n=e.getData(),r=e.coordinateSystem,i=r.grid.getRect(),s=r.getBaseAxis(),o=r.getOtherAxis(s),u=n.mapDimension(o.dim),a=n.mapDimension(s.dim),f=o.isHorizontal(),l=f?0:1,c=_l(Ol([e]),s,e).width;return c>iT||(c=iT),{progress:t}}}},uT=nT.prototype,aT=Math.ceil,fT=Math.floor,lT=1e3,cT=60*lT,hT=60*cT,pT=24*hT,dT=function(e,t,n,r){for(;r>n;){var i=n+r>>>1;e[i][1]<t?n=i+1:r=i}return n},vT=nT.extend({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return Xo(t[0],n,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=pT,t[1]+=pT),t[1]===-1/0&&1/0===t[0]){var n=new Date;t[1]=+(new Date(n.getFullYear(),n.getMonth(),n.getDate())),t[0]=t[1]-pT}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var r=this._interval;e.fixMin||(t[0]=xo(fT(t[0]/r)*r)),e.fixMax||(t[1]=xo(aT(t[1]/r)*r))},niceTicks:function(e,t,n){e=e||10;var r=this._extent,i=r[1]-r[0],s=i/e;null!=t&&t>s&&(s=t),null!=n&&s>n&&(s=n);var o=mT.length,u=dT(mT,s,0,o),a=mT[Math.min(u,o-1)],f=a[1];if("year"===a[0]){var l=i/f,c=Po(l/e,!0);f*=c}var h=this.getSetting("useUTC")?0:60*(new Date(+r[0]||+r[1])).getTimezoneOffset()*1e3,p=[Math.round(aT((r[0]-h)/f)*f+h),Math.round(fT((r[1]-h)/f)*f+h)];Nl(p,r),this._stepLvl=a,this._interval=f,this._niceExtent=p},parse:function(e){return+Mo(e)}});p(["contain","normalize"],function(e){vT.prototype[e]=function(t){return uT[e].call(this,this.parse(t))}});var mT=[["hh:mm:ss",lT],["hh:mm:ss",5*lT],["hh:mm:ss",10*lT],["hh:mm:ss",15*lT],["hh:mm:ss",30*lT],["hh:mm\nMM-dd",cT],["hh:mm\nMM-dd",5*cT],["hh:mm\nMM-dd",10*cT],["hh:mm\nMM-dd",15*cT],["hh:mm\nMM-dd",30*cT],["hh:mm\nMM-dd",hT],["hh:mm\nMM-dd",2*hT],["hh:mm\nMM-dd",6*hT],["hh:mm\nMM-dd",12*hT],["MM-dd\nyyyy",pT],["MM-dd\nyyyy",2*pT],["MM-dd\nyyyy",3*pT],["MM-dd\nyyyy",4*pT],["MM-dd\nyyyy",5*pT],["MM-dd\nyyyy",6*pT],["week",7*pT],["MM-dd\nyyyy",10*pT],["week",14*pT],["week",21*pT],["month",31*pT],["week",42*pT],["month",62*pT],["week",70*pT],["quarter",95*pT],["month",31*pT*4],["month",31*pT*5],["half-year",380*pT/2],["month",31*pT*8],["month",31*pT*10],["year",380*pT]];vT.create=function(e){return new vT({useUTC:e.ecModel.get("useUTC")})};var gT=yl.prototype,yT=nT.prototype,bT=Co,wT=xo,ET=Math.floor,ST=Math.ceil,xT=Math.pow,TT=Math.log,NT=yl.extend({type:"log",base:10,$constructor:function(){yl.apply(this,arguments),this._originalScale=new nT},getTicks:function(e){var t=this._originalScale,n=this._extent,r=t.getExtent();return d(yT.getTicks.call(this,e),function(e){var i=xo(xT(this.base,e));return i=e===n[0]&&t.__fixMin?jl(i,r[0]):i,i=e===n[1]&&t.__fixMax?jl(i,r[1]):i},this)},getMinorTicks:yT.getMinorTicks,getLabel:yT.getLabel,scale:function(e){return e=gT.scale.call(this,e),xT(this.base,e)},setExtent:function(e,t){var n=this.base;e=TT(e)/TT(n),t=TT(t)/TT(n),yT.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=gT.getExtent.call(this);t[0]=xT(e,t[0]),t[1]=xT(e,t[1]);var n=this._originalScale,r=n.getExtent();return n.__fixMin&&(t[0]=jl(t[0],r[0])),n.__fixMax&&(t[1]=jl(t[1],r[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=TT(e[0])/TT(t),e[1]=TT(e[1])/TT(t),gT.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(1/0===n||0>=n)){var r=_o(n),i=e/n*r;for(.5>=i&&(r*=10);!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0;)r*=10;var s=[xo(ST(t[0]/r)*r),xo(ET(t[1]/r)*r)];this._interval=r,this._niceExtent=s}},niceExtent:function(e){yT.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});p(["contain","normalize"],function(e){NT.prototype[e]=function(t){return t=TT(t)/TT(this.base),gT[e].call(this,t)}}),NT.create=function(){return new NT};var CT={getMin:function(e){var t=this.option,n=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!k(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(e){var t=this.option,n=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!k(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var e=this.option;return null!=e.rangeStart||null!=e.rangeEnd?!1:!e.scale},getCoordSysModel:q,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},kT=vs({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,s=t.height/2;e.moveTo(n,r-s),e.lineTo(n+i,r+s),e.lineTo(n-i,r+s),e.closePath()}}),LT=vs({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,s=t.height/2;e.moveTo(n,r-s),e.lineTo(n+i,r),e.lineTo(n,r+s),e.lineTo(n-i,r),e.closePath()}}),AT=vs({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,i=t.width/5*3,s=Math.max(i,t.height),o=i/2,u=o*o/(s-o),a=r-s+o+u,f=Math.asin(u/o),l=Math.cos(f)*o,c=Math.sin(f),h=Math.cos(f),p=.6*o,d=.7*o;e.moveTo(n-l,a+u),e.arc(n,a,o,Math.PI-f,2*Math.PI+f),e.bezierCurveTo(n+l-c*p,a+u+h*p,n,r-d,n,r),e.bezierCurveTo(n,r-d,n-l+c*p,a+u+h*p,n-l,a+u),e.closePath()}}),OT=vs({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,i=t.x,s=t.y,o=r/3*2;e.moveTo(i,s),e.lineTo(i+o,s+n),e.lineTo(i,s+n/4*3),e.lineTo(i-o,s+n),e.lineTo(i,s),e.closePath()}}),MT={line:kw,rect:Nw,roundRect:Nw,square:Nw,circle:dw,diamond:LT,pin:AT,arrow:OT,triangle:kT},_T={line:function(e,t,n,r,i){i.x1=e,i.y1=t+r/2,i.x2=e+n,i.y2=t+r/2},rect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r},roundRect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(e,t,n,r,i){var s=Math.min(n,r);i.x=e,i.y=t,i.width=s,i.height=s},circle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.r=Math.min(n,r)/2},diamond:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r},pin:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},arrow:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},triangle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r}},DT={};p(MT,function(e,t){DT[t]=new e});var PT=vs({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var r=Gn(e,t,n),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===t.textPosition&&(r.y=n.y+.4*n.height),r},buildPath:function(e,t,n){var r=t.symbolType;if("none"!==r){var i=DT[r];i||(r="rect",i=DT[r]),_T[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,n)}}}),HT={isDimensionStacked:pl,enableDataStack:hl,getStackedDimension:dl},BT=(Object.freeze||Object)({createList:Gl,getLayoutRect:Go,dataStack:HT,createScale:Yl,mixinAxisModelCommonMethods:Zl,completeDimensions:ol,createDimensions:Kx,createSymbol:Ql}),jT=1e-8;nc.prototype={constructor:nc,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],r=[-t,-t],i=[],s=[],o=this.geometries,u=0;u<o.length;u++)if("polygon"===o[u].type){var a=o[u].exterior;Bi(a,i,s),ot(n,n,i),ut(r,r,s)}return 0===u&&(n[0]=n[1]=r[0]=r[1]=0),this._rect=new kn(n[0],n[1],r[0]-n[0],r[1]-n[1])},contain:function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var r=0,i=n.length;i>r;r++)if("polygon"===n[r].type){var s=n[r].exterior,o=n[r].interiors;if(tc(s,e[0],e[1])){for(var u=0;u<(o?o.length:0);u++)if(tc(o[u]))continue e;return!0}}return!1},transformTo:function(e,t,n,r){var i=this.getBoundingRect(),s=i.width/i.height;n?r||(r=n/s):n=s*r;for(var o=new kn(e,t,n,r),u=i.calculateTransform(o),a=this.geometries,f=0;f<a.length;f++)if("polygon"===a[f].type){for(var l=a[f].exterior,c=a[f].interiors,h=0;h<l.length;h++)st(l[h],l[h],u);for(var p=0;p<(c?c.length:0);p++)for(var h=0;h<c[p].length;h++)st(c[p][h],c[p][h],u)}i=this._rect,i.copy(o),this.center=[i.x+i.width/2,i.y+i.height/2]},cloneShallow:function(e){null==e&&(e=this.name);var t=new nc(e,this.geometries,this.center);return t._rect=this._rect,t.transformTo=null,t}};var FT=function(e,t){return rc(e),d(m(e.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var n=e.properties,r=e.geometry,i=r.coordinates,s=[];"Polygon"===r.type&&s.push({type:"polygon",exterior:i[0],interiors:i.slice(1)}),"MultiPolygon"===r.type&&p(i,function(e){e[0]&&s.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})});var o=new nc(n[t||"name"],s,n.cp);return o.properties=n,o})},IT=fi(),qT=[0,1],RT=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};RT.prototype={constructor:RT,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=n&&r>=e},containData:function(e){return this.scale.contain(e)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return ko(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,t){var n=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&"ordinal"===r.type&&(n=n.slice(),bc(n,r.count())),Eo(e,qT,n,t)},coordToData:function(e,t){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&(n=n.slice(),bc(n,r.count()));var i=Eo(e,n,qT,t);return this.scale.scale(i)},pointToData:function(){},getTicksCoords:function(e){e=e||{};var t=e.tickModel||this.getTickModel(),n=oc(this,t),r=n.ticks,i=d(r,function(e){return{coord:this.dataToCoord(e),tickValue:e}},this),s=t.get("alignWithLabel");return wc(this,i,s,e.clamp),i},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&100>t||(t=5);var n=this.scale.getMinorTicks(t),r=d(n,function(e){return d(e,function(e){return{coord:this.dataToCoord(e),tickValue:e}},this)},this);return r},getViewLabels:function(){return sc(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return vc(this)}};var UT=FT,zT={};p(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){zT[e]=Ym[e]});var WT={};p(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(e){WT[e]=Qw[e]});var XT=function(e){this._axes={},this._dimList=[],this.name=e||""};XT.prototype={constructor:XT,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return d(this._dimList,Ec,this)},getAxesByScale:function(e){return e=e.toLowerCase(),m(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,r=e instanceof Array?[]:{},i=0;i<n.length;i++){var s=n[i],o=this._axes[s];r[s]=o[t](e[s])}return r}},Sc.prototype={constructor:Sc,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t,n){var r=this.getAxis("x"),i=this.getAxis("y");return n=n||[],n[0]=r.toGlobalCoord(r.dataToCoord(e[0])),n[1]=i.toGlobalCoord(i.dataToCoord(e[1])),n},clampData:function(e,t){var n=this.getAxis("x").scale,r=this.getAxis("y").scale,i=n.getExtent(),s=r.getExtent(),o=n.parse(e[0]),u=r.parse(e[1]);return t=t||[],t[0]=Math.min(Math.max(Math.min(i[0],i[1]),o),Math.max(i[0],i[1])),t[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),t},pointToData:function(e,t){var n=this.getAxis("x"),r=this.getAxis("y");return t=t||[],t[0]=n.coordToData(n.toLocalCoord(e[0])),t[1]=r.coordToData(r.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")},getArea:function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),r=Math.min(t[0],t[1]),i=Math.max(e[0],e[1])-n,s=Math.max(t[0],t[1])-r,o=new kn(n,r,i,s);return o}},l(Sc,XT);var VT=function(e,t,n,r,i){RT.call(this,e,t,n),this.type=r||"value",this.position=i||"bottom"};VT.prototype={constructor:VT,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},l(VT,RT);var $T={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},JT={};JT.categoryAxis=i({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},$T),JT.valueAxis=i({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},$T),JT.timeAxis=u({scale:!0,min:"dataMin",max:"dataMax"},JT.valueAxis),JT.logAxis=u({scale:!0,logBase:10},JT.valueAxis);var KT=["value","category","time","log"],QT=function(e,t,n,r){p(KT,function(o){t.extend({type:e+"Axis."+o,mergeDefaultAndTheme:function(t,r){var s=this.layoutMode,u=s?eu(t):{},a=r.getTheme();i(t,a.get(o+"Axis")),i(t,this.getDefaultOption()),t.type=n(e,t),s&&Zo(t,u,s)},optionUpdated:function(){var e=this.option;"category"===e.type&&(this.__ordinalMeta=bl.createByAxisModel(this))},getCategories:function(e){var t=this.option;return"category"===t.type?e?t.data:this.__ordinalMeta.categories:void 0},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:s([{},JT[o+"Axis"],r],!0)})}),EE.registerSubTypeDefaulter(e+"Axis",b(n,e))},GT=EE.extend({type:"cartesian2dAxis",axis:null,init:function(){GT.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){GT.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){GT.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});i(GT.prototype,CT);var YT={offset:0};QT("x",GT,xc,YT),QT("y",GT,xc,YT),EE.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var ZT=Nc.prototype;ZT.type="grid",ZT.axisPointerEnabled=!0,ZT.getRect=function(){return this._rect},ZT.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),p(n.x,function(e){ql(e.scale,e.model)}),p(n.y,function(e){ql(e.scale,e.model)});var r={};p(n.x,function(e){Cc(n,"y",e,r)}),p(n.y,function(e){Cc(n,"x",e,r)}),this.resize(this.model,t)},ZT.resize=function(e,t,n){function r(){p(s,function(e){var t=e.isHorizontal(),n=t?[0,i.width]:[0,i.height],r=e.inverse?1:0;e.setExtent(n[r],n[1-r]),Lc(e,t?i.x:i.y)})}var i=Go(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=i;var s=this._axesList;r(),!n&&e.get("containLabel")&&(p(s,function(e){if(!e.model.get("axisLabel.inside")){var t=Xl(e);if(t){var n=e.isHorizontal()?"height":"width",r=e.model.get("axisLabel.margin");i[n]-=t[n]+r,"top"===e.position?i.y+=t.height+r:"left"===e.position&&(i.x+=t.width+r)}}}),r())},ZT.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var r in n)if(n.hasOwnProperty(r))return n[r];return n[t]}},ZT.getAxes=function(){return this._axesList.slice()},ZT.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}x(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis("x").index===e||i[r].getAxis("y").index===t)return i[r]},ZT.getCartesians=function(){return this._coordsList.slice()},ZT.convertToPixel=function(e,t,n){var r=this._findConvertTarget(e,t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},ZT.convertFromPixel=function(e,t,n){var r=this._findConvertTarget(e,t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},ZT._findConvertTarget=function(e,t){var n,r,i=t.seriesModel,s=t.xAxisModel||i&&i.getReferringComponents("xAxis")[0],o=t.yAxisModel||i&&i.getReferringComponents("yAxis")[0],u=t.gridModel,a=this._coordsList;if(i)n=i.coordinateSystem,f(a,n)<0&&(n=null);else if(s&&o)n=this.getCartesian(s.componentIndex,o.componentIndex);else if(s)r=this.getAxis("x",s.componentIndex);else if(o)r=this.getAxis("y",o.componentIndex);else if(u){var l=u.coordinateSystem;l===this&&(n=this._coordsList[0])}return{cartesian:n,axis:r}},ZT.containPoint=function(e){var t=this._coordsList[0];return t?t.containPoint(e):void 0},ZT._initCartesian=function(e,t){function n(n){return function(o,u){if(Tc(o,e,t)){var a=o.get("position");"x"===n?"top"!==a&&"bottom"!==a&&(a=r.bottom?"top":"bottom"):"left"!==a&&"right"!==a&&(a=r.left?"right":"left"),r[a]=!0;var f=new VT(n,Rl(o),[0,0],o.get("type"),a),l="category"===f.type;f.onBand=l&&o.get("boundaryGap"),f.inverse=o.get("inverse"),o.axis=f,f.model=o,f.grid=this,f.index=u,this._axesList.push(f),i[n][u]=f,s[n]++}}}var r={left:!1,right:!1,top:!1,bottom:!1},i={x:{},y:{}},s={x:0,y:0};return t.eachComponent("xAxis",n("x"),this),t.eachComponent("yAxis",n("y"),this),s.x&&s.y?(this._axesMap=i,void p(i.x,function(t,n){p(i.y,function(r,i){var s="x"+n+"y"+i,o=new Sc(s);o.grid=this,o.model=e,this._coordsMap[s]=o,this._coordsList.push(o),o.addAxis(t),o.addAxis(r)},this)},this)):(this._axesMap={},void (this._axesList=[]))},ZT._updateScale=function(e,t){function n(e,t){p(e.mapDimension(t.dim,!0),function(n){t.scale.unionExtentFromData(e,dl(e,n))})}p(this._axesList,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(r){if(Oc(r)){var i=Ac(r,e),s=i[0],o=i[1];if(!Tc(s,t,e)||!Tc(o,t,e))return;var u=this.getCartesian(s.componentIndex,o.componentIndex),a=r.getData(),f=u.getAxis("x"),l=u.getAxis("y");"list"===a.type&&(n(a,f,r),n(a,l,r))}},this)},ZT.getTooltipAxes=function(e){var t=[],n=[];return p(this.getCartesians(),function(r){var i=null!=e&&"auto"!==e?r.getAxis(e):r.getBaseAxis(),s=r.getOtherAxis(i);f(t,i)<0&&t.push(i),f(n,s)<0&&n.push(s)}),{baseAxes:t,otherAxes:n}};var eN=["xAxis","yAxis"];Nc.create=function(e,t){var n=[];return e.eachComponent("grid",function(r,i){var s=new Nc(r,e,t);s.name="grid_"+i,s.resize(r,t,!0),r.coordinateSystem=s,n.push(s)}),e.eachSeries(function(t){if(Oc(t)){var n=Ac(t,e),r=n[0],i=n[1],s=r.getCoordSysModel(),o=s.coordinateSystem;t.coordinateSystem=o.getCartesian(r.componentIndex,i.componentIndex)}}),n},Nc.dimensions=Nc.prototype.dimensions=Sc.prototype.dimensions,Cu.register("cartesian2d",Nc);var tN=aS.extend({type:"series.__base_bar__",getInitialData:function(){return vl(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),r=this.getData(),i=r.getLayout("offset"),s=r.getLayout("size"),o=t.getBaseAxis().isHorizontal()?0:1;return n[o]+=i+s/2,n}return[0/0,0/0]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});tN.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var nN=ob([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),rN={getBarItemStyle:function(e){var t=nN(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}},iN=vs({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r0||0,0),s=Math.max(t.r,0),o=.5*(s-i),u=i+o,a=t.startAngle,f=t.endAngle,l=t.clockwise,c=Math.cos(a),h=Math.sin(a),p=Math.cos(f),d=Math.sin(f),v=l?f-a<2*Math.PI:a-f<2*Math.PI;v&&(e.moveTo(c*i+n,h*i+r),e.arc(c*u+n,h*u+r,o,-Math.PI+a,a,!l)),e.arc(n,r,s,a,f,!l),e.moveTo(p*s+n,d*s+r),e.arc(p*u+n,d*u+r,o,f-2*Math.PI,f-Math.PI,!l),0!==i&&(e.arc(n,r,i,f,a,l),e.moveTo(c*i+n,d*i+r)),e.closePath()}}),sN=["itemStyle","barBorderWidth"],oN=[0,0];o(po.prototype,rN),Hf({type:"bar",render:function(e,t,n){this._updateDrawMode(e);var r=e.get("coordinateSystem");return("cartesian2d"===r||"polar"===r)&&(this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n)),this.group},incrementalPrepareRender:function(e){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e){var t,n=this.group,r=e.getData(),i=this._data,s=e.coordinateSystem,o=s.getBaseAxis();"cartesian2d"===s.type?t=o.isHorizontal():"polar"===s.type&&(t="angle"===o.dim);var u=e.isAnimationEnabled()?e:null,a=e.get("clip",!0),f=jc(s,r);n.removeClipPath();var l=e.get("roundCap",!0),c=e.get("showBackground",!0),h=e.getModel("backgroundStyle"),p=h.get("barBorderRadius")||0,d=[],v=this._backgroundEls||[];r.diff(i).add(function(i){var o=r.getItemModel(i),v=cN[s.type](r,i,o);if(c){var m=cN[s.type](r,i),g=Jc(s,t,m);g.useStyle(h.getBarItemStyle()),"cartesian2d"===s.type&&g.setShape("r",p),d[i]=g}if(r.hasValue(i)){if(a){var y=fN[s.type](f,v);if(y)return void n.remove(b)}var b=lN[s.type](i,v,t,u,!1,l);r.setItemGraphicEl(i,b),n.add(b),Rc(b,r,i,o,v,e,t,"polar"===s.type)}}).update(function(o,m){var g=r.getItemModel(o),y=cN[s.type](r,o,g);if(c){var b=v[m];b.useStyle(h.getBarItemStyle()),"cartesian2d"===s.type&&b.setShape("r",p),d[o]=b;var w=cN[s.type](r,o),E=$c(t,w,s);eo(b,{shape:E},u,o)}var S=i.getItemGraphicEl(m);if(!r.hasValue(o))return void n.remove(S);if(a){var x=fN[s.type](f,y);if(x)return void n.remove(S)}S?eo(S,{shape:y},u,o):S=lN[s.type](o,y,t,u,!0,l),r.setItemGraphicEl(o,S),n.add(S),Rc(S,r,o,g,y,e,t,"polar"===s.type)}).remove(function(e){var t=i.getItemGraphicEl(e);"cartesian2d"===s.type?t&&Fc(e,u,t):t&&Ic(e,u,t)}).execute();var m=this._backgroundGroup||(this._backgroundGroup=new Yg);m.removeAll();for(var g=0;g<d.length;++g)m.add(d[g]);n.add(m),this._backgroundEls=d,this._data=r},_renderLarge:function(e){this._clear(),zc(e,this.group);var t=e.get("clip",!0)?Bc(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},_incrementalRenderLarge:function(e,t){this._removeBackground(),zc(t,this.group,!0)},dispose:q,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,n=this._data;e&&e.get("animation")&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(t){"sector"===t.type?Ic(t.dataIndex,e,t):Fc(t.dataIndex,e,t)})):t.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}});var uN=Math.max,aN=Math.min,fN={cartesian2d:function(e,t){var n=t.width<0?-1:1,r=t.height<0?-1:1;0>n&&(t.x+=t.width,t.width=-t.width),0>r&&(t.y+=t.height,t.height=-t.height);var i=uN(t.x,e.x),s=aN(t.x+t.width,e.x+e.width),o=uN(t.y,e.y),u=aN(t.y+t.height,e.y+e.height);t.x=i,t.y=o,t.width=s-i,t.height=u-o;var a=t.width<0||t.height<0;return 0>n&&(t.x+=t.width,t.width=-t.width),0>r&&(t.y+=t.height,t.height=-t.height),a},polar:function(){return!1}},lN={cartesian2d:function(e,t,n,r,i){var s=new Nw({shape:o({},t),z2:1});if(s.name="item",r){var u=s.shape,a=n?"height":"width",f={};u[a]=0,f[a]=t[a],Qw[i?"updateProps":"initProps"](s,{shape:f},r,e)}return s},polar:function(e,t,n,r,i,s){var o=t.startAngle<t.endAngle,a=!n&&s?iN:gw,f=new a({shape:u({clockwise:o},t),z2:1});if(f.name="item",r){var l=f.shape,c=n?"r":"endAngle",h={};l[c]=n?0:t.startAngle,h[c]=t[c],Qw[i?"updateProps":"initProps"](f,{shape:h},r,e)}return f}},cN={cartesian2d:function(e,t,n){var r=e.getItemLayout(t),i=n?Uc(n,r):0,s=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+s*i/2,y:r.y+o*i/2,width:r.width-s*i,height:r.height-o*i}},polar:function(e,t){var n=e.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}},hN=ts.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var n=t.points,r=this.__startPoint,i=this.__baseDimIdx,s=0;s<n.length;s+=2)r[i]=n[s+i],e.moveTo(r[0],r[1]),e.lineTo(n[s],n[s+1])}}),pN=ga(function(e){var t=this,n=Wc(t,e.offsetX,e.offsetY);t.dataIndex=n>=0?n:null},30,!1),dN=Math.PI,vN=function(e,t){this.opt=t,this.axisModel=e,u(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Yg;var n=new Yg({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};vN.prototype={constructor:vN,hasBuilder:function(e){return!!mN[e]},add:function(e){mN[e].call(this)},getGroup:function(){return this.group}};var mN={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),r=this._transform,i=[n[0],0],s=[n[1],0];r&&(st(i,i,r),st(s,s,r));var u=o({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new kw({anid:"line",subPixelOptimize:!0,shape:{x1:i[0],y1:i[1],x2:s[0],y2:s[1]},style:u,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1}));var a=t.get("axisLine.symbol"),f=t.get("axisLine.symbolSize"),l=t.get("axisLine.symbolOffset")||0;if("number"==typeof l&&(l=[l,l]),null!=a){"string"==typeof a&&(a=[a,a]),("string"==typeof f||"number"==typeof f)&&(f=[f,f]);var c=f[0],h=f[1];p([{rotate:e.rotation+Math.PI/2,offset:l[0],r:0},{rotate:e.rotation-Math.PI/2,offset:l[1],r:Math.sqrt((i[0]-s[0])*(i[0]-s[0])+(i[1]-s[1])*(i[1]-s[1]))}],function(t,n){if("none"!==a[n]&&null!=a[n]){var r=Ql(a[n],-c/2,-h/2,c,h,u.stroke,!0),s=t.r+t.offset,o=[i[0]+s*Math.cos(e.rotation),i[1]-s*Math.sin(e.rotation)];r.attr({rotation:t.rotate,position:o,silent:!0,z2:11}),this.group.add(r)}},this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,n=th(this,e,t),r=rh(this,e,t);Qc(e,r,n),nh(this,e,t)},axisName:function(){var e=this.opt,t=this.axisModel,n=L(e.axisName,t.get("name"));if(n){var r,i=t.get("nameLocation"),s=e.nameDirection,u=t.getModel("nameTextStyle"),a=t.get("nameGap")||0,f=this.axisModel.axis.getExtent(),l=f[0]>f[1]?-1:1,c=["start"===i?f[0]-l*a:"end"===i?f[1]+l*a:(f[0]+f[1])/2,Zc(i)?e.labelOffset+s*a:0],h=t.get("nameRotate");null!=h&&(h=h*dN/180);var p;Zc(i)?r=yN(e.rotation,null!=h?h:e.rotation,s):(r=Kc(e,i,h||0,f),p=e.axisNameAvailableWidth,null!=p&&(p=Math.abs(p/Math.sin(r.rotation)),!isFinite(p)&&(p=null)));var d=u.getFont(),v=t.get("nameTruncate",!0)||{},m=v.ellipsis,g=L(e.nameTruncateMaxWidth,v.maxWidth,p),y=null!=m&&null!=g?pE(n,g,d,m,{minChar:2,placeholder:v.placeholder}):n,b=t.get("tooltip",!0),w=t.mainType,E={componentType:w,name:n,$vars:["name"]};E[w+"Index"]=t.componentIndex;var S=new pw({anid:"name",__fullText:n,__truncatedText:y,position:c,rotation:r.rotation,silent:bN(t),z2:1,tooltip:b&&b.show?o({content:n,formatter:function(){return n},formatterParams:E},b):null});Ws(S.style,u,{text:y,textFont:d,textFill:u.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:u.get("align")||r.textAlign,textVerticalAlign:u.get("verticalAlign")||r.textVerticalAlign}),t.get("triggerEvent")&&(S.eventData=gN(t),S.eventData.targetType="axisName",S.eventData.name=n),this._dumbGroup.add(S),S.updateTransform(),this.group.add(S),S.decomposeTransform()}}},gN=vN.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},yN=vN.innerTextLayout=function(e,t,n){var r,i,s=Ao(t-e);return Oo(s)?(i=n>0?"top":"bottom",r="center"):Oo(s-dN)?(i=n>0?"bottom":"top",r="center"):(i="middle",r=s>0&&dN>s?n>0?"right":"left":n>0?"left":"right"),{rotation:s,textAlign:r,textVerticalAlign:i}},bN=vN.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},wN=p,EN=b,SN=Df({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,r){this.axisPointerClass&&lh(e),SN.superApply(this,"render",arguments),vh(this,e,t,n,r,!0)},updateAxisPointer:function(e,t,n,r){vh(this,e,t,n,r,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),SN.superApply(this,"remove",arguments)},dispose:function(e,t){mh(this,t),SN.superApply(this,"dispose",arguments)}}),xN=[];SN.registerAxisPointerClass=function(e,t){xN[e]=t},SN.getAxisPointerClass=function(e){return e&&xN[e]};var TN=["axisLine","axisTickLabel","axisName"],NN=["splitArea","splitLine","minorSplitLine"],CN=SN.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,r){this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new Yg,this.group.add(this._axisGroup),e.get("show")){var s=e.getCoordSysModel(),o=gh(s,e),u=new vN(e,o);p(TN,u.add,u),this._axisGroup.add(u.getGroup()),p(NN,function(t){e.get(t+".show")&&this["_"+t](e,s)},this),so(i,this._axisGroup,e),CN.superCall(this,"render",e,t,n,r)}},remove:function(){bh(this)},_splitLine:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var r=e.getModel("splitLine"),i=r.getModel("lineStyle"),s=i.get("color");s=w(s)?s:[s];for(var o=t.coordinateSystem.getRect(),a=n.isHorizontal(),f=0,l=n.getTicksCoords({tickModel:r}),c=[],h=[],p=i.getLineStyle(),d=0;d<l.length;d++){var v=n.toGlobalCoord(l[d].coord);a?(c[0]=v,c[1]=o.y,h[0]=v,h[1]=o.y+o.height):(c[0]=o.x,c[1]=v,h[0]=o.x+o.width,h[1]=v);var m=f++%s.length,g=l[d].tickValue;this._axisGroup.add(new kw({anid:null!=g?"line_"+l[d].tickValue:null,subPixelOptimize:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:u({stroke:s[m]},p),silent:!0}))}}},_minorSplitLine:function(e,t){var n=e.axis,r=e.getModel("minorSplitLine"),i=r.getModel("lineStyle"),s=t.coordinateSystem.getRect(),o=n.isHorizontal(),u=n.getMinorTicksCoords();if(u.length)for(var a=[],f=[],l=i.getLineStyle(),c=0;c<u.length;c++)for(var h=0;h<u[c].length;h++){var p=n.toGlobalCoord(u[c][h].coord);o?(a[0]=p,a[1]=s.y,f[0]=p,f[1]=s.y+s.height):(a[0]=s.x,a[1]=p,f[0]=s.x+s.width,f[1]=p),this._axisGroup.add(new kw({anid:"minor_line_"+u[c][h].tickValue,subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:f[0],y2:f[1]},style:l,silent:!0}))}},_splitArea:function(e,t){yh(this,this._axisGroup,e,t)}});CN.extend({type:"xAxis"}),CN.extend({type:"yAxis"}),Df({type:"grid",render:function(e){this.group.removeAll(),e.get("show")&&this.group.add(new Nw({shape:e.coordinateSystem.getRect(),style:u({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),Sf(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}),Lf(hx.VISUAL.LAYOUT,b(Dl,"bar")),Lf(hx.VISUAL.PROGRESSIVE_LAYOUT,oT),Af({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}}),aS.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(){return vl(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var kN=wh.prototype,LN=wh.getSymbolSize=function(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};kN._createSymbol=function(e,t,n,r,i){this.removeAll();var s=t.getItemVisual(n,"color"),o=Ql(e,-1,-1,2,2,s,i);o.attr({z2:100,culling:!0,scale:Eh(r)}),o.drift=Sh,this._symbolType=e,this.add(o)},kN.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},kN.getSymbolPath=function(){return this.childAt(0)},kN.getScale=function(){return this.childAt(0).scale},kN.highlight=function(){this.childAt(0).trigger("emphasis")},kN.downplay=function(){this.childAt(0).trigger("normal")},kN.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},kN.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},kN.updateData=function(e,t,n){this.silent=!1;var r=e.getItemVisual(t,"symbol")||"circle",i=e.hostModel,s=LN(e,t),o=r!==this._symbolType;if(o){var u=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(r,e,t,s,u)}else{var a=this.childAt(0);a.silent=!1,eo(a,{scale:Eh(s)},i,t)}if(this._updateCommon(e,t,s,n),o){var a=this.childAt(0),f=n&&n.fadeIn,l={scale:a.scale.slice()};f&&(l.style={opacity:a.style.opacity}),a.scale=[0,0],f&&(a.style.opacity=0),to(a,l,i,t)}this._seriesModel=i};var AN=["itemStyle"],ON=["emphasis","itemStyle"],MN=["label"],_N=["emphasis","label"];kN._updateCommon=function(e,t,n,r){function i(t){return S?e.getName(t):Mc(e,t)}var s=this.childAt(0),u=e.hostModel,a=e.getItemVisual(t,"color");"image"!==s.type?s.useStyle({strokeNoScale:!0}):s.setStyle({opacity:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var f=r&&r.itemStyle,l=r&&r.hoverItemStyle,c=r&&r.symbolOffset,h=r&&r.labelModel,p=r&&r.hoverLabelModel,d=r&&r.hoverAnimation,v=r&&r.cursorStyle;if(!r||e.hasItemOption){var m=r&&r.itemModel?r.itemModel:e.getItemModel(t);f=m.getModel(AN).getItemStyle(["color"]),l=m.getModel(ON).getItemStyle(),c=m.getShallow("symbolOffset"),h=m.getModel(MN),p=m.getModel(_N),d=m.getShallow("hoverAnimation"),v=m.getShallow("cursor")}else l=o({},l);var g=s.style,y=e.getItemVisual(t,"symbolRotate");s.attr("rotation",(y||0)*Math.PI/180||0),c&&s.attr("position",[So(c[0],n[0]),So(c[1],n[1])]),v&&s.attr("cursor",v),s.setColor(a,r&&r.symbolInnerColor),s.setStyle(f);var b=e.getItemVisual(t,"opacity");null!=b&&(g.opacity=b);var w=e.getItemVisual(t,"liftZ"),E=s.__z2Origin;null!=w?null==E&&(s.__z2Origin=s.z2,s.z2+=w):null!=E&&(s.z2=E,s.__z2Origin=null);var S=r&&r.useNameLabel;Us(g,l,h,p,{labelFetcher:u,labelDataIndex:t,defaultText:i,isRectText:!0,autoColor:a}),s.__symbolOriginalScale=Eh(n),s.hoverStyle=l,s.highDownOnUpdate=d&&u.isAnimationEnabled()?xh:null,Fs(s)},kN.fadeOut=function(e,t){var n=this.childAt(0);this.silent=n.silent=!0,(!t||!t.keepLabel)&&(n.style.text=null),eo(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},l(wh,Yg);var DN=Th.prototype;DN.updateData=function(e,t){t=Ch(t);var n=this.group,r=e.hostModel,i=this._data,s=this._symbolCtor,o=kh(e);i||n.removeAll(),e.diff(i).add(function(r){var i=e.getItemLayout(r);if(Nh(e,i,r,t)){var u=new s(e,r,o);u.attr("position",i),e.setItemGraphicEl(r,u),n.add(u)}}).update(function(u,a){var f=i.getItemGraphicEl(a),l=e.getItemLayout(u);return Nh(e,l,u,t)?(f?(f.updateData(e,u,o),eo(f,{position:l},r)):(f=new s(e,u),f.attr("position",l)),n.add(f),void e.setItemGraphicEl(u,f)):void n.remove(f)}).remove(function(e){var t=i.getItemGraphicEl(e);t&&t.fadeOut(function(){n.remove(t)})}).execute(),this._data=e},DN.isPersistent=function(){return!0},DN.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var r=e.getItemLayout(n);t.attr("position",r)})},DN.incrementalPrepareUpdate=function(e){this._seriesScope=kh(e),this._data=null,this.group.removeAll()},DN.incrementalUpdate=function(e,t,n){function r(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}n=Ch(n);for(var i=e.start;i<e.end;i++){var s=t.getItemLayout(i);if(Nh(t,s,i,n)){var o=new this._symbolCtor(t,i,this._seriesScope);o.traverse(r),o.attr("position",s),this.group.add(o),t.setItemGraphicEl(i,o)}}},DN.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)})}):t.removeAll()};var PN=function(e,t,n,r,i,s,o,u){for(var a=Mh(e,t),f=[],l=[],c=[],h=[],p=[],d=[],v=[],m=Lh(i,t,o),g=Lh(s,e,u),y=0;y<a.length;y++){var b=a[y],w=!0;switch(b.cmd){case"=":var E=e.getItemLayout(b.idx),S=t.getItemLayout(b.idx1);(isNaN(E[0])||isNaN(E[1]))&&(E=S.slice()),f.push(E),l.push(S),c.push(n[b.idx]),h.push(r[b.idx1]),v.push(t.getRawIndex(b.idx1));break;case"+":var x=b.idx;f.push(i.dataToPoint([t.get(m.dataDimsForPoint[0],x),t.get(m.dataDimsForPoint[1],x)])),l.push(t.getItemLayout(x).slice()),c.push(Oh(m,i,t,x)),h.push(r[x]),v.push(t.getRawIndex(x));break;case"-":var x=b.idx,T=e.getRawIndex(x);T!==x?(f.push(e.getItemLayout(x)),l.push(s.dataToPoint([e.get(g.dataDimsForPoint[0],x),e.get(g.dataDimsForPoint[1],x)])),c.push(n[x]),h.push(Oh(g,s,e,x)),v.push(T)):w=!1}w&&(p.push(b),d.push(d.length))}d.sort(function(e,t){return v[e]-v[t]});for(var N=[],C=[],k=[],L=[],A=[],y=0;y<d.length;y++){var x=d[y];N[y]=f[x],C[y]=l[x],k[y]=c[x],L[y]=h[x],A[y]=p[x]}return{current:N,next:C,stackedOnCurrent:k,stackedOnNext:L,status:A}},HN=ot,BN=ut,jN=V,FN=U,IN=[],qN=[],RN=[],UN=ts.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:mw(ts.prototype.brush),buildPath:function(e,t){var n=t.points,r=0,i=n.length,s=Bh(n,t.smoothConstraint);if(t.connectNulls){for(;i>0&&_h(n[i-1]);i--);for(;i>r&&_h(n[r]);r++);}for(;i>r;)r+=Dh(e,n,r,i,i,1,s.min,s.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),zN=ts.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:mw(ts.prototype.brush),buildPath:function(e,t){var n=t.points,r=t.stackedOnPoints,i=0,s=n.length,o=t.smoothMonotone,u=Bh(n,t.smoothConstraint),a=Bh(r,t.smoothConstraint);if(t.connectNulls){for(;s>0&&_h(n[s-1]);s--);for(;s>i&&_h(n[i]);i++);}for(;s>i;){var f=Dh(e,n,i,s,s,1,u.min,u.max,t.smooth,o,t.connectNulls);Dh(e,r,i+f-1,f,s,-1,a.min,a.max,t.stackedOnSmooth,o,t.connectNulls),i+=f+1,e.closePath()}}});ha.extend({type:"line",init:function(){var e=new Yg,t=new Th;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var r=e.coordinateSystem,i=this.group,s=e.getData(),o=e.getModel("lineStyle"),a=e.getModel("areaStyle"),f=s.mapArray(s.getItemLayout),l="polar"===r.type,c=this._coordSys,h=this._symbolDraw,p=this._polyline,d=this._polygon,v=this._lineGroup,m=e.get("animation"),g=!a.isEmpty(),y=a.get("origin"),b=Lh(r,s,y),w=qh(r,s,b),E=e.get("showSymbol"),S=E&&!l&&zh(e,s,r),x=this._data;x&&x.eachItemGraphicEl(function(e,t){e.__temp&&(i.remove(e),x.setItemGraphicEl(t,null))}),E||h.remove(),i.add(v);var T,N=!l&&e.get("step");r&&r.getArea&&e.get("clip",!0)&&(T=r.getArea(),null!=T.width?(T.x-=.1,T.y-=.1,T.width+=.2,T.height+=.2):T.r0&&(T.r0-=.5,T.r1+=.5)),this._clipShapeForSymbol=T,p&&c.type===r.type&&N===this._step?(g&&!d?d=this._newPolygon(f,w,r,m):d&&!g&&(v.remove(d),d=this._polygon=null),v.setClipPath(Xh(r,!1,e)),E&&h.updateData(s,{isIgnore:S,clipShape:T}),s.eachItemGraphicEl(function(e){e.stopAnimation(!0)}),jh(this._stackedOnPoints,w)&&jh(this._points,f)||(m?this._updateAnimation(s,w,r,n,N,y):(N&&(f=Rh(f,r,N),w=Rh(w,r,N)),p.setShape({points:f}),d&&d.setShape({points:f,stackedOnPoints:w})))):(E&&h.updateData(s,{isIgnore:S,clipShape:T}),N&&(f=Rh(f,r,N),w=Rh(w,r,N)),p=this._newPolyline(f,r,m),g&&(d=this._newPolygon(f,w,r,m)),v.setClipPath(Xh(r,!0,e)));var C=Uh(s,r)||s.getVisual("color");p.useStyle(u(o.getLineStyle(),{fill:"none",stroke:C,lineJoin:"bevel"}));var k=e.get("smooth");if(k=Ih(e.get("smooth")),p.setShape({smooth:k,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),d){var L=s.getCalculationInfo("stackedOnSeries"),A=0;d.useStyle(u(a.getAreaStyle(),{fill:C,opacity:.7,lineJoin:"bevel"})),L&&(A=Ih(L.get("smooth"))),d.setShape({smooth:k,stackedOnSmooth:A,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=s,this._coordSys=r,this._stackedOnPoints=w,this._points=f,this._step=N,this._valueOrigin=y},dispose:function(){},highlight:function(e,t,n,r){var i=e.getData(),s=ai(i,r);if(!(s instanceof Array)&&null!=s&&s>=0){var o=i.getItemGraphicEl(s);if(!o){var u=i.getItemLayout(s);if(!u)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u[0],u[1]))return;o=new wh(i,s),o.position=u,o.setZ(e.get("zlevel"),e.get("z")),o.ignore=isNaN(u[0])||isNaN(u[1]),o.__temp=!0,i.setItemGraphicEl(s,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else ha.prototype.highlight.call(this,e,t,n,r)},downplay:function(e,t,n,r){var i=e.getData(),s=ai(i,r);if(null!=s&&s>=0){var o=i.getItemGraphicEl(s);o&&(o.__temp?(i.setItemGraphicEl(s,null),this.group.remove(o)):o.downplay())}else ha.prototype.downplay.call(this,e,t,n,r)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new UN({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new zN({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_updateAnimation:function(e,t,n,r,i,s){var o=this._polyline,u=this._polygon,a=e.hostModel,f=PN(this._data,e,this._stackedOnPoints,t,this._coordSys,n,this._valueOrigin,s),l=f.current,c=f.stackedOnCurrent,h=f.next,p=f.stackedOnNext;if(i&&(l=Rh(f.current,n,i),c=Rh(f.stackedOnCurrent,n,i),h=Rh(f.next,n,i),p=Rh(f.stackedOnNext,n,i)),Fh(l,h)>3e3||u&&Fh(c,p)>3e3)return o.setShape({points:h}),void (u&&u.setShape({points:h,stackedOnPoints:p}));o.shape.__points=f.current,o.shape.points=l,eo(o,{shape:{points:h}},a),u&&(u.setShape({points:l,stackedOnPoints:c}),eo(u,{shape:{points:h,stackedOnPoints:p}},a));for(var d=[],v=f.status,m=0;m<v.length;m++){var g=v[m].cmd;if("="===g){var y=e.getItemGraphicEl(v[m].idx1);y&&d.push({el:y,ptIdx:m})}}o.animators&&o.animators.length&&o.animators[0].during(function(){for(var e=0;e<d.length;e++){var t=d[e].el;t.attr("position",o.shape.__points[d[e].ptIdx])}})},remove:function(){var e=this.group,t=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),t&&t.eachItemGraphicEl(function(n,r){n.__temp&&(e.remove(n),t.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var WN=function(e,t,n){return{seriesType:e,performRawSeries:!0,reset:function(e,r){function i(t,n){if(p){var r=e.getRawValue(n),i=e.getDataParams(n);l&&t.setItemVisual(n,"symbol",o(r,i)),c&&t.setItemVisual(n,"symbolSize",u(r,i)),h&&t.setItemVisual(n,"symbolRotate",f(r,i))}if(t.hasItemOption){var s=t.getItemModel(n),a=s.getShallow("symbol",!0),d=s.getShallow("symbolSize",!0),v=s.getShallow("symbolRotate",!0),m=s.getShallow("symbolKeepAspect",!0);null!=a&&t.setItemVisual(n,"symbol",a),null!=d&&t.setItemVisual(n,"symbolSize",d),null!=v&&t.setItemVisual(n,"symbolRotate",v),null!=m&&t.setItemVisual(n,"symbolKeepAspect",m)}}var s=e.getData(),o=e.get("symbol"),u=e.get("symbolSize"),a=e.get("symbolKeepAspect"),f=e.get("symbolRotate"),l=E(o),c=E(u),h=E(f),p=l||c||h,d=!l&&o?o:t,v=c?null:u;return s.setVisual({legendSymbol:n||d,symbol:d,symbolSize:v,symbolKeepAspect:a,symbolRotate:f}),r.isSeriesFiltered(e)?void 0:{dataEach:s.hasItemOption||p?i:null}}}},XN=function(e){return{seriesType:e,plan:cS(),reset:function(e){function t(e,t){for(var n=e.end-e.start,i=s&&new Float32Array(n*u),a=e.start,f=0,l=[],c=[];a<e.end;a++){var h;if(1===u){var p=t.get(o[0],a);h=!isNaN(p)&&r.dataToPoint(p,null,c)}else{var p=l[0]=t.get(o[0],a),d=l[1]=t.get(o[1],a);h=!isNaN(p)&&!isNaN(d)&&r.dataToPoint(l,null,c)}s?(i[f++]=h?h[0]:0/0,i[f++]=h?h[1]:0/0):t.setItemLayout(a,h&&h.slice()||[0/0,0/0])}s&&t.setLayout("symbolPoints",i)}var n=e.getData(),r=e.coordinateSystem,i=e.pipelineContext,s=i.large;if(r){var o=d(r.dimensions,function(e){return n.mapDimension(e)}).slice(0,2),u=o.length,a=n.getCalculationInfo("stackResultDimension");return pl(n,o[0])&&(o[0]=a),pl(n,o[1])&&(o[1]=a),u&&{progress:t}}}}},VN={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return 0===n?0/0:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:0/0},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:0/0},nearest:function(e){return e[0]}},$N=function(e){return Math.round(e.length/2)},JN=function(e){return{seriesType:e,modifyOutputEnd:!0,reset:function(e){var t=e.getData(),n=e.get("sampling"),r=e.coordinateSystem;if("cartesian2d"===r.type&&n){var i=r.getBaseAxis(),s=r.getOtherAxis(i),o=i.getExtent(),u=o[1]-o[0],a=Math.round(t.count()/u);if(a>1){var f;"string"==typeof n?f=VN[n]:"function"==typeof n&&(f=n),f&&e.setData(t.downSample(t.mapDimension(s.dim),1/a,f,$N))}}}}};Af(WN("line","circle","line")),Lf(XN("line")),xf(hx.PROCESSOR.STATISTIC,JN("line"));var KN=function(e,t,n){t=w(t)&&{coordDimensions:t}||o({},t);var r=e.getSource(),i=Kx(r,t),s=new Vx(i,e);return s.initData(r,n),s},QN={updateSelectedMap:function(e){this._targetList=w(e)?e.slice():[],this._selectTargetMap=v(e||[],function(e,t){return e.set(t.name,t),e},F())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e),r=this.get("selectedMode");"single"===r&&this._selectTargetMap.each(function(e){e.selected=!1}),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return null!=n?(this[n.selected?"unSelect":"select"](e,t),n.selected):void 0},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}},GN=Pf({type:"series.pie",init:function(e){GN.superApply(this,"init",arguments),this.legendVisualProvider=new Vh(y(this.getData,this),y(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){GN.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(){return KN(this,{coordDimensions:["value"],encodeDefaulter:b(du,this)})},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),n=[],r=0,i=e.count();i>r;r++)n.push({name:e.getName(r),value:e.get(t,r),selected:Zu(e,r,"selected")});return n},getDataParams:function(e){var t=this.getData(),n=GN.superCall(this,"getDataParams",e),r=[];return t.each(t.mapDimension("value"),function(e){r.push(e)}),n.percent=Lo(r,e,t.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(e){ti(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});c(GN,QN);var YN=Kh.prototype;YN.updateData=function(e,t,n){var r=this.childAt(0),i=this.childAt(1),s=this.childAt(2),a=e.hostModel,f=e.getItemModel(t),l=e.getItemLayout(t),c=o({},l);c.label=null;var h=a.getShallow("animationTypeUpdate");if(n){r.setShape(c);var p=a.getShallow("animationType");"scale"===p?(r.shape.r=l.r0,to(r,{shape:{r:l.r}},a,t)):(r.shape.endAngle=l.startAngle,eo(r,{shape:{endAngle:l.endAngle}},a,t))}else"expansion"===h?r.setShape(c):eo(r,{shape:c},a,t);var d=e.getItemVisual(t,"color");r.useStyle(u({lineJoin:"bevel",fill:d},f.getModel("itemStyle").getItemStyle())),r.hoverStyle=f.getModel("emphasis.itemStyle").getItemStyle();var v=f.getShallow("cursor");v&&r.attr("cursor",v),Jh(this,e.getItemLayout(t),a.isSelected(e.getName(t)),a.get("selectedOffset"),a.get("animation"));var m=!n&&"transition"===h;this._updateLabel(e,t,m),this.highDownOnUpdate=a.get("silent")?null:function(e,t){var n=a.isAnimationEnabled()&&f.get("hoverAnimation");"emphasis"===t?(i.ignore=i.hoverIgnore,s.ignore=s.hoverIgnore,n&&(r.stopAnimation(!0),r.animateTo({shape:{r:l.r+a.get("hoverOffset")}},300,"elasticOut"))):(i.ignore=i.normalIgnore,s.ignore=s.normalIgnore,n&&(r.stopAnimation(!0),r.animateTo({shape:{r:l.r}},300,"elasticOut")))},Fs(this)},YN._updateLabel=function(e,t,n){var r=this.childAt(1),i=this.childAt(2),s=e.hostModel,o=e.getItemModel(t),u=e.getItemLayout(t),a=u.label,f=e.getItemVisual(t,"color");if(!a||isNaN(a.x)||isNaN(a.y))return void (i.ignore=i.normalIgnore=i.hoverIgnore=r.ignore=r.normalIgnore=r.hoverIgnore=!0);var l={points:a.linePoints||[[a.x,a.y],[a.x,a.y],[a.x,a.y]]},c={x:a.x,y:a.y};n?(eo(r,{shape:l},s,t),eo(i,{style:c},s,t)):(r.attr({shape:l}),i.attr({style:c})),i.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var h=o.getModel("label"),p=o.getModel("emphasis.label"),d=o.getModel("labelLine"),v=o.getModel("emphasis.labelLine"),f=e.getItemVisual(t,"color");Us(i.style,i.hoverStyle={},h,p,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:a.text,autoColor:f,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),i.ignore=i.normalIgnore=!h.get("show"),i.hoverIgnore=!p.get("show"),r.ignore=r.normalIgnore=!d.get("show"),r.hoverIgnore=!v.get("show"),r.setStyle({stroke:f,opacity:e.getItemVisual(t,"opacity")}),r.setStyle(d.getModel("lineStyle").getLineStyle()),r.hoverStyle=v.getModel("lineStyle").getLineStyle();var m=d.get("smooth");m&&m===!0&&(m=.4),r.setShape({smooth:m})},l(Kh,Yg);var ZN=(ha.extend({type:"pie",init:function(){var e=new Yg;this._sectorGroup=e},render:function(e,t,n,r){if(!r||r.from!==this.uid){var i=e.getData(),s=this._data,o=this.group,u=t.get("animation"),a=!s,f=e.get("animationType"),l=e.get("animationTypeUpdate"),c=b($h,this.uid,e,u,n),h=e.get("selectedMode");if(i.diff(s).add(function(e){var t=new Kh(i,e);a&&"scale"!==f&&t.eachChild(function(e){e.stopAnimation(!0)}),h&&t.on("click",c),i.setItemGraphicEl(e,t),o.add(t)}).update(function(e,t){var n=s.getItemGraphicEl(t);a||"transition"===l||n.eachChild(function(e){e.stopAnimation(!0)}),n.updateData(i,e),n.off("click"),h&&n.on("click",c),o.add(n),i.setItemGraphicEl(e,n)}).remove(function(e){var t=s.getItemGraphicEl(e);o.remove(t)}).execute(),u&&i.count()>0&&(a?"scale"!==f:"transition"!==l)){for(var p=i.getItemLayout(0),d=1;isNaN(p.startAngle)&&d<i.count();++d)p=i.getItemLayout(d);var v=Math.max(n.getWidth(),n.getHeight())/2,m=y(o.removeClipPath,o);o.setClipPath(this._createClipPath(p.cx,p.cy,v,p.startAngle,p.clockwise,m,e,a))}else o.removeClipPath();this._data=i}},dispose:function(){},_createClipPath:function(e,t,n,r,i,s,o,u){var a=new gw({shape:{cx:e,cy:t,r0:0,r:n,startAngle:r,endAngle:r,clockwise:i}}),f=u?to:eo;return f(a,{shape:{endAngle:r+(i?1:-1)*Math.PI*2}},o,s),a},containPoint:function(e,t){var n=t.getData(),r=n.getItemLayout(0);if(r){var i=e[0]-r.cx,s=e[1]-r.cy,o=Math.sqrt(i*i+s*s);return o<=r.r&&o>=r.r0}}}),function(e,t){p(t,function(t){t.update="updateView",Nf(t,function(n,r){var i={};return r.eachComponent({mainType:"series",subType:e,query:n},function(e){e[t.method]&&e[t.method](n.name,n.dataIndex);var r=e.getData();r.each(function(t){var n=r.getName(t);i[n]=e.isSelected(n)||!1})}),{name:n.name,selected:i,seriesId:n.seriesId}})})}),eC=function(e){return{getTargetSeries:function(t){var n={},r=F();return t.eachSeriesByType(e,function(e){e.__paletteScope=n,r.set(e.uid,e)}),r},reset:function(e){var t=e.getRawData(),n={},r=e.getData();r.each(function(e){var t=r.getRawIndex(e);n[t]=e}),t.each(function(i){var s,o=n[i],u=null!=o&&r.getItemVisual(o,"color",!0),a=null!=o&&r.getItemVisual(o,"borderColor",!0);if(u&&a||(s=t.getItemModel(i)),!u){var f=s.get("itemStyle.color")||e.getColorFromPalette(t.getName(i)||i+"",e.__paletteScope,t.count());null!=o&&r.setItemVisual(o,"color",f)}if(!a){var l=s.get("itemStyle.borderColor");null!=o&&r.setItemVisual(o,"borderColor",l)}})}}},tC=Math.PI/180,nC=function(e,t,n,r,i,s){var o,u,a=e.getData(),f=[],l=!1,c=(e.get("minShowLabelAngle")||0)*tC;a.each(function(r){var s=a.getItemLayout(r),h=a.getItemModel(r),p=h.getModel("label"),d=p.get("position")||h.get("emphasis.label.position"),v=p.get("distanceToLabelLine"),m=p.get("alignTo"),g=So(p.get("margin"),n),y=p.get("bleedMargin"),b=p.getFont(),w=h.getModel("labelLine"),E=w.get("length");E=So(E,n);var S=w.get("length2");if(S=So(S,n),!(s.angle<c)){var x,T,N,C,k=(s.startAngle+s.endAngle)/2,L=Math.cos(k),A=Math.sin(k);o=s.cx,u=s.cy;var O=e.getFormattedLabel(r,"normal")||a.getName(r),M=Vn(O,b,C,"top"),_="inside"===d||"inner"===d;if("center"===d)x=s.cx,T=s.cy,C="center";else{var D=(_?(s.r+s.r0)/2*L:s.r*L)+o,P=(_?(s.r+s.r0)/2*A:s.r*A)+u;if(x=D+3*L,T=P+3*A,!_){var H=D+L*(E+t-s.r),B=P+A*(E+t-s.r),j=H+(0>L?-1:1)*S,F=B;x="edge"===m?0>L?i+g:i+n-g:j+(0>L?-v:v),T=F,N=[[D,P],[H,B],[j,F]]}C=_?"center":"edge"===m?L>0?"right":"left":L>0?"left":"right"}var I,q=p.get("rotate");I="number"==typeof q?q*(Math.PI/180):q?0>L?-k+Math.PI:-k:0,l=!!I,s.label={x:x,y:T,position:d,height:M.height,len:E,len2:S,linePoints:N,textAlign:C,verticalAlign:"middle",rotation:I,inside:_,labelDistance:v,labelAlignTo:m,labelMargin:g,bleedMargin:y,textRect:M,text:O,font:b},_||f.push(s.label)}}),!l&&e.get("avoidLabelOverlap")&&Gh(f,o,u,t,n,r,i,s)},rC=2*Math.PI,iC=Math.PI/180,sC=function(e,t,n){t.eachSeriesByType(e,function(e){var t=e.getData(),r=t.mapDimension("value"),i=Zh(e,n),s=e.get("center"),o=e.get("radius");w(o)||(o=[0,o]),w(s)||(s=[s,s]);var u=So(i.width,n.getWidth()),a=So(i.height,n.getHeight()),f=Math.min(u,a),l=So(s[0],u)+i.x,c=So(s[1],a)+i.y,h=So(o[0],f/2),p=So(o[1],f/2),d=-e.get("startAngle")*iC,v=e.get("minAngle")*iC,m=0;t.each(r,function(e){!isNaN(e)&&m++});var g=t.getSum(r),y=Math.PI/(g||m)*2,b=e.get("clockwise"),E=e.get("roseType"),S=e.get("stillShowZeroSum"),x=t.getDataExtent(r);x[0]=0;var T=rC,N=0,C=d,k=b?1:-1;if(t.each(r,function(e,n){var r;if(isNaN(e))return void t.setItemLayout(n,{angle:0/0,startAngle:0/0,endAngle:0/0,clockwise:b,cx:l,cy:c,r0:h,r:E?0/0:p,viewRect:i});r="area"!==E?0===g&&S?y:e*y:rC/m,v>r?(r=v,T-=v):N+=e;var s=C+k*r;t.setItemLayout(n,{angle:r,startAngle:C,endAngle:s,clockwise:b,cx:l,cy:c,r0:h,r:E?Eo(e,x,[h,p]):p,viewRect:i}),C=s}),rC>T&&m)if(.001>=T){var L=rC/m;t.each(r,function(e,n){if(!isNaN(e)){var r=t.getItemLayout(n);r.angle=L,r.startAngle=d+k*n*L,r.endAngle=d+k*(n+1)*L}})}else y=T/N,C=d,t.each(r,function(e,n){if(!isNaN(e)){var r=t.getItemLayout(n),i=r.angle===v?v:e*y;r.startAngle=C,r.endAngle=C+k*i,C+=k*i}});nC(e,p,i.width,i.height,i.x,i.y)})},oC=function(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var r=e.getData();r.filterSelf(function(e){for(var t=r.getName(e),i=0;i<n.length;i++)if(!n[i].isSelected(t))return!1;return!0})}}}};ZN("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),Af(eC("pie")),Lf(b(sC,"pie")),xf(oC("pie"));var uC=(aS.extend({type:"series.gauge",getInitialData:function(){return KN(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),ts.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos,r=Math.sin,i=t.r,s=t.width,o=t.angle,u=t.x-n(o)*s*(s>=i/3?1:2),a=t.y-r(o)*s*(s>=i/3?1:2);o=t.angle-Math.PI/2,e.moveTo(u,a),e.lineTo(t.x+n(o)*s,t.y+r(o)*s),e.lineTo(t.x+n(t.angle)*i,t.y+r(t.angle)*i),e.lineTo(t.x-n(o)*s,t.y-r(o)*s),e.lineTo(u,a)}})),aC=2*Math.PI;ha.extend({type:"gauge",render:function(e,t,n){this.group.removeAll();var r=e.get("axisLine.lineStyle.color"),i=ep(e,n);this._renderMain(e,t,n,r,i)},dispose:function(){},_renderMain:function(e,t,n,r,i){for(var s=this.group,o=e.getModel("axisLine"),u=o.getModel("lineStyle"),a=e.get("clockwise"),f=-e.get("startAngle")/180*Math.PI,l=-e.get("endAngle")/180*Math.PI,c=(l-f)%aC,h=f,p=u.get("width"),d=o.get("show"),v=0;d&&v<r.length;v++){var m=Math.min(Math.max(r[v][0],0),1),l=f+c*m,g=new gw({shape:{startAngle:h,endAngle:l,cx:i.cx,cy:i.cy,clockwise:a,r0:i.r-p,r:i.r},silent:!0});g.setStyle({fill:r[v][1]}),g.setStyle(u.getLineStyle(["color","borderWidth","borderColor"])),s.add(g),h=l}var y=function(e){if(0>=e)return r[0][1];for(var t=0;t<r.length;t++)if(r[t][0]>=e&&(0===t?0:r[t-1][0])<e)return r[t][1];return r[t-1][1]};if(!a){var b=f;f=l,l=b}this._renderTicks(e,t,n,y,i,f,l,a),this._renderPointer(e,t,n,y,i,f,l,a),this._renderTitle(e,t,n,y,i),this._renderDetail(e,t,n,y,i)},_renderTicks:function(e,t,n,r,i,s,o){for(var u=this.group,a=i.cx,f=i.cy,l=i.r,c=+e.get("min"),h=+e.get("max"),p=e.getModel("splitLine"),d=e.getModel("axisTick"),v=e.getModel("axisLabel"),m=e.get("splitNumber"),g=d.get("splitNumber"),y=So(p.get("length"),l),b=So(d.get("length"),l),w=s,E=(o-s)/m,S=E/g,x=p.getModel("lineStyle").getLineStyle(),T=d.getModel("lineStyle").getLineStyle(),N=0;m>=N;N++){var C=Math.cos(w),k=Math.sin(w);if(p.get("show")){var L=new kw({shape:{x1:C*l+a,y1:k*l+f,x2:C*(l-y)+a,y2:k*(l-y)+f},style:x,silent:!0});"auto"===x.stroke&&L.setStyle({stroke:r(N/m)}),u.add(L)}if(v.get("show")){var A=tp(xo(N/m*(h-c)+c),v.get("formatter")),O=v.get("distance"),M=r(N/m);u.add(new pw({style:Ws({},v,{text:A,x:C*(l-y-O)+a,y:k*(l-y-O)+f,textVerticalAlign:-0.4>k?"top":k>.4?"bottom":"middle",textAlign:-0.4>C?"left":C>.4?"right":"center"},{autoColor:M}),silent:!0}))}if(d.get("show")&&N!==m){for(var _=0;g>=_;_++){var C=Math.cos(w),k=Math.sin(w),D=new kw({shape:{x1:C*l+a,y1:k*l+f,x2:C*(l-b)+a,y2:k*(l-b)+f},silent:!0,style:T});"auto"===T.stroke&&D.setStyle({stroke:r((N+_/g)/m)}),u.add(D),w+=S}w-=S}else w+=E}},_renderPointer:function(e,t,n,r,i,s,o){var u=this.group,a=this._data;if(!e.get("pointer.show"))return void (a&&a.eachItemGraphicEl(function(e){u.remove(e)}));var f=[+e.get("min"),+e.get("max")],l=[s,o],c=e.getData(),h=c.mapDimension("value");c.diff(a).add(function(t){var n=new uC({shape:{angle:s}});to(n,{shape:{angle:Eo(c.get(h,t),f,l,!0)}},e),u.add(n),c.setItemGraphicEl(t,n)}).update(function(t,n){var r=a.getItemGraphicEl(n);eo(r,{shape:{angle:Eo(c.get(h,t),f,l,!0)}},e),u.add(r),c.setItemGraphicEl(t,r)}).remove(function(e){var t=a.getItemGraphicEl(e);u.remove(t)}).execute(),c.eachItemGraphicEl(function(e,t){var n=c.getItemModel(t),s=n.getModel("pointer");e.setShape({x:i.cx,y:i.cy,width:So(s.get("width"),i.r),r:So(s.get("length"),i.r)}),e.useStyle(n.getModel("itemStyle").getItemStyle()),"auto"===e.style.fill&&e.setStyle("fill",r(Eo(c.get(h,t),f,[0,1],!0))),Fs(e,n.getModel("emphasis.itemStyle").getItemStyle())}),this._data=c},_renderTitle:function(e,t,n,r,i){var s=e.getData(),o=s.mapDimension("value"),u=e.getModel("title");if(u.get("show")){var a=u.get("offsetCenter"),f=i.cx+So(a[0],i.r),l=i.cy+So(a[1],i.r),c=+e.get("min"),h=+e.get("max"),p=e.getData().get(o,0),d=r(Eo(p,[c,h],[0,1],!0));this.group.add(new pw({silent:!0,style:Ws({},u,{x:f,y:l,text:s.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:d,forceRich:!0})}))}},_renderDetail:function(e,t,n,r,i){var s=e.getModel("detail"),o=+e.get("min"),u=+e.get("max");if(s.get("show")){var a=s.get("offsetCenter"),f=i.cx+So(a[0],i.r),l=i.cy+So(a[1],i.r),c=So(s.get("width"),i.r),h=So(s.get("height"),i.r),p=e.getData(),d=p.get(p.mapDimension("value"),0),v=r(Eo(d,[o,u],[0,1],!0));this.group.add(new pw({silent:!0,style:Ws({},s,{x:f,y:l,text:tp(d,s.get("formatter")),textWidth:isNaN(c)?null:c,textHeight:isNaN(h)?null:h,textAlign:"center",textVerticalAlign:"middle"},{autoColor:v,forceRich:!0})}))}}}),_f({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),Df({type:"title",render:function(e,t,n){if(this.group.removeAll(),e.get("show")){var r=this.group,i=e.getModel("textStyle"),s=e.getModel("subtextStyle"),o=e.get("textAlign"),u=A(e.get("textBaseline"),e.get("textVerticalAlign")),a=new pw({style:Ws({},i,{text:e.get("text"),textFill:i.getTextColor()},{disableBox:!0}),z2:10}),f=a.getBoundingRect(),l=e.get("subtext"),c=new pw({style:Ws({},s,{text:l,textFill:s.getTextColor(),y:f.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),h=e.get("link"),p=e.get("sublink"),d=e.get("triggerEvent",!0);a.silent=!h&&!d,c.silent=!p&&!d,h&&a.on("click",function(){Ko(h,"_"+e.get("target"))}),p&&c.on("click",function(){Ko(h,"_"+e.get("subtarget"))}),a.eventData=c.eventData=d?{componentType:"title",componentIndex:e.componentIndex}:null,r.add(a),l&&r.add(c);var v=r.getBoundingRect(),m=e.getBoxLayoutParams();m.width=v.width,m.height=v.height;var g=Go(m,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));o||(o=e.get("left")||e.get("right"),"middle"===o&&(o="center"),"right"===o?g.x+=g.width:"center"===o&&(g.x+=g.width/2)),u||(u=e.get("top")||e.get("bottom"),"center"===u&&(u="middle"),"bottom"===u?g.y+=g.height:"middle"===u&&(g.y+=g.height/2),u=u||"top"),r.attr("position",[g.x,g.y]);var y={textAlign:o,textVerticalAlign:u};a.setStyle(y),c.setStyle(y),v=r.getBoundingRect();var b=g.margin,w=e.getItemStyle(["color","opacity"]);w.fill=e.get("backgroundColor");var E=new Nw({shape:{x:v.x-b[3],y:v.y-b[0],width:v.width+b[1]+b[3],height:v.height+b[0]+b[2],r:e.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});r.add(E)}}});var fC=wS.legend.selector,lC={all:{type:"all",title:r(fC.all)},inverse:{type:"inverse",title:r(fC.inverse)}},cC=_f({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},mergeOption:function(e){cC.superCall(this,"mergeOption",e),this._updateSelector(e)},_updateSelector:function(e){var t=e.selector;t===!0&&(t=e.selector=["all","inverse"]),w(t)&&p(t,function(e,n){S(e)&&(e={type:e}),t[n]=i(e,lC[e.type])})},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var r=e[n].get("name");if(this.isSelected(r)){this.select(r),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=[],n=[];e.eachRawSeries(function(r){var i=r.name;n.push(i);var s;if(r.legendVisualProvider){var o=r.legendVisualProvider,u=o.getAllNames();e.isSeriesFiltered(r)||(n=n.concat(u)),u.length?t=t.concat(u):s=!0}else s=!0;s&&oi(r)&&t.push(r.name)}),this._availableNames=n;var r=this.get("data")||t,i=d(r,function(e){return("string"==typeof e||"number"==typeof e)&&(e={name:e}),new po(e,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(e){var t=this.option.selected,n=this.get("selectedMode");if("single"===n){var r=this._data;p(r,function(e){t[e.get("name")]=!1})}t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},allSelect:function(){var e=this._data,t=this.option.selected;p(e,function(e){t[e.get("name",!0)]=!0})},inverseSelect:function(){var e=this._data,t=this.option.selected;p(e,function(e){var n=e.get("name",!0);t.hasOwnProperty(n)||(t[n]=!0),t[n]=!t[n]})},isSelected:function(e){var t=this.option.selected;return(!t.hasOwnProperty(e)||!!t[e])&&f(this._availableNames,e)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});Nf("legendToggleSelect","legendselectchanged",b(np,"toggleSelected")),Nf("legendAllSelect","legendselectall",b(np,"allSelect")),Nf("legendInverseSelect","legendinverseselect",b(np,"inverseSelect")),Nf("legendSelect","legendselected",b(np,"select")),Nf("legendUnSelect","legendunselected",b(np,"unSelect"));var hC=b,pC=p,dC=Yg,vC=Df({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new dC),this._backgroundEl,this.group.add(this._selectorGroup=new dC),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(e,t,n){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var i=e.get("align"),s=e.get("orient");i&&"auto"!==i||(i="right"===e.get("left")&&"vertical"===s?"right":"left");var o=e.get("selector",!0),a=e.get("selectorPosition",!0);!o||a&&"auto"!==a||(a="horizontal"===s?"end":"start"),this.renderInner(i,e,t,n,o,s,a);var f=e.getBoxLayoutParams(),l={width:n.getWidth(),height:n.getHeight()},c=e.get("padding"),h=Go(f,l,c),p=this.layoutInner(e,i,h,r,o,a),d=Go(u({width:p.width,height:p.height},f),l,c);this.group.attr("position",[d.x-p.x,d.y-p.y]),this.group.add(this._backgroundEl=ip(p,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(e,t,n,r,i,s,o){var u=this.getContentGroup(),a=F(),f=t.get("selectedMode"),l=[];n.eachRawSeries(function(e){!e.get("legendHoverLink")&&l.push(e.id)}),pC(t.getData(),function(i,s){var o=i.get("name");if(!this.newlineDisabled&&(""===o||"\n"===o))return void u.add(new dC({newline:!0}));var c=n.getSeriesByName(o)[0];if(!a.get(o))if(c){var h=c.getData(),p=h.getVisual("color"),d=h.getVisual("borderColor");"function"==typeof p&&(p=p(c.getDataParams(0))),"function"==typeof d&&(d=d(c.getDataParams(0)));var v=h.getVisual("legendSymbol")||"roundRect",m=h.getVisual("symbol"),g=this._createItem(o,s,i,t,v,m,e,p,d,f);g.on("click",hC(op,o,null,r,l)).on("mouseover",hC(up,c.name,null,r,l)).on("mouseout",hC(ap,c.name,null,r,l)),a.set(o,!0)}else n.eachRawSeries(function(n){if(!a.get(o)&&n.legendVisualProvider){var u=n.legendVisualProvider;if(!u.containName(o))return;var c=u.indexOfName(o),h=u.getItemVisual(c,"color"),p=u.getItemVisual(c,"borderColor"),d="roundRect",v=this._createItem(o,s,i,t,d,null,e,h,p,f);v.on("click",hC(op,null,o,r,l)).on("mouseover",hC(up,null,o,r,l)).on("mouseout",hC(ap,null,o,r,l)),a.set(o,!0)}},this)},this),i&&this._createSelector(i,t,r,s,o)},_createSelector:function(e,t,n){function r(e){var r=e.type,s=new pw({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect"})}});i.add(s);var o=t.getModel("selectorLabel"),u=t.getModel("emphasis.selectorLabel");Us(s.style,s.hoverStyle={},o,u,{defaultText:e.title,isRectText:!1}),Fs(s)}var i=this.getSelectorGroup();pC(e,function(e){r(e)})},_createItem:function(e,t,n,r,i,s,u,a,f,l){var c=r.get("itemWidth"),h=r.get("itemHeight"),p=r.get("inactiveColor"),d=r.get("inactiveBorderColor"),v=r.get("symbolKeepAspect"),m=r.getModel("itemStyle"),g=r.isSelected(e),y=new dC,b=n.getModel("textStyle"),w=n.get("icon"),E=n.getModel("tooltip"),S=E.parentModel;i=w||i;var x=Ql(i,0,0,c,h,g?a:p,null==v?!0:v);if(y.add(sp(x,i,m,f,d,g)),!w&&s&&(s!==i||"none"===s)){var T=.8*h;"none"===s&&(s="circle");var N=Ql(s,(c-T)/2,(h-T)/2,T,T,g?a:p,null==v?!0:v);y.add(sp(N,s,m,f,d,g))}var C="left"===u?c+5:-5,k=u,L=r.get("formatter"),A=e;"string"==typeof L&&L?A=L.replace("{name}",null!=e?e:""):"function"==typeof L&&(A=L(e)),y.add(new pw({style:Ws({},b,{text:A,x:C,y:h/2,textFill:g?b.getTextColor():p,textAlign:k,textVerticalAlign:"middle"})}));var O=new Nw({shape:y.getBoundingRect(),invisible:!0,tooltip:E.get("show")?o({content:e,formatter:S.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:r.componentIndex,name:e,$vars:["name"]}},E.option):null});return y.add(O),y.eachChild(function(e){e.silent=!0}),O.silent=!l,this.getContentGroup().add(y),Fs(y),y.__legendDataIndex=t,y},layoutInner:function(e,t,n,r,i,s){var o=this.getContentGroup(),u=this.getSelectorGroup();yE(e.get("orient"),o,e.get("itemGap"),n.width,n.height);var a=o.getBoundingRect(),f=[-a.x,-a.y];if(i){yE("horizontal",u,e.get("selectorItemGap",!0));var l=u.getBoundingRect(),c=[-l.x,-l.y],h=e.get("selectorButtonGap",!0),p=e.getOrient().index,d=0===p?"width":"height",v=0===p?"height":"width",m=0===p?"y":"x";"end"===s?c[p]+=a[d]+h:f[p]+=l[d]+h,c[1-p]+=a[v]/2-l[v]/2,u.attr("position",c),o.attr("position",f);var g={x:0,y:0};return g[d]=a[d]+h+l[d],g[v]=Math.max(a[v],l[v]),g[m]=Math.min(0,l[m]+c[1-p]),g}return o.attr("position",f),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}}),mC=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})};xf(hx.PROCESSOR.SERIES_FILTER,mC),EE.registerSubTypeDefaulter("legend",function(){return"plain"});var gC=cC.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,n,r){var i=eu(e);gC.superCall(this,"init",e,t,n,r),fp(this,e,i)},mergeOption:function(e,t){gC.superCall(this,"mergeOption",e,t),fp(this,this.option,e)}}),yC=Yg,bC=["width","height"],wC=["x","y"],EC=vC.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){EC.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new yC),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new yC),this._showController},resetInner:function(){EC.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,n,r,i,s,o){function u(e,n){var i=e+"DataIndex",s=ao(t.get("pageIcons",!0)[t.getOrient().name][n],{onclick:y(a._pageGo,a,i,t,r)},{x:-l[0]/2,y:-l[1]/2,width:l[0],height:l[1]});s.name=e,f.add(s)}var a=this;EC.superCall(this,"renderInner",e,t,n,r,i,s,o);var f=this._controllerGroup,l=t.get("pageIconSize",!0);w(l)||(l=[l,l]),u("pagePrev",0);var c=t.getModel("pageTextStyle");f.add(new pw({name:"pageText",style:{textFill:c.getTextColor(),font:c.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),u("pageNext",1)},layoutInner:function(e,t,n,i,s,o){var u=this.getSelectorGroup(),a=e.getOrient().index,f=bC[a],l=wC[a],c=bC[1-a],h=wC[1-a];s&&yE("horizontal",u,e.get("selectorItemGap",!0));var p=e.get("selectorButtonGap",!0),d=u.getBoundingRect(),v=[-d.x,-d.y],m=r(n);s&&(m[f]=n[f]-d[f]-p);var g=this._layoutContentAndController(e,i,m,a,f,c,h);if(s){if("end"===o)v[a]+=g[f]+p;else{var y=d[f]+p;v[a]-=y,g[l]-=y}g[f]+=d[f]+p,v[1-a]+=g[h]+g[c]/2-d[c]/2,g[c]=Math.max(g[c],d[c]),g[h]=Math.min(g[h],d[h]+v[1-a]),u.attr("position",v)}return g},_layoutContentAndController:function(e,t,n,r,i,s,o){var u=this.getContentGroup(),a=this._containerGroup,f=this._controllerGroup;yE(e.get("orient"),u,e.get("itemGap"),r?n.width:null,r?null:n.height),yE("horizontal",f,e.get("pageButtonItemGap",!0));var l=u.getBoundingRect(),c=f.getBoundingRect(),h=this._showController=l[i]>n[i],p=[-l.x,-l.y];t||(p[r]=u.position[r]);var d=[0,0],v=[-c.x,-c.y],m=A(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(h){var g=e.get("pageButtonPosition",!0);"end"===g?v[r]+=n[i]-c[i]:d[r]+=c[i]+m}v[1-r]+=l[s]/2-c[s]/2,u.attr("position",p),a.attr("position",d),f.attr("position",v);var y={x:0,y:0};if(y[i]=h?n[i]:l[i],y[s]=Math.max(l[s],c[s]),y[o]=Math.min(0,c[o]+v[1-r]),a.__rectSize=n[i],h){var b={x:0,y:0};b[i]=Math.max(n[i]-c[i]-m,0),b[s]=y[s],a.setClipPath(new Nw({shape:b})),a.__rectSize=b[i]}else f.eachChild(function(e){e.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(e);return null!=w.pageIndex&&eo(u,{position:w.contentPosition},h?e:!1),this._updatePageInfoView(e,w),y},_pageGo:function(e,t,n){var r=this._getPageInfo(t)[e];null!=r&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:t.id})},_updatePageInfoView:function(e,t){var n=this._controllerGroup;p(["pagePrev","pageNext"],function(r){var i=null!=t[r+"DataIndex"],s=n.childOfName(r);s&&(s.setStyle("fill",i?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),s.cursor=i?"pointer":"default")});var r=n.childOfName("pageText"),i=e.get("pageFormatter"),s=t.pageIndex,o=null!=s?s+1:0,u=t.pageCount;r&&i&&r.setStyle("text",S(i)?i.replace("{current}",o).replace("{total}",u):i({current:o,total:u}))},_getPageInfo:function(e){function t(e){if(e){var t=e.getBoundingRect(),n=t[a]+e.position[o];return{s:n,e:n+t[u],i:e.__legendDataIndex}}}function n(e,t){return e.e>=t&&e.s<=t+s}var r=e.get("scrollDataIndex",!0),i=this.getContentGroup(),s=this._containerGroup.__rectSize,o=e.getOrient().index,u=bC[o],a=wC[o],f=this._findTargetItemIndex(r),l=i.children(),c=l[f],h=l.length,p=h?1:0,d={contentPosition:i.position.slice(),pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return d;var v=t(c);d.contentPosition[o]=-v.s;for(var m=f+1,g=v,y=v,b=null;h>=m;++m)b=t(l[m]),(!b&&y.e>g.s+s||b&&!n(b,g.s))&&(g=y.i>g.i?y:b,g&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=g.i),++d.pageCount)),y=b;for(var m=f-1,g=v,y=v,b=null;m>=-1;--m)b=t(l[m]),b&&n(y,b.s)||!(g.i<y.i)||(y=g,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=b;return d},_findTargetItemIndex:function(e){if(!this._showController)return 0;var t,n,r=this.getContentGroup();return r.eachChild(function(r,i){var s=r.__legendDataIndex;null==n&&null!=s&&(n=i),s===e&&(t=i)}),null!=t?t:n}});Nf("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(e){e.setScrollDataIndex(n)})});var SC=function(e,t){var n,r=[],i=e.seriesIndex;if(null==i||!(n=t.getSeriesByIndex(i)))return{point:[]};var s=n.getData(),o=ai(s,e);if(null==o||0>o||w(o))return{point:[]};var u=s.getItemGraphicEl(o),a=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(o)||[];else if(a&&a.dataToPoint)r=a.dataToPoint(s.getValues(d(a.dimensions,function(e){return s.mapDimension(e)}),o,!0))||[];else if(u){var f=u.getBoundingRect().clone();f.applyTransform(u.transform),r=[f.x+f.width/2,f.y+f.height/2]}return{point:r,el:u}},xC=p,TC=b,NC=fi(),CC=function(e,t,n){var r=e.currTrigger,i=[e.x,e.y],s=e,o=e.dispatchAction||y(n.dispatchAction,n),u=t.getComponent("axisPointer").coordSysAxesInfo;if(u){bp(i)&&(i=SC({seriesIndex:s.seriesIndex,dataIndex:s.dataIndex},t).point);var a=bp(i),f=s.axesInfo,l=u.axesInfo,c="leave"===r||bp(i),h={},p={},d={list:[],map:{}},v={showPointer:TC(hp,p),showTooltip:TC(pp,d)};xC(u.coordSysMap,function(e,t){var n=a||e.containPoint(i);xC(u.coordSysAxesInfo[t],function(e){var t=e.axis,r=gp(f,e);if(!c&&n&&(!f||r)){var s=r&&r.value;null!=s||a||(s=t.pointToData(i)),null!=s&&lp(e,s,v,!1,h)}})});var m={};return xC(l,function(e,t){var n=e.linkGroup;n&&!p[t]&&xC(n.axesInfo,function(t,r){var i=p[r];if(t!==e&&i){var s=i.value;n.mapper&&(s=e.axis.scale.parse(n.mapper(s,yp(t),yp(e)))),m[e.key]=s}})}),xC(m,function(e,t){lp(l[t],e,v,!0,h)}),dp(p,l,h),vp(d,i,e,o),mp(l,o,n),h}},kC=(_f({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),fi()),LC=p,AC=Df({type:"axisPointer",render:function(e,t,n){var r=t.getComponent("tooltip"),i=e.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";wp("axisPointer",n,function(e,t,n){"none"!==i&&("leave"===e||i.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})})},remove:function(e,t){Cp(t.getZr(),"axisPointer"),AC.superApply(this._model,"remove",arguments)},dispose:function(e,t){Cp("axisPointer",t),AC.superApply(this._model,"dispose",arguments)}}),OC=fi(),MC=r,_C=y;kp.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,r){var i=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,r||this._lastValue!==i||this._lastStatus!==s){this._lastValue=i,this._lastStatus=s;var o=this._group,u=this._handle;if(!s||"hide"===s)return o&&o.hide(),void (u&&u.hide());o&&o.show(),u&&u.show();var a={};this.makeElOption(a,i,e,t,n);var f=a.graphicKey;f!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=f;var l=this._moveAnimation=this.determineAnimation(e,t);if(o){var c=b(Lp,t,l);this.updatePointerEl(o,a,c,t),this.updateLabelEl(o,a,c,t)}else o=this._group=new Yg,this.createPointerEl(o,a,e,t),this.createLabelEl(o,a,e,t),n.getZr().add(o);_p(o,t,!0),this._renderHandle(i)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),r=e.axis,i="category"===r.type,s=t.get("snap");if(!s&&!i)return!1;if("auto"===n||null==n){var o=this.animationThreshold;if(i&&r.getBandWidth()>o)return!0;if(s){var u=ch(e).seriesDataCount,a=r.getExtent();return Math.abs(a[0]-a[1])/u>o}return!1}return n===!0},makeElOption:function(){},createPointerEl:function(e,t){var n=t.pointer;if(n){var r=OC(e).pointerEl=new Qw[n.type](MC(t.pointer));e.add(r)}},createLabelEl:function(e,t,n,r){if(t.label){var i=OC(e).labelEl=new Nw(MC(t.label));e.add(i),Op(i,r)}},updatePointerEl:function(e,t,n){var r=OC(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),n(r,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,r){var i=OC(e).labelEl;i&&(i.setStyle(t.label.style),n(i,{shape:t.label.shape,position:t.label.position}),Op(i,r))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t=this._axisPointerModel,n=this._api.getZr(),r=this._handle,i=t.getModel("handle"),s=t.get("status");if(!i.get("show")||!s||"hide"===s)return r&&n.remove(r),void (this._handle=null);var o;this._handle||(o=!0,r=this._handle=ao(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){pg(e.event)},onmousedown:_C(this._onHandleDragMove,this,0,0),drift:_C(this._onHandleDragMove,this),ondragend:_C(this._onHandleDragEnd,this)}),n.add(r)),_p(r,t,!1);var u=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];r.setStyle(i.getItemStyle(null,u));var a=i.get("size");w(a)||(a=[a,a]),r.attr("scale",[a[0]/2,a[1]/2]),ya(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},_moveHandleToValue:function(e,t){Lp(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Mp(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(Mp(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(Mp(r)),OC(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var e=this._handle;if(e){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},_onHandleDragEnd:function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,r=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}},kp.prototype.constructor=kp,gi(kp);var DC=kp.extend({makeElOption:function(e,t,n,r,i){var s=n.axis,o=s.grid,u=r.get("type"),a=Rp(o,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(t,!0));if(u&&"none"!==u){var l=Dp(r),c=PC[u](s,f,a);c.style=l,e.graphicKey=c.type,e.pointer=c}var h=gh(o.model,n);Fp(t,e,h,n,r,i)},getHandleTransform:function(e,t,n){var r=gh(t.axis.grid.model,t,{labelInside:!1});return r.labelMargin=n.get("handle.margin"),{position:jp(t.axis,e,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n){var r=n.axis,i=r.grid,s=r.getGlobalExtent(!0),o=Rp(i,r).getOtherAxis(r).getGlobalExtent(),u="x"===r.dim?0:1,a=e.position;a[u]+=t[u],a[u]=Math.min(s[1],a[u]),a[u]=Math.max(s[0],a[u]);var f=(o[1]+o[0])/2,l=[f,f];l[u]=a[u];var c=[{verticalAlign:"middle"},{align:"center"}];return{position:a,rotation:e.rotation,cursorPoint:l,tooltipOption:c[u]}}}),PC={line:function(e,t,n){var r=Ip([t,n[0]],[t,n[1]],Up(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:qp([t-r/2,n[0]],[r,i],Up(e))}}};SN.registerAxisPointerClass("CartesianAxisPointer",DC),Sf(function(
e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!w(t)&&(e.axisPointer.link=[t])}}),xf(hx.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=ih(e,t)}),Nf({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},CC),_f({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var HC=p,BC=Io,jC=["","-webkit-","-moz-","-o-"],FC="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";$p.prototype={constructor:$p,_enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),n=e.style;"absolute"!==n.position&&"absolute"!==t.position&&(n.position="relative")},show:function(e){clearTimeout(this._hideTimeout);var t=this.el,n=this._styleCoord;t.style.cssText=FC+Xp(e)+";left:"+n[0]+"px;top:"+n[1]+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n=this._styleCoord;Vp(n,this._zr,this._appendToBody,e,t);var r=this.el.style;r.left=n[0]+"px",r.top=n[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(y(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(e+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),t+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:t}}},Jp.prototype={constructor:Jp,_enterable:!0,update:function(){},show:function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(e,t,n){this.el&&this._zr.remove(this.el);for(var r={},i=e,s="{marker",o="|}",u=i.indexOf(s);u>=0;){var a=i.indexOf(o),f=i.substr(u+s.length,a-u-s.length);r["marker"+f]=f.indexOf("sub")>-1?{textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:t[f],textOffset:[3,0]}:{textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:t[f]},i=i.substr(a+1),u=i.indexOf("{marker")}this.el=new pw({style:{rich:r,text:e,textLineHeight:20,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding")},z:n.get("z")}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,t){this.el&&this.el.attr("position",[e,t])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(y(this.hide,this),e)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var e=this.getSize();return{width:e[0],height:e[1]}}};var IC=y,qC=p,RC=So,UC=new Nw({shape:{x:-1,y:-1,width:2,height:2}});Df({type:"tooltip",init:function(e,t){if(!Fm.node){var n=e.getComponent("tooltip"),r=n.get("renderMode");this._renderMode=di(r);var i;"html"===this._renderMode?(i=new $p(t.getDom(),t,{appendToBody:n.get("appendToBody",!0)}),this._newLine="<br/>"):(i=new Jp(t),this._newLine="\n"),this._tooltipContent=i}},render:function(e,t,n){if(!Fm.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var r=this._tooltipContent;r.update(),r.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel,t=e.get("triggerOn");wp("itemTooltip",this._api,IC(function(e,n,r){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,r):"leave"===e&&this._hide(r))},this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&r.manuallyShowTip(e,t,n,{x:r._lastX,y:r._lastY})})}},manuallyShowTip:function(e,t,n,r){if(r.from!==this.uid&&!Fm.node){var i=Qp(r,n);this._ticket="";var s=r.dataByCoordSys;if(r.tooltip&&null!=r.x&&null!=r.y){var o=UC;o.position=[r.x,r.y],o.update(),o.tooltip=r.tooltip,this._tryShow({offsetX:r.x,offsetY:r.y,target:o},i)}else if(s)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,dataByCoordSys:r.dataByCoordSys,tooltipOption:r.tooltipOption},i);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,r))return;var u=SC(r,t),a=u.point[0],f=u.point[1];null!=a&&null!=f&&this._tryShow({offsetX:a,offsetY:f,position:r.position,target:u.el},i)}else null!=r.x&&null!=r.y&&(n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target},i))}},manuallyHideTip:function(e,t,n,r){var i=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&i.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,r.from!==this.uid&&this._hide(Qp(r,n))},_manuallyAxisShowTip:function(e,t,n,r){var i=r.seriesIndex,s=r.dataIndex,o=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=i&&null!=s&&null!=o){var u=t.getSeriesByIndex(i);if(u){var a=u.getData(),e=Kp([a.getItemModel(s),u,(u.coordinateSystem||{}).model,e]);if("axis"===e.get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:s,position:r.position}),!0}}},_tryShow:function(e,t){var n=e.target,r=this._tooltipModel;if(r){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get("showDelay");t=y(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,r=this._tooltipModel,s=[t.offsetX,t.offsetY],o=[],u=[],a=Kp([t.tooltipOption,r]),f=this._renderMode,l=this._newLine,c={};qC(e,function(e){qC(e.dataByAxis,function(e){var t=n.getComponent(e.axisDim+"Axis",e.axisIndex),r=e.value,s=[];if(t&&null!=r){var a=Bp(r,t.axis,n,e.seriesDataIndices,e.valueLabelOpt);p(e.seriesDataIndices,function(o){var l=n.getSeriesByIndex(o.seriesIndex),h=o.dataIndexInside,p=l&&l.getDataParams(h);if(p.axisDim=e.axisDim,p.axisIndex=e.axisIndex,p.axisType=e.axisType,p.axisId=e.axisId,p.axisValue=Wl(t.axis,r),p.axisValueLabel=a,p){u.push(p);var d,v=l.formatTooltip(h,!0,null,f);if(x(v)){d=v.html;var m=v.markers;i(c,m)}else d=v;s.push(d)}});var h=a;o.push("html"!==f?s.join(l):(h?qo(h)+l:"")+s.join(l))}})},this),o.reverse(),o=o.join(this._newLine+this._newLine);var h=t.position;this._showOrMove(a,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(a,h,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(a,o,u,Math.random(),s[0],s[1],h,void 0,c)})},_showSeriesItemTooltip:function(e,t,n){var r=this._ecModel,i=t.seriesIndex,s=r.getSeriesByIndex(i),o=t.dataModel||s,u=t.dataIndex,a=t.dataType,f=o.getData(a),l=Kp([f.getItemModel(u),o,s&&(s.coordinateSystem||{}).model,this._tooltipModel]),c=l.get("trigger");if(null==c||"item"===c){var h,p,d=o.getDataParams(u,a),v=o.formatTooltip(u,!1,a,this._renderMode);x(v)?(h=v.html,p=v.markers):(h=v,p=null);var m="item_"+o.name+"_"+u;this._showOrMove(l,function(){this._showTooltipContent(l,h,d,m,e.offsetX,e.offsetY,e.position,e.target,p)}),n({type:"showTip",dataIndexInside:u,dataIndex:f.getRawIndex(u),seriesIndex:i,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var r=t.tooltip;if("string"==typeof r){var i=r;r={content:i,formatter:i}}var s=new po(r,this._tooltipModel,this._ecModel),o=s.get("content"),u=Math.random();this._showOrMove(s,function(){this._showTooltipContent(s,o,s.get("formatterParams")||{},u,e.offsetX,e.offsetY,e.position,t)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,n,r,i,s,o,u,a){if(this._ticket="",e.get("showContent")&&e.get("show")){var f=this._tooltipContent,l=e.get("formatter");o=o||e.get("position");var c=t;if(l&&"string"==typeof l)c=Ro(l,n,!0);else if("function"==typeof l){var h=IC(function(t,r){t===this._ticket&&(f.setContent(r,a,e),this._updatePosition(e,o,i,s,f,n,u))},this);this._ticket=r,c=l(n,r,h)}f.setContent(c,a,e),f.show(e),this._updatePosition(e,o,i,s,f,n,u)}},_updatePosition:function(e,t,n,r,i,s,o){var u=this._api.getWidth(),a=this._api.getHeight();t=t||e.get("position");var f=i.getSize(),l=e.get("align"),c=e.get("verticalAlign"),h=o&&o.getBoundingRect().clone();if(o&&h.applyTransform(o.transform),"function"==typeof t&&(t=t([n,r],s,i.el,h,{viewSize:[u,a],contentSize:f.slice()})),w(t))n=RC(t[0],u),r=RC(t[1],a);else if(x(t)){t.width=f[0],t.height=f[1];var p=Go(t,{width:u,height:a});n=p.x,r=p.y,l=null,c=null}else if("string"==typeof t&&o){var d=Zp(t,h,f);n=d[0],r=d[1]}else{var d=Gp(n,r,i,u,a,l?null:20,c?null:20);n=d[0],r=d[1]}if(l&&(n-=ed(l)?f[0]/2:"right"===l?f[0]:0),c&&(r-=ed(c)?f[1]/2:"bottom"===c?f[1]:0),e.get("confine")){var d=Yp(n,r,i,u,a);n=d[0],r=d[1]}i.moveTo(n,r)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&qC(t,function(t,r){var i=t.dataByAxis||{},s=e[r]||{},o=s.dataByAxis||[];n&=i.length===o.length,n&&qC(i,function(e,t){var r=o[t]||{},i=e.seriesDataIndices||[],s=r.seriesDataIndices||[];n&=e.value===r.value&&e.axisType===r.axisType&&e.axisId===r.axisId&&i.length===s.length,n&&qC(i,function(e,t){var r=s[t];n&=e.seriesIndex===r.seriesIndex&&e.dataIndex===r.dataIndex})})}),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){Fm.node||(this._tooltipContent.dispose(),Cp("itemTooltip",t))}}),Nf({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),Nf({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),EE.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var zC=["x","y","z","radius","angle","single"],WC=["cartesian2d","polar","singleAxis"],XC=nd(zC,["axisIndex","axis","index","id"]),VC=function(e,t,n,r,i,s){e=e||0;var o=n[1]-n[0];if(null!=i&&(i=sd(i,[0,o])),null!=s&&(s=Math.max(s,null!=i?i:0)),"all"===r){var u=Math.abs(t[1]-t[0]);u=sd(u,[0,o]),i=s=sd(u,[i,s]),r=0}t[0]=sd(t[0],n),t[1]=sd(t[1],n);var a=id(t,r);t[r]+=e;var f=i||0,l=n.slice();a.sign<0?l[0]+=f:l[1]-=f,t[r]=sd(t[r],l);var c=id(t,r);null!=i&&(c.sign!==a.sign||c.span<i)&&(t[1-r]=t[r]+a.sign*i);var c=id(t,r);return null!=s&&c.span>s&&(t[1-r]=t[r]+c.sign*s),t},$C=p,JC=To,KC=function(e,t,n,r){this._dimName=e,this._axisIndex=t,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=r,this._dataZoomModel=n};KC.prototype={constructor:KC,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(n){if(td(n.get("coordinateSystem"))){var r=this._dimName,i=t.queryComponents({mainType:r+"Axis",index:n.get(r+"AxisIndex"),id:n.get(r+"AxisId")})[0];this._axisIndex===(i&&i.componentIndex)&&e.push(n)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,n=this._dimName,r=this.ecModel,i=this.getAxisModel(),s="x"===n||"y"===n;s?(t="gridIndex",e="x"===n?"y":"x"):(t="polarIndex",e="angle"===n?"radius":"angle");var o;return r.eachComponent(e+"Axis",function(e){(e.get(t)||0)===(i.get(t)||0)&&(o=e)}),o},getMinMaxSpan:function(){return r(this._minMaxSpan)},calculateDataWindow:function(e){function t(e,t,n,r,i){var o=i?"Span":"ValueSpan";VC(0,e,n,"all",l["min"+o],l["max"+o]);for(var u=0;2>u;u++)t[u]=Eo(e[u],n,r,!0),i&&(t[u]=s.parse(t[u]))}var n,r=this._dataExtent,i=this.getAxisModel(),s=i.axis.scale,o=this._dataZoomModel.getRangePropMode(),u=[0,100],a=[],f=[];$C(["start","end"],function(t,i){var l=e[t],c=e[t+"Value"];"percent"===o[i]?(null==l&&(l=u[i]),c=s.parse(Eo(l,u,r))):(n=!0,c=null==c?r[i]:s.parse(c),l=Eo(c,r,u)),f[i]=c,a[i]=l}),JC(f),JC(a);var l=this._minMaxSpan;return n?t(f,a,r,u,!1):t(a,f,u,r,!0),{valueWindow:f,percentWindow:a}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=od(this,this._dimName,t),fd(this);var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,ad(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,ad(this,!0))},filterData:function(e){function t(e){return e>=s[0]&&e<=s[1]}if(e===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),i=e.get("filterMode"),s=this._valueWindow;"none"!==i&&$C(r,function(e){var r=e.getData(),o=r.mapDimension(n,!0);o.length&&("weakFilter"===i?r.filterSelf(function(e){for(var t,n,i,u=0;u<o.length;u++){var a=r.get(o[u],e),f=!isNaN(a),l=a<s[0],c=a>s[1];if(f&&!l&&!c)return!0;f&&(i=!0),l&&(t=!0),c&&(n=!0)}return i&&t&&n}):$C(o,function(n){if("empty"===i)e.setData(r=r.map(n,function(e){return t(e)?e:0/0}));else{var o={};o[n]=s,r.selectRange(o)}}),$C(o,function(e){r.setApproximateExtent(s,e)}))})}}};var QC=p,GC=XC,YC=_f({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,t,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var r=ld(e);this.settledOption=r,this.mergeDefaultAndTheme(e,n),this.doInit(r)},mergeOption:function(e){var t=ld(e);i(this.option,e,!0),i(this.settledOption,t,!0),this.doInit(t)},doInit:function(e){var t=this.option;Fm.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),cd(this,e);var n=this.settledOption;QC([["start","startValue"],["end","endValue"]],function(e,r){"value"===this._rangePropMode[r]&&(t[e[0]]=n[e[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,n,r,i){var s=this.dependentModels[t.axis][n],o=s.__dzAxisProxy||(s.__dzAxisProxy=new KC(t.name,n,this,i));e[t.name+"_"+n]=o},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();GC(function(t){var n=t.axisIndex;e[n]=ei(e[n])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;GC(function(n){null!=e[n.axisIndex]&&(t=!0)},this);var n=e.orient;return null==n&&t?"orient":t?void 0:(null==n&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),n=this.option,r=this.dependentModels;if(e){var i="vertical"===t?"y":"x";r[i+"Axis"].length?(n[i+"AxisIndex"]=[0],e=!1):QC(r.singleAxis,function(r){e&&r.get("orient",!0)===t&&(n.singleAxisIndex=[r.componentIndex],e=!1)})}e&&GC(function(t){if(e){var r=[],i=this.dependentModels[t.axis];if(i.length&&!r.length)for(var s=0,o=i.length;o>s;s++)"category"===i[s].get("type")&&r.push(s);n[t.axisIndex]=r,r.length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(e){this._isSeriesHasAllAxesTypeOf(e,"value")&&GC(function(t){var r=n[t.axisIndex],i=e.get(t.axisIndex),s=e.get(t.axisId),o=e.ecModel.queryComponents({mainType:t.axis,index:i,id:s})[0];i=o.componentIndex,f(r,i)<0&&r.push(i)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){!e&&(e=t.name)},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var n=!0;return GC(function(r){var i=e.get(r.axisIndex),s=this.dependentModels[r.axis][i];s&&s.get("type")===t||(n=!1)},this),n},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return GC(function(t){if(null==e){var n=this.get(t.axisIndex);n.length&&(e=this.dependentModels[t.axis][n[0]])}},this),e},eachTargetAxis:function(e,t){var n=this.ecModel;GC(function(r){QC(this.get(r.axisIndex),function(i){e.call(t,r,i,this,n)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var n=this.getAxisProxy(e,t);return n&&n.getAxisModel()},setRawRange:function(e){var t=this.option,n=this.settledOption;QC([["start","startValue"],["end","endValue"]],function(r){(null!=e[r[0]]||null!=e[r[1]])&&(t[r[0]]=n[r[0]]=e[r[0]],t[r[1]]=n[r[1]]=e[r[1]])},this),cd(this,e)},setCalculatedRange:function(e){var t=this.option;QC(["start","startValue","end","endValue"],function(n){t[n]=e[n]})},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();return e?e.getDataPercentWindow():void 0},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var n in t)if(t.hasOwnProperty(n)&&t[n].hostedBy(this))return t[n];for(var n in t)if(t.hasOwnProperty(n)&&!t[n].hostedBy(this))return t[n]},getRangePropMode:function(){return this._rangePropMode.slice()}}),ZC=fS.extend({type:"dataZoom",render:function(e,t,n){this.dataZoomModel=e,this.ecModel=t,this.api=n},getTargetCoordInfo:function(){function e(e,t,n,r){for(var i,s=0;s<n.length;s++)if(n[s].model===e){i=n[s];break}i||n.push(i={model:e,axisModels:[],coordIndex:r}),i.axisModels.push(t)}var t=this.dataZoomModel,n=this.ecModel,r={};return t.eachTargetAxis(function(t,i){var s=n.getComponent(t.axis,i);if(s){var o=s.getCoordSysModel();o&&e(o,s,r[o.mainType]||(r[o.mainType]=[]),o.componentIndex)}},this),r}}),ek=(YC.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),Nw),tk=Eo,nk=To,rk=y,ik=p,sk=7,ok=1,uk=30,ak="horizontal",fk="vertical",lk=5,ck=["line","bar","candlestick","scatter"],hk=ZC.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=t},render:function(e,t,n,r){return hk.superApply(this,"render",arguments),ya(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=e.get("orient"),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),void this._updateView())},remove:function(){hk.superApply(this,"remove",arguments),ba(this,"_dispatchZoomAction")},dispose:function(){hk.superApply(this,"dispose",arguments),ba(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new Yg;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,n=this._findCoordRect(),r={width:t.getWidth(),height:t.getHeight()},i=this._orient===ak?{right:r.width-n.x-n.width,top:r.height-uk-sk,width:n.width,height:uk}:{right:sk,top:n.y,width:uk,height:n.height},s=eu(e.option);p(["right","top","width","height"],function(e){"ph"===s[e]&&(s[e]=i[e])});var o=Go(s,r,e.padding);this._location={x:o.x,y:o.y},this._size=[o.width,o.height],this._orient===fk&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,n=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),i=r&&r.get("inverse"),s=this._displayables.barGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(n!==ak||i?n===ak&&i?{scale:o?[-1,1]:[-1,-1]}:n!==fk||i?{scale:o?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:o?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:o?[1,1]:[1,-1]});var u=e.getBoundingRect([s]);e.attr("position",[t.x-u.x,t.y-u.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var e=this.dataZoomModel,t=this._size,n=this._displayables.barGroup;n.add(new ek({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40})),n.add(new ek({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:y(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,n=e.series,r=n.getRawData(),i=n.getShadowDim?n.getShadowDim():e.otherDim;if(null!=i){var s=r.getDataExtent(i),o=.3*(s[1]-s[0]);s=[s[0]-o,s[1]+o];var a,f=[0,t[1]],l=[0,t[0]],c=[[t[0],0],[0,0]],h=[],p=l[1]/(r.count()-1),d=0,v=Math.round(r.count()/t[0]);r.each([i],function(e,t){if(v>0&&t%v)return void (d+=p);var n=null==e||isNaN(e)||""===e,r=n?0:tk(e,s,f,!0);n&&!a&&t?(c.push([c[c.length-1][0],0]),h.push([h[h.length-1][0],0])):!n&&a&&(c.push([d,0]),h.push([d,0])),c.push([d,r]),h.push([d,r]),d+=p,a=n});var m=this.dataZoomModel;this._displayables.barGroup.add(new Ew({shape:{points:c},style:u({fill:m.get("dataBackgroundColor")},m.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new Sw({shape:{points:h},style:m.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(t!==!1){var n,r=this.ecModel;return e.eachTargetAxis(function(i,s){var o=e.getAxisProxy(i.name,s).getTargetSeriesModels();p(o,function(e){if(!(n||t!==!0&&f(ck,e.get("type"))<0)){var o,u=r.getComponent(i.axis,s).axis,a=hd(i.name),l=e.coordinateSystem;null!=a&&l.getOtherAxis&&(o=l.getOtherAxis(u).inverse),a=e.getData().mapDimension(a),n={thisAxis:u,series:e,thisDim:i.name,otherDim:a,otherAxisInverse:o}}},this)},this),n}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],n=e.handleLabels=[],r=this._displayables.barGroup,i=this._size,s=this.dataZoomModel;r.add(e.filler=new ek({draggable:!0,cursor:pd(this._orient),drift:rk(this._onDragMove,this,"all"),ondragstart:rk(this._showDataInfo,this,!0),ondragend:rk(this._onDragEnd,this),onmouseover:rk(this._showDataInfo,this,!0),onmouseout:rk(this._showDataInfo,this,!1),style:{fill:s.get("fillerColor"),textPosition:"inside"}})),r.add(new ek({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{stroke:s.get("dataBackgroundColor")||s.get("borderColor"),lineWidth:ok,fill:"rgba(0,0,0,0)"}})),ik([0,1],function(e){var i=ao(s.get("handleIcon"),{cursor:pd(this._orient),draggable:!0,drift:rk(this._onDragMove,this,e),ondragend:rk(this._onDragEnd,this),onmouseover:rk(this._showDataInfo,this,!0),onmouseout:rk(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),o=i.getBoundingRect();this._handleHeight=So(s.get("handleSize"),this._size[1]),this._handleWidth=o.width/o.height*this._handleHeight,i.setStyle(s.getModel("handleStyle").getItemStyle());var u=s.get("handleColor");null!=u&&(i.style.fill=u),r.add(t[e]=i);var a=s.textStyleModel;this.group.add(n[e]=new pw({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:a.getTextColor(),textFont:a.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[tk(e[0],[0,100],t,!0),tk(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var n=this.dataZoomModel,r=this._handleEnds,i=this._getViewExtent(),s=n.findRepresentativeAxisProxy().getMinMaxSpan(),o=[0,100];VC(t,r,i,n.get("zoomLock")?"all":e,null!=s.minSpan?tk(s.minSpan,o,i,!0):null,null!=s.maxSpan?tk(s.maxSpan,o,i,!0):null);var u=this._range,a=this._range=nk([tk(r[0],i,o,!0),tk(r[1],i,o,!0)]);return!u||u[0]!==a[0]||u[1]!==a[1]},_updateView:function(e){var t=this._displayables,n=this._handleEnds,r=nk(n.slice()),i=this._size;ik([0,1],function(e){var r=t.handles[e],s=this._handleHeight;r.attr({scale:[s/2,s/2],position:[n[e],i[1]/2-s/2]})},this),t.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:i[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){function t(e){var t=no(r.handles[e].parent,this.group),n=io(0===e?"right":"left",t),u=this._handleWidth/2+lk,a=ro([c[e]+(0===e?-u:u),this._size[1]/2],t);i[e].setStyle({x:a[0],y:a[1],textVerticalAlign:s===ak?"middle":n,textAlign:s===ak?n:"center",text:o[e]})}var n=this.dataZoomModel,r=this._displayables,i=r.handleLabels,s=this._orient,o=["",""];if(n.get("showDetail")){var u=n.findRepresentativeAxisProxy();if(u){var a=u.getAxisModel().axis,f=this._range,l=e?u.calculateDataWindow({start:f[0],end:f[1]}).valueWindow:u.getDataValueWindow();o=[this._formatLabel(l[0],a),this._formatLabel(l[1],a)]}}var c=nk(this._handleEnds.slice());t.call(this,0),t.call(this,1)},_formatLabel:function(e,t){var n=this.dataZoomModel,r=n.get("labelFormatter"),i=n.get("labelPrecision");(null==i||"auto"===i)&&(i=t.getPixelPrecision());var s=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(i,20));return E(r)?r(e,s):S(r)?r.replace("{value}",s):s},_showDataInfo:function(e){e=this._dragging||e;var t=this._displayables.handleLabels;t[0].attr("invisible",!e),t[1].attr("invisible",!e)},_onDragMove:function(e,t,n,r){this._dragging=!0,pg(r.event);var i=this._displayables.barGroup.getLocalTransform(),s=ro([t,n],i,!0),o=this._updateInterval(e,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),o&&u&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction()},_onClickPanelClick:function(e){var t=this._size,n=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var r=this._handleEnds,i=(r[0]+r[1])/2,s=this._updateInterval("all",n[0]-i);this._updateView(),s&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var e;if(ik(this.getTargetCoordInfo(),function(t){if(!e&&t.length){var n=t[0].model.coordinateSystem;e=n.getRect&&n.getRect()}}),!e){var t=this.api.getWidth(),n=this.api.getHeight();e={x:.2*t,y:.2*n,width:.6*t,height:.6*n}}return e}});xf({getTargetSeries:function(e){var t=F();return e.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(e,n,r){var i=r.getAxisProxy(e.name,n);p(i.getTargetSeriesModels(),function(e){t.set(e.uid,e)})})}),t},modifyOutputEnd:!0,overallReset:function(e,t){e.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(e,n,r){r.getAxisProxy(e.name,n).reset(r,t)}),e.eachTargetAxis(function(e,n,r){r.getAxisProxy(e.name,n).filterData(r,t)})}),e.eachComponent("dataZoom",function(e){var t=e.findRepresentativeAxisProxy(),n=t.getDataPercentWindow(),r=t.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]})})}}),Nf("dataZoom",function(e,t){var n=rd(y(t.eachComponent,t,"dataZoom"),XC,function(e,t){return e.get(t.axisIndex)}),r=[];t.eachComponent({mainType:"dataZoom",query:e},function(e){r.push.apply(r,n(e).nodes)}),p(r,function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})}),YC.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var pk="\0_ec_interaction_mutex";Nf({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),c(yd,og);var dk="\0_ec_dataZoom_roams",vk=y,mk=ZC.extend({type:"dataZoom.inside",init:function(){this._range},render:function(e,t,n){mk.superApply(this,"render",arguments),this._range=e.getPercentRange(),p(this.getTargetCoordInfo(),function(t,r){var i=d(t,function(e){return Ad(e.model)});p(t,function(t){var s=t.model,o={};p(["pan","zoom","scrollMove"],function(e){o[e]=vk(gk[e],this,t,r)},this),kd(n,{coordId:Ad(s),allCoordIds:i,containsPoint:function(e,t,n){return s.coordinateSystem.containPoint([t,n])},dataZoomId:e.id,dataZoomModel:e,getRange:o})},this)},this)},dispose:function(){Ld(this.api,this.dataZoomModel.id),mk.superApply(this,"dispose",arguments),this._range=null}}),gk={zoom:function(e,t,n,r){var i=this._range,s=i.slice(),o=e.axisModels[0];if(o){var u=yk[t](null,[r.originX,r.originY],o,n,e),a=(u.signal>0?u.pixelStart+u.pixelLength-u.pixel:u.pixel-u.pixelStart)/u.pixelLength*(s[1]-s[0])+s[0],f=Math.max(1/r.scale,0);s[0]=(s[0]-a)*f+a,s[1]=(s[1]-a)*f+a;var l=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return VC(0,s,[0,100],0,l.minSpan,l.maxSpan),this._range=s,i[0]!==s[0]||i[1]!==s[1]?s:void 0}},pan:Hd(function(e,t,n,r,i,s){var o=yk[r]([s.oldX,s.oldY],[s.newX,s.newY],t,i,n);return o.signal*(e[1]-e[0])*o.pixel/o.pixelLength}),scrollMove:Hd(function(e,t,n,r,i,s){var o=yk[r]([0,0],[s.scrollDelta,s.scrollDelta],t,i,n);return o.signal*(e[1]-e[0])*s.scrollDelta})},yk={grid:function(e,t,n,r,i){var s=n.axis,o={},u=i.model.coordinateSystem.getRect();return e=e||[0,0],"x"===s.dim?(o.pixel=t[0]-e[0],o.pixelLength=u.width,o.pixelStart=u.x,o.signal=s.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=u.height,o.pixelStart=u.y,o.signal=s.inverse?-1:1),o},polar:function(e,t,n,r,i){var s=n.axis,o={},u=i.model.coordinateSystem,a=u.getRadiusAxis().getExtent(),f=u.getAngleAxis().getExtent();return e=e?u.pointToCoord(e):[0,0],t=u.pointToCoord(t),"radiusAxis"===n.mainType?(o.pixel=t[0]-e[0],o.pixelLength=a[1]-a[0],o.pixelStart=a[0],o.signal=s.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=f[1]-f[0],o.pixelStart=f[0],o.signal=s.inverse?-1:1),o},singleAxis:function(e,t,n,r,i){var s=n.axis,o=i.model.coordinateSystem.getRect(),u={};return e=e||[0,0],"horizontal"===s.orient?(u.pixel=t[0]-e[0],u.pixelLength=o.width,u.pixelStart=o.x,u.signal=s.inverse?1:-1):(u.pixel=t[1]-e[1],u.pixelLength=o.height,u.pixelStart=o.y,u.signal=s.inverse?-1:1),u}},bk={},wk=_f({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){wk.superApply(this,"optionUpdated",arguments),p(this.option.feature,function(e,t){var n=jd(t);n&&i(e,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}});Df({type:"toolbox",render:function(e,t,n,r){function i(i,o){var u,a=c[i],h=c[o],p=f[a],d=new po(p,e,e.ecModel);if(r&&null!=r.newTitle&&r.featureName===a&&(p.title=r.newTitle),a&&!h){if(Fd(a))u={model:d,onclick:d.option.onclick,featureName:a};else{var v=jd(a);if(!v)return;u=new v(d,t,n)}l[a]=u}else{if(u=l[h],!u)return;u.model=d,u.ecModel=t,u.api=n}return!a&&h?void (u.dispose&&u.dispose(t,n)):!d.get("show")||u.unusable?void (u.remove&&u.remove(t,n)):(s(d,u,a),d.setIconStatus=function(e,t){var n=this.option,r=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,r[e]&&r[e].trigger(t)},void (u.render&&u.render(d,t,n,r)))}function s(r,i,s){var f=r.getModel("iconStyle"),l=r.getModel("emphasis.iconStyle"),c=i.getIcons?i.getIcons():r.get("icon"),h=r.get("title")||{};if("string"==typeof c){var d=c,v=h;c={},h={},c[s]=d,h[s]=v}var m=r.iconPaths={};p(c,function(s,c){var p=ao(s,{},{x:-a/2,y:-a/2,width:a,height:a});p.setStyle(f.getItemStyle()),p.hoverStyle=l.getItemStyle(),p.setStyle({text:h[c],textAlign:l.get("textAlign"),textBorderRadius:l.get("textBorderRadius"),textPadding:l.get("textPadding"),textFill:null});var d=e.getModel("tooltip");d&&d.get("show")&&p.attr("tooltip",o({content:h[c],formatter:d.get("formatter",!0)||function(){return h[c]},formatterParams:{componentType:"toolbox",name:c,title:h[c],$vars:["name","title"]},position:d.get("position",!0)||"bottom"},d.option)),Fs(p),e.get("showTitle")&&(p.__title=h[c],p.on("mouseover",function(){var t=l.getItemStyle(),n="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";p.setStyle({textFill:l.get("textFill")||t.fill||t.stroke||"#000",textBackgroundColor:l.get("textBackgroundColor"),textPosition:l.get("textPosition")||n})}).on("mouseout",function(){p.setStyle({textFill:null,textBackgroundColor:null})})),p.trigger(r.get("iconStatus."+c)||"normal"),u.add(p),p.on("click",y(i.onclick,i,t,n,c)),m[c]=p})}var u=this.group;if(u.removeAll(),e.get("show")){var a=+e.get("itemSize"),f=e.get("feature")||{},l=this._features||(this._features={}),c=[];p(f,function(e,t){c.push(t)}),(new qf(this._featureNames||[],c)).add(i).update(i).remove(b(i,null)).execute(),this._featureNames=c,rp(u,e,n),u.add(ip(u.getBoundingRect(),e)),u.eachChild(function(e){var t=e.__title,r=e.hoverStyle;if(r&&t){var i=Vn(t,ur(r)),s=e.position[0]+u.position[0],o=e.position[1]+u.position[1]+a,f=!1;o+i.height>n.getHeight()&&(r.textPosition="top",f=!0);var l=f?-5-i.height:a+8;s+i.width/2>n.getWidth()?(r.textPosition=["100%",l],r.textAlign="right"):s-i.width/2<0&&(r.textPosition=[0,l],r.textAlign="left")}})}},updateView:function(e,t,n,r){p(this._features,function(e){e.updateView&&e.updateView(e.model,t,n,r)})},remove:function(e,t){p(this._features,function(n){n.remove&&n.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){p(this._features,function(n){n.dispose&&n.dispose(e,t)})}});var Ek=wS.toolbox.saveAsImage;Id.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:Ek.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:Ek.lang.slice()},Id.prototype.unusable=!Fm.canvasSupported;var Sk=Id.prototype;Sk.onclick=function(e,t){var n=this.model,r=n.get("name")||e.get("title.0.text")||"echarts",i="svg"===t.getZr().painter.getType(),s=i?"svg":n.get("type",!0)||"png",o=t.getConnectedDataURL({type:s,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!=typeof MouseEvent||Fm.browser.ie||Fm.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var u=atob(o.split(",")[1]),a=u.length,f=new Uint8Array(a);a--;)f[a]=u.charCodeAt(a);var l=new Blob([f]);window.navigator.msSaveOrOpenBlob(l,r+"."+s)}else{var c=n.get("lang"),h='<body style="margin:0;"><img src="'+o+'" style="max-width:100%;" title="'+(c&&c[0]||"")+'" /></body>',p=window.open();p.document.write(h)}else{var d=document.createElement("a");d.download=r+"."+s,d.target="_blank",d.href=o;var v=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});d.dispatchEvent(v)}},Bd("saveAsImage",Id);var xk=wS.toolbox.magicType,Tk="__ec_magicType_stack__";qd.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r(xk.title),option:{},seriesIndex:{}};var Nk=qd.prototype;Nk.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return p(e.get("type"),function(e){t[e]&&(n[e]=t[e])}),n};var Ck={line:function(e,t,n,r){return"bar"===e?i({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get("option.line")||{},!0):void 0},bar:function(e,t,n,r){return"line"===e?i({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get("option.bar")||{},!0):void 0},stack:function(e,t,n,r){var s=n.get("stack")===Tk;return"line"===e||"bar"===e?(r.setIconStatus("stack",s?"normal":"emphasis"),i({id:t,stack:s?"":Tk},r.get("option.stack")||{},!0)):void 0}},kk=[["line","bar"],["stack"]];Nk.onclick=function(e,t,n){var s=this.model,o=s.get("seriesIndex."+n);if(Ck[n]){var a={series:[]},l=function(t){var r=t.subType,i=t.id,o=Ck[n](r,i,t,s);o&&(u(o,t.option),a.series.push(o));var f=t.coordinateSystem;if(f&&"cartesian2d"===f.type&&("line"===n||"bar"===n)){var l=f.getAxesByScale("ordinal")[0];if(l){var c=l.dim,h=c+"Axis",p=e.queryComponents({mainType:h,index:t.get(name+"Index"),id:t.get(name+"Id")})[0],d=p.componentIndex;a[h]=a[h]||[];for(var v=0;d>=v;v++)a[h][d]=a[h][d]||{};a[h][d].boundaryGap="bar"===n}}};p(kk,function(e){f(e,n)>=0&&p(e,function(e){s.setIconStatus(e,"normal")})}),s.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},l);var c;if("stack"===n){var h=a.series&&a.series[0]&&a.series[0].stack===Tk;c=h?i({stack:xk.title.tiled},xk.title):r(xk.title)}t.dispatchAction({type:"changeMagicType",currentType:n,newOption:a,newTitle:c,featureName:"magicType"})}},Nf({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)}),Bd("magicType",qd);var Lk=wS.toolbox.dataView,Ak=(new Array(60)).join("-"),Ok="    ",Mk=new RegExp("["+Ok+"]+","g");Qd.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r(Lk.title),lang:r(Lk.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},Qd.prototype.onclick=function(e,t){function n(){r.removeChild(s),b._dom=null}var r=t.getDom(),i=this.model;this._dom&&r.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",s.style.backgroundColor=i.get("backgroundColor")||"#fff";var o=document.createElement("h4"),u=i.get("lang")||[];o.innerHTML=u[0]||i.get("title"),o.style.cssText="margin: 10px 20px;",o.style.color=i.get("textColor");var a=document.createElement("div"),f=document.createElement("textarea");a.style.cssText="display:block;width:100%;overflow:auto;";var l=i.get("optionToContent"),c=i.get("contentToOption"),h=Wd(e);if("function"==typeof l){var p=l(t.getOption());"string"==typeof p?a.innerHTML=p:C(p)&&a.appendChild(p)}else a.appendChild(f),f.readOnly=i.get("readOnly"),f.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",f.style.color=i.get("textColor"),f.style.borderColor=i.get("textareaBorderColor"),f.style.backgroundColor=i.get("textareaColor"),f.value=h.value;var d=h.meta,v=document.createElement("div");v.style.cssText="position:absolute;bottom:0;left:0;right:0;";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",g=document.createElement("div"),y=document.createElement("div");m+=";background-color:"+i.get("buttonColor"),m+=";color:"+i.get("buttonTextColor");var b=this;xt(g,"click",n),xt(y,"click",function(){var e;try{e="function"==typeof c?c(a,t.getOption()):Kd(f.value,d)}catch(r){throw n(),new Error("Data view format error "+r)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),n()}),g.innerHTML=u[1],y.innerHTML=u[2],y.style.cssText=m,g.style.cssText=m,!i.get("readOnly")&&v.appendChild(y),v.appendChild(g),s.appendChild(o),s.appendChild(a),s.appendChild(v),a.style.height=r.clientHeight-80+"px",r.appendChild(s),this._dom=s},Qd.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},Qd.prototype.dispose=function(e,t){this.remove(e,t)},Bd("dataView",Qd),Nf({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];p(e.newOption.series,function(e){var r=t.getSeriesByName(e.name)[0];if(r){var i=r.get("data");n.push({name:e.name,data:Gd(e.data,i)})}else n.push(o({type:"scatter"},e))}),t.mergeOption(u({series:n},e.newOption))});var _k=b,Dk=p,Pk=d,Hk=Math.min,Bk=Math.max,jk=Math.pow,Fk=1e4,Ik=6,qk=6,Rk="globalPan",Uk={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},zk={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Wk={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},Xk=0;Yd.prototype={constructor:Yd,enableBrush:function(e){return this._brushType&&ev(this),e.brushType&&Zd(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};p(e,function(e){t[e.panelId]=r(e)})}else this._panels=null;return this},mount:function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){Dk(this._covers,e,t)},updateCovers:function(e){function t(e,t){return(null!=e.id?e.id:u+t)+"-"+e.brushType}function n(e,n){return t(e.__brushOption,n)}function s(t,n){var r=e[t];if(null!=n&&a[n]===c)f[t]=a[n];else{var i=f[t]=null!=n?(a[n].__brushOption=r,a[n]):iv(l,rv(l,r));uv(l,i)}}function o(e){a[e]!==c&&l.group.remove(a[e])}e=d(e,function(e){return i(r(Wk),e,!0)});var u="\0-brush-index-",a=this._covers,f=this._covers=[],l=this,c=this._creatingCover;return(new qf(a,e,n,t)).add(s).update(s).remove(o).execute(),this},unmount:function(){return this.enableBrush(!1),cv(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},c(Yd,og);var Vk={mousedown:function(e){if(this._dragging)Dv(this,e);else if(!e.target||!e.target.draggable){Av(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var n=this._creatingPanel=fv(this,e,t);n&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,r=this.group.transformCoordToLocal(t,n);if(Lv(this,e,r),this._dragging){Av(e);var i=Mv(this,e,r,!1);i&&hv(this,i)}},mouseup:function(e){Dv(this,e)}},$k={lineX:Hv(0),lineY:Hv(1),rect:{createCover:function(e,t){return vv(_k(xv,function(e){return e},function(e){return e}),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=dv(e);return wv(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,r){mv(e,t,n,r)},updateCommon:gv,contain:Ov},polygon:{createCover:function(e,t){var n=new Yg;return n.add(new Sw({name:"main",style:bv(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new Ew({name:"main",draggable:!0,drift:_k(Tv,e,t),ondragend:_k(hv,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n){t.childAt(0).setShape({points:Cv(e,t,n)})},updateCommon:gv,contain:Ov}},Jk={axisPointer:1,tooltip:1,brush:1},Kk=p,Qk=f,Gk=b,Yk=["dataToPoint","pointToData"],Zk=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],eL=Rv.prototype;eL.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(e,t,n){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var r=iL[e.brushType](0,n,t);e.__rangeOffset={offset:sL[e.brushType](r.values,e.range,[1,1]),xyMinMax:r.xyMinMax}}})},eL.matchOutputRanges=function(e,t,n){Kk(e,function(e){var r=this.findTargetInfo(e,t);r&&r!==!0&&p(r.coordSyses,function(r){var i=iL[e.brushType](1,r,e.range);n(e,i.values,r,t)})},this)},eL.setInputRanges=function(e,t){Kk(e,function(e){var n=this.findTargetInfo(e,t);if(e.range=e.range||[],n&&n!==!0){e.panelId=n.panelId;var r=iL[e.brushType](0,n.coordSys,e.coordRange),i=e.__rangeOffset;e.range=i?sL[e.brushType](r.values,i.offset,Vv(r.xyMinMax,i.xyMinMax)):r.values}},this)},eL.makePanelOpts=function(e,t){return d(this._targetInfoList,function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t&&t(n),clipPath:jv(r),isTargetByCursor:Iv(r,e,n.coordSysModel),getLinearBrushOtherExtent:Fv(r)}})},eL.controlSeries=function(e,t,n){var r=this.findTargetInfo(e,n);return r===!0||r&&Qk(r.coordSyses,t.coordinateSystem)>=0},eL.findTargetInfo=function(e,t){for(var n=this._targetInfoList,r=zv(t,e),i=0;i<n.length;i++){var s=n[i],o=e.panelId;if(o){if(s.panelId===o)return s}else for(var i=0;i<nL.length;i++)if(nL[i](r,s))return s}return!0};var tL={grid:function(e,t){var n=e.xAxisModels,r=e.yAxisModels,i=e.gridModels,s=F(),o={},u={};(n||r||i)&&(Kk(n,function(e){var t=e.axis.grid.model;s.set(t.id,t),o[t.id]=!0}),Kk(r,function(e){var t=e.axis.grid.model;s.set(t.id,t),u[t.id]=!0}),Kk(i,function(e){s.set(e.id,e),o[e.id]=!0,u[e.id]=!0}),s.each(function(e){var i=e.coordinateSystem,s=[];Kk(i.getCartesians(),function(e){(Qk(n,e.getAxis("x").model)>=0||Qk(r,e.getAxis("y").model)>=0)&&s.push(e)}),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:s[0],coordSyses:s,getPanelRect:rL.grid,xAxisDeclared:o[e.id],yAxisDeclared:u[e.id]})}))},geo:function(e,t){Kk(e.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:rL.geo})})}},nL=[function(e,t){var n=e.xAxisModel,r=e.yAxisModel,i=e.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],rL={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(no(e)),t}},iL={lineX:Gk(Wv,0),lineY:Gk(Wv,1),rect:function(e,t,n){var r=t[Yk[e]]([n[0][0],n[1][0]]),i=t[Yk[e]]([n[0][1],n[1][1]]),s=[Uv([r[0],i[0]]),Uv([r[1],i[1]])];return{values:s,xyMinMax:s}},polygon:function(e,t,n){var r=[[1/0,-1/0],[1/0,-1/0]],i=d(n,function(n){var i=t[Yk[e]](n);return r[0][0]=Math.min(r[0][0],i[0]),r[1][0]=Math.min(r[1][0],i[1]),r[0][1]=Math.max(r[0][1],i[0]),r[1][1]=Math.max(r[1][1],i[1]),i});return{values:i,xyMinMax:r}}},sL={lineX:Gk(Xv,0),lineY:Gk(Xv,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return d(e,function(e,r){return[e[0]-n[0]*t[r][0],e[1]-n[1]*t[r][1]]})}},oL=p,uL="\0_ec_hist_store";YC.extend({type:"dataZoom.select"}),ZC.extend({type:"dataZoom.select"});var aL=wS.toolbox.dataZoom,fL=p,lL="\0_ec_\0toolbox-dataZoom_";Zv.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r(aL.title)};var cL=Zv.prototype;cL.render=function(e,t,n,r){this.model=e,this.ecModel=t,this.api=n,nm(e,t,this,r,n),tm(e,t)},cL.onclick=function(e,t,n){hL[n].call(this)},cL.remove=function(){this._brushController.unmount()},cL.dispose=function(){this._brushController.dispose()};var hL={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(Kv(this.ecModel))}};cL._onBrush=function(e,t){function n(e,t,n){var o=t.getAxis(e),u=o.model,a=r(e,u,s),f=a.findRepresentativeAxisProxy(u).getMinMaxSpan();(null!=f.minValueSpan||null!=f.maxValueSpan)&&(n=VC(0,n.slice(),o.scale.getExtent(),0,f.minValueSpan,f.maxValueSpan)),a&&(i[a.id]={dataZoomId:a.id,startValue:n[0],endValue:n[1]})}function r(e,t,n){var r;return n.eachComponent({mainType:"dataZoom",subType:"select"},function(n){var i=n.getAxisModel(e,t.componentIndex);i&&(r=n)}),r}if(t.isEnd&&e.length){var i={},s=this.ecModel;this._brushController.updateCovers([]);var o=new Rv(em(this.model.option),s,{include:["grid"]});o.matchOutputRanges(e,s,function(e,t,r){if("cartesian2d"===r.type){var i=e.brushType;"rect"===i?(n("x",r,t[0]),n("y",r,t[1])):n({lineX:"x",lineY:"y"}[i],r,t)}}),Jv(s,i),this._dispatchZoomAction(i)}},cL._dispatchZoomAction=function(e){var t=[];fL(e,function(e){t.push(r(e))}),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},Bd("dataZoom",Zv),Sf(function(e){function t(e,t){if(t){var i=e+"Index",s=t[i];null==s||"all"===s||w(s)||(s=s===!1||"none"===s?[]:[s]),n(e,function(n,o){if(null==s||"all"===s||-1!==f(s,o)){var u={type:"select",$fromToolbox:!0,filterMode:t.filterMode||"filter",id:lL+e+o};u[i]=o,r.push(u)}})}}function n(t,n){var r=e[t];w(r)||(r=r?[r]:[]),fL(r,n)}if(e){var r=e.dataZoom||(e.dataZoom=[]);w(r)||(e.dataZoom=r=[r]);var i=e.toolbox;if(i&&(w(i)&&(i=i[0]),i&&i.feature)){var s=i.feature.dataZoom;t("xAxis",s),t("yAxis",s)}}});var pL=wS.toolbox.restore;rm.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:pL.title};var dL=rm.prototype;dL.onclick=function(e,t){Qv(e),t.dispatchAction({type:"restore",from:this.uid})},Bd("restore",rm),Nf({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var vL="http://www.w3.org/2000/svg",mL=Ub.CMD,gL=Array.prototype.join,yL="none",bL=Math.round,wL=Math.sin,EL=Math.cos,SL=Math.PI,xL=2*Math.PI,TL=180/SL,NL=1e-4,CL={};CL.brush=function(e){var t=e.style,n=e.__svgEl;n||(n=im("path"),e.__svgEl=n),e.path||e.createPathProxy();var r=e.path;if(e.__dirtyPath){r.beginPath(),r.subPixelOptimize=!1,e.buildPath(r,e.shape),e.__dirtyPath=!1;var i=pm(r);i.indexOf("NaN")<0&&lm(n,"d",i)}hm(n,t,!1,e),fm(n,e.transform),null!=t.text?DL(e,e.getBoundingRect()):gm(e)};var kL={};kL.brush=function(e){var t=e.style,n=t.image;if(n instanceof HTMLImageElement){var r=n.src;n=r}if(n){var i=t.x||0,s=t.y||0,o=t.width,u=t.height,a=e.__svgEl;a||(a=im("image"),e.__svgEl=a),n!==e.__imageSrc&&(cm(a,"href",n),e.__imageSrc=n),lm(a,"width",o),lm(a,"height",u),lm(a,"x",i),lm(a,"y",s),fm(a,e.transform),null!=t.text?DL(e,e.getBoundingRect()):gm(e)}};var LL={},AL=new kn,OL={},ML=[],_L={left:"start",right:"end",center:"middle",middle:"middle"},DL=function(e,t){var n=e.style,r=e.transform,i=e instanceof pw||n.transformText;e.__dirty&&fr(n,!0);var s=n.text;if(null!=s&&(s+=""),Cr(s,n)){null==s&&(s=""),!i&&r&&(AL.copy(t),AL.applyTransform(r),t=AL);var o=e.__textSvgEl;o||(o=im("text"),e.__textSvgEl=o);var u=o.style,a=n.font||by,f=o.__computedFont;a!==o.__styleFont&&(u.font=o.__styleFont=a,f=o.__computedFont=u.font);var l=n.textPadding,c=n.textLineHeight,h=e.__textCotentBlock;(!h||e.__dirtyText)&&(h=e.__textCotentBlock=ir(s,f,l,c,n.truncate));var p=h.outerHeight,d=h.lineHeight;wr(OL,e,n,t);var v=OL.baseX,m=OL.baseY,g=OL.textAlign||"left",y=OL.textVerticalAlign;dm(o,i,r,n,t,v,m);var b=Qn(m,p,y),w=v,E=b;l&&(w=vm(v,g,l),E+=l[0]),E+=d/2,hm(o,n,!0,e);var S=h.canCacheByTextString,x=e.__tspanList||(e.__tspanList=[]),T=x.length;if(S&&e.__canCacheByTextString&&e.__text===s){if(e.__dirtyText&&T)for(var N=0;T>N;++N)mm(x[N],g,w,E+N*d)}else{e.__text=s,e.__canCacheByTextString=S;for(var C=h.lines,k=C.length,N=0;k>N;N++){var L=x[N],A=C[N];L?L.__zrText!==A&&(L.innerHTML="",L.appendChild(document.createTextNode(A))):(L=x[N]=im("tspan"),o.appendChild(L),L.appendChild(document.createTextNode(A))),mm(L,g,w,E+N*d)}if(T>k){for(;T>N;N++)o.removeChild(x[N]);x.length=k}}}};LL.drawRectText=DL,LL.brush=function(e){var t=e.style;null!=t.text?DL(e,!1):gm(e)},ym.prototype={diff:function(e,t,n){function r(){for(var n=-1*u;u>=n;n+=2){var r,a=f[n-1],l=f[n+1],c=(l?l.newPos:0)-n;a&&(f[n-1]=void 0);var h=a&&a.newPos+1<s,p=l&&c>=0&&o>c;if(h||p){if(!h||p&&a.newPos<l.newPos?(r=wm(l),i.pushComponent(r.components,void 0,!0)):(r=a,r.newPos++,i.pushComponent(r.components,!0,void 0)),c=i.extractCommon(r,t,e,n),r.newPos+1>=s&&c+1>=o)return bm(i,r.components,t,e);f[n]=r}else f[n]=void 0}u++}n||(n=function(e,t){return e===t}),this.equals=n;var i=this;e=e.slice(),t=t.slice();var s=t.length,o=e.length,u=1,a=s+o,f=[{newPos:-1,components:[]}],l=this.extractCommon(f[0],t,e,0);if(f[0].newPos+1>=s&&l+1>=o){for(var c=[],h=0;h<t.length;h++)c.push(h);return[{indices:c,count:t.length}]}for(;a>=u;){var p=r();if(p)return p}},pushComponent:function(e,t,n){var r=e[e.length-1];r&&r.added===t&&r.removed===n?e[e.length-1]={count:r.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,r){for(var i=t.length,s=n.length,o=e.newPos,u=o-r,a=0;i>o+1&&s>u+1&&this.equals(t[o+1],n[u+1]);)o++,u++,a++;return a&&e.components.push({count:a}),e.newPos=o,u},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};var PL=new ym,HL=function(e,t,n){return PL.diff(e,t,n)},BL="0",jL="1";Em.prototype.createElement=im,Em.prototype.getDefs=function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?e?(n=t.insertBefore(this.createElement("defs"),t.firstChild),n.contains||(n.contains=function(e){var t=n.children;if(!t)return!1;for(var r=t.length-1;r>=0;--r)if(t[r]===e)return!0;return!1}),n):null:n[0]},Em.prototype.update=function(e,t){if(e){var n=this.getDefs(!1);if(e[this._domName]&&n.contains(e[this._domName]))"function"==typeof t&&t(e);else{var r=this.add(e);r&&(e[this._domName]=r)}}},Em.prototype.addDom=function(e){var t=this.getDefs(!0);t.appendChild(e)},Em.prototype.removeDom=function(e){var t=this.getDefs(!1);t&&e[this._domName]&&(t.removeChild(e[this._domName]),e[this._domName]=null)},Em.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return p(this._tagNames,function(n){var r=e.getElementsByTagName(n);t=t.concat([].slice.call(r))}),t},Em.prototype.markAllUnused=function(){var e=this.getDoms(),t=this;p(e,function(e){e[t._markLabel]=BL})},Em.prototype.markUsed=function(e){e&&(e[this._markLabel]=jL)},Em.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this.getDoms(),n=this;p(t,function(t){t[n._markLabel]!==jL&&e.removeChild(t)})}},Em.prototype.getSvgProxy=function(e){return e instanceof ts?CL:e instanceof Lr?kL:e instanceof pw?LL:CL},Em.prototype.getTextSvgElement=function(e){return e.__textSvgEl},Em.prototype.getSvgElement=function(e){return e.__svgEl},l(Sm,Em),Sm.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var n=this;p(["fill","stroke"],function(r){if(t.style[r]&&("linear"===t.style[r].type||"radial"===t.style[r].type)){var i,s=t.style[r],o=n.getDefs(!0);s._dom?(i=s._dom,o.contains(s._dom)||n.addDom(i)):i=n.add(s),n.markUsed(t);var u=i.getAttribute("id");e.setAttribute(r,"url(#"+u+")")}})}},Sm.prototype.add=function(e){var t;if("linear"===e.type)t=this.createElement("linearGradient");else{if("radial"!==e.type)return Vg("Illegal gradient type."),null;t=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,t),this.addDom(t),t},Sm.prototype.update=function(e){var t=this;Em.prototype.update.call(this,e,function(){var n=e.type,r=e._dom.tagName;"linear"===n&&"linearGradient"===r||"radial"===n&&"radialGradient"===r?t.updateDom(e,e._dom):(t.removeDom(e),t.add(e))})},Sm.prototype.updateDom=function(e,t){if("linear"===e.type)t.setAttribute("x1",e.x),t.setAttribute("y1",e.y),t.setAttribute("x2",e.x2),t.setAttribute("y2",e.y2);else{if("radial"!==e.type)return void Vg("Illegal gradient type.");t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("r",e.r)}e.global?t.setAttribute("gradientUnits","userSpaceOnUse"):t.setAttribute("gradientUnits","objectBoundingBox"),t.innerHTML="";for(var n=e.colorStops,r=0,i=n.length;i>r;++r){var s=this.createElement("stop");s.setAttribute("offset",100*n[r].offset+"%");var o=n[r].color;if(o.indexOf(!1)){var u=en(o)[3],a=sn(o);s.setAttribute("stop-color","#"+a),s.setAttribute("stop-opacity",u)}else s.setAttribute("stop-color",n[r].color);t.appendChild(s)}e._dom=t},Sm.prototype.markUsed=function(e){if(e.style){var t=e.style.fill;t&&t._dom&&Em.prototype.markUsed.call(this,t._dom),t=e.style.stroke,t&&t._dom&&Em.prototype.markUsed.call(this,t._dom)}},l(xm,Em),xm.prototype.update=function(e){var t=this.getSvgElement(e);t&&this.updateDom(t,e.__clipPaths,!1);var n=this.getTextSvgElement(e);n&&this.updateDom(n,e.__clipPaths,!0),this.markUsed(e)},xm.prototype.updateDom=function(e,t,n){if(t&&t.length>0){var r,i,s=this.getDefs(!0),o=t[0],u=n?"_textDom":"_dom";o[u]?(i=o[u].getAttribute("id"),r=o[u],s.contains(r)||s.appendChild(r)):(i="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,r=this.createElement("clipPath"),r.setAttribute("id",i),s.appendChild(r),o[u]=r);var a=this.getSvgProxy(o);if(o.transform&&o.parent.invTransform&&!n){var f=Array.prototype.slice.call(o.transform);Bt(o.transform,o.parent.invTransform,o.transform),a.brush(o),o.transform=f}else a.brush(o);var l=this.getSvgElement(o);r.innerHTML="",r.appendChild(l.cloneNode()),e.setAttribute("clip-path","url(#"+i+")"),t.length>1&&this.updateDom(r,t.slice(1),n)}else e&&e.setAttribute("clip-path","none")},xm.prototype.markUsed=function(e){var t=this;e.__clipPaths&&p(e.__clipPaths,function(e){e._dom&&Em.prototype.markUsed.call(t,e._dom),e._textDom&&Em.prototype.markUsed.call(t,e._textDom)})},l(Tm,Em),Tm.prototype.addWithoutUpdate=function(e,t){if(t&&Nm(t.style)){var n;if(t._shadowDom){n=t._shadowDom;var r=this.getDefs(!0);r.contains(t._shadowDom)||this.addDom(n)}else n=this.add(t);this.markUsed(t);var i=n.getAttribute("id");e.style.filter="url(#"+i+")"}},Tm.prototype.add=function(e){var t=this.createElement("filter");return e._shadowDomId=e._shadowDomId||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-shadow-"+e._shadowDomId),this.updateDom(e,t),this.addDom(t),t},Tm.prototype.update=function(e,t){var n=t.style;if(Nm(n)){var r=this;Em.prototype.update.call(this,t,function(){r.updateDom(t,t._shadowDom)})}else this.remove(e,t)},Tm.prototype.remove=function(e,t){null!=t._shadowDomId&&(this.removeDom(e),e.style.filter="")},Tm.prototype.updateDom=function(e,t){var n=t.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var r,i,s,o,u=e.style,a=e.scale?e.scale[0]||1:1,f=e.scale?e.scale[1]||1:1;if(u.shadowBlur||u.shadowOffsetX||u.shadowOffsetY)r=u.shadowOffsetX||0,i=u.shadowOffsetY||0,s=u.shadowBlur,o=u.shadowColor;else{if(!u.textShadowBlur)return void this.removeDom(t,u);r=u.textShadowOffsetX||0,i=u.textShadowOffsetY||0,s=u.textShadowBlur,o=u.textShadowColor}n.setAttribute("dx",r/a),n.setAttribute("dy",i/f),n.setAttribute("flood-color",o);var l=s/2/a,c=s/2/f,h=l+" "+c;n.setAttribute("stdDeviation",h),t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width",Math.ceil(s/2*200)+"%"),t.setAttribute("height",Math.ceil(s/2*200)+"%"),t.appendChild(n),e._shadowDom=t},Tm.prototype.markUsed=function(e){e._shadowDom&&Em.prototype.markUsed.call(this,e._shadowDom)};var FL=function(e,t,n,r){this.root=e,this.storage=t,this._opts=n=o({},n||{});var i=im("svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("version","1.1"),i.setAttribute("baseProfile","full"),i.style.cssText="user-select:none;position:absolute;left:0;top:0;";var s=im("g");i.appendChild(s);var u=im("g");i.appendChild(u),this.gradientManager=new Sm(r,u),this.clipPathManager=new xm(r,u),this.shadowManager=new Tm(r,u);var a=document.createElement("div");a.style.cssText="overflow:hidden;position:relative",this._svgDom=i,this._svgRoot=u,this._backgroundRoot=s,this._viewport=a,e.appendChild(a),a.appendChild(i),this.resize(n.width,n.height),this._visibleList=[]};FL.prototype={constructor:FL,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();return e?{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}:void 0},refresh:function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},setBackgroundColor:function(e){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var t=im("rect");t.setAttribute("width",this.getWidth()),t.setAttribute("height",this.getHeight()),t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("id",0),t.style.fill=e,this._backgroundRoot.appendChild(t),this._backgroundNode=t},_paintList:function(e){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var t,n=this._svgRoot,r=this._visibleList,i=e.length,s=[];for(t=0;i>t;t++){var o=e[t],u=km(o),a=Dm(o)||_m(o);o.invisible||(o.__dirty&&(u&&u.brush(o),this.clipPathManager.update(o),o.style&&(this.gradientManager.update(o.style.fill),this.gradientManager.update(o.style.stroke),this.shadowManager.update(a,o)),o.__dirty=!1),s.push(o))}var f,l=HL(r,s);for(t=0;t<l.length;t++){var c=l[t];if(c.removed)for(var h=0;h<c.count;h++){var o=r[c.indices[h]],a=Dm(o),p=_m(o);Mm(n,a),Mm(n,p)}}for(t=0;t<l.length;t++){var c=l[t];if(c.added)for(var h=0;h<c.count;h++){var o=s[c.indices[h]],a=Dm(o),p=_m(o);f?Am(n,a,f):Om(n,a),a?Am(n,p,a):f?Am(n,p,f):Om(n,p),Am(n,p,a),f=p||a||f,this.gradientManager.addWithoutUpdate(a||p,o),this.shadowManager.addWithoutUpdate(a||p,o),this.clipPathManager.markUsed(o)}else if(!c.removed)for(var h=0;h<c.count;h++){var o=s[c.indices[h]],a=Dm(o),p=_m(o),a=Dm(o),p=_m(o);this.gradientManager.markUsed(o),this.gradientManager.addWithoutUpdate(a||p,o),this.shadowManager.markUsed(o),this.shadowManager.addWithoutUpdate(a||p,o),this.clipPathManager.markUsed(o),p&&Am(n,p,a),f=a||p||f}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=s},_getDefs:function(e){var t=this._svgDom,n=t.getElementsByTagName("defs");if(0===n.length){if(e){var n=t.insertBefore(im("defs"),t.firstChild);return n.contains||(n.contains=function(e){var t=n.children;if(!t)return!1;for(var r=t.length-1;r>=0;--r)if(t[r]===e)return!0;return!1}),n}return null}return n[0]},resize:function(e,t){var n=this._viewport;n.style.display="none";var r=this._opts;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var i=n.style;i.width=e+"px",i.height=t+"px";var s=this._svgDom;s.setAttribute("width",e),s.setAttribute("height",t)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",e),this._backgroundNode.setAttribute("height",t))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],r=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var o=this.root,u=document.defaultView.getComputedStyle(o);return(o[r]||Cm(u[n])||Cm(o.style[n]))-(Cm(u[i])||0)-(Cm(u[s])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){this.refresh();var e=encodeURIComponent(this._svgDom.outerHTML.replace(/></g,">\n\r<"));return"data:image/svg+xml;charset=UTF-8,"+e}},p(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(e){FL.prototype[e]=Pm(e)}),Yr("svg",FL),e.version=YS,e.dependencies=ZS,e.PRIORITY=hx,e.init=vf,e.connect=mf,e.disConnect=gf,e.disconnect=Dx,e.dispose=yf,e.getInstanceByDom=bf,e.getInstanceById=wf,e.registerTheme=Ef,e.registerPreprocessor=Sf,e.registerProcessor=xf,e.registerPostUpdate=Tf,e.registerAction=Nf,e.registerCoordinateSystem=Cf,e.getCoordinateSystemDimensions=kf,e.registerLayout=Lf,e.registerVisual=Af,e.registerLoading=Mf,e.extendComponentModel=_f,e.extendComponentView=Df,e.extendSeriesModel=Pf,e.extendChartView=Hf,e.setCanvasCreator=Bf,e.registerMap=jf,e.getMap=Ff,e.dataTool=Px,e.zrender=Qy,e.number=uE,e.format=dE,e.throttle=ga,e.helper=BT,e.matrix=wg,e.vector=ig,e.color=Ig,e.parseGeoJSON=FT,e.parseGeoJson=UT,e.util=zT,e.graphic=WT,e.List=Vx,e.Model=po,e.Axis=RT,e.env=Fm});