(function(e,t){function s(e){var t=e,n=/(\<br\>|\<p\>&nbsp;\<\/p\>){1}$/;return n.test(t)&&(t=t.replace(n,"")),t}function o(e,t){var n=v.call(this);if(!n)return;t||!1?v.call(this).exec("PASTE_HTML",[e]):v.call(this).setContents(e)}function u(){return v.call(this).getContents()}function a(e){return{ko:[["\ub3cb\uc6c0,Dotum","\ub3cb\uc6c0"],["\ub3cb\uc6c0\uccb4,DotumChe,Sans-serif","\ub3cb\uc6c0\uccb4"],["\uad74\ub9bc,Gulim,Sans-serif","\uad74\ub9bc"],["\uad74\ub9bc\uccb4,GulimChe,Sans-serif","\uad74\ub9bc\uccb4"],["\ubc14\ud0d5,Batang,serif","\ubc14\ud0d5"],["\ubc14\ud0d5\uccb4,BatangChe,serif","\ubc14\ud0d5\uccb4"],["\uad81\uc11c,Gungsuh,serif","\uad81\uc11c"],["Arial","Arial"],["Tahoma","Tahoma"],["Times New Roman","Times New Roman"],["Verdana","Verdana"],["\ub9d1\uc740 \uace0\ub515,malgun gothic","\ub9d1\uc740 \uace0\ub515"],["MS PGothic","MS PGothic"]],en:[["dotum","dotum"],["AppleGothic","AppleGothic"],["Arial","Arial"],["Helvetica","Helvetica"],["sans-serif","sans-serif"]],ja:[["MS PGothic","MS PGothic"],["Osaka","Osaka"],["Arial","Arial"],["Comic Sans MS","Comic Sans MS"],["Courier New","Courier New"],["Tahoma","Tahoma"],["Times New Roman","Times New Roman"],["Verdana","Verdana"]],zh_CN:[["dotum","dotum"],["AppleGothic","AppleGothic"],["Arial","Arial"],["Helvetica","Helvetica"],["sans-serif","sans-serif"]],zh_TW:[["dotum","dotum"],["AppleGothic","AppleGothic"],["Arial","Arial"],["Helvetica","Helvetica"],["sans-serif","sans-serif"]],vi:[["dotum","dotum"],["AppleGothic","AppleGothic"],["Arial","Arial"],["Helvetica","Helvetica"],["sans-serif","sans-serif"]]}[e]}function f(e,t){var n=e.concat(t);return t?n:e}function l(){var e=v.call(this),t=this.options.lang,n=this.editorFontInfo[p(t)].defaultFont,r=this.editorFontInfo[p(t)].defaultFontSize;n&&(e.setDefaultFont(n,r?parseInt(r):9),setTimeout(function(){e.exec("MSG_STYLE_CHANGED",["fontFamily",n]),e.exec("MSG_STYLE_CHANGED",["fontSize",r?r+"pt":"9pt"])},500))}function c(e){return{oAppRef:this.oEditors,elPlaceHolder:this.idAttr,sSkinURI:e&&e.sSkinURI?e.sSkinURI:h(e.contextRoot,e.theme),htParams:{bUseToolbar:e.useToolbar,bUseVerticalResizer:e.resizable,bUseModeChanger:!0,SE2M_FontName:{aDefaultFontList:f(a(p(e.lang)),this.editorFontInfo[p(e.lang)].additionalFont)},fOnBeforeUnload:function(){},bUsePallet:e.usePallet,bUseApprovalType:e.bUseApprovalType,approvalInfo:e.approvalInfo,locale:d(e.lang)},fOnAppLoad:this.options.fOnAppLoad||_.bind(this.onLoad,this),fCreator:"createSEditor2"}}function h(e,t){return e+"smarteditor/"+t+"-skin"}function p(e){return{ko:"ko",en:"en",ja:"ja",jp:"ja",cn:"zh_CN",tw:"zh_TW","zh-cn":"zh_CN","zh-tw":"zh_TW",vi:"vi"}[e]||e}function d(e){return{ko:"ko_KR",ja:"ja_JP",en:"en_US",zh_CN:"zh_CN",zh_TW:"zh_TW",vi:"vi"}[e]}function v(){return this.oEditors.getById[this.idAttr]}function m(){return e.nhn&&e.nhn.husky&&e.nhn.husky.EZCreator}var n="ko",r="detail",i="/";GO.Editor.registry("SmartEditor",{type:GO.Editor.TYPE_HTML,afterFilter:[s],contentSetter:o,contentGetter:u,defaults:function(){return{contextRoot:i,lang:n,resizable:!0,theme:r,onLoad:function(){},onUnload:function(){},useToolbar:!0,usePallet:!1,bUseApprovalType:"",content:"",approvalInfo:{}}},oEditors:[],editorWrapFrame:null,editorWrapContent:null,editorFrame:null,editorContent:null,editorFontInfo:null,initialize:function(e,t){t.lang=p(t.lang),m()?this.__super__.initialize.call(this,e,t):console.warn("SmartEditor\uac00 \uc124\uce58\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.")},destroy:function(){this.oEditors=[],this.$el.siblings("iframe").remove(),this.onUnload(this)},render:function(){var e=this;t.getJSON(this.options.contextRoot+"resources/js/conf/editor/editor.config.json",function(t){return e.editorFontInfo=t,nhn.husky.EZCreator.createInIFrame(c.call(e,e.options)),e})},onLoad:function(){var e="#"+this.idAttr;this.editorWrapFrame=t("#modeHtmlWrapper iframe:eq(0)"),this.editorWrapContent=this.editorWrapFrame.contents(),this.editorFrame=this.editorWrapContent.find("#se2_iframe"),this.editorContent=this.editorFrame.contents(),this.editorWrapContent.find("#writeModeSelect,#writeLetterSelect,#writeTemplateSelect").mouseover(function(){t(this).addClass("hover")}).mouseout(function(){t(this).removeClass("hover")}),l.call(this),this.options.content&&this.setContent(this.options.content),window.oEditors||(window.oEditors=this.oEditors),t(e).addClass("targetEditor").data("smarteditor-ref",this.oEditors),this.options.onLoad(this)},focus:function(){v.call(this).exec("FOCUS")},applyTemplate:function(e){this.__super__.applyTemplate.apply(this,arguments);var t=this,n=v.call(this),r={},i=e.getHeader(),s=e.getFooter(),o=e.getBackgroundImg();i&&this.editorWrapContent.find("#paperTopRow").html(i).show(),s&&this.editorWrapContent.find("#paperBottomRow").html(s).show(),this.editorWrapContent.find("textarea.se2_input_htmlsrc").css({height:"300px",width:"600px"}),e.setFrameHeight(this.editorWrapFrame.height()),this.editorWrapFrame.css("height","600px");var u=this.editorWrapContent.find("div.husky_seditor_editing_area_container");e.setEditorHeight(u.height()),u.css("height","300px");var a={width:"600px",height:"300px"},f={height:"270px",margin:"10px 25px"};o&&(a.background=f.background="url('"+o+"') repeat-y scroll left top transparent"),this.editorFrame.css(a),this.editorContent.find("body").css(f),setTimeout(function(){n.exec("MSG_EDITING_AREA_RESIZE_STARTED"),n.exec("RESIZE_EDITING_AREA_BY",[0,0]),n.exec("MSG_EDITING_AREA_RESIZE_ENDED"),n.exec("FOCUS")},500)},removeTemplate:function(e){this.editorWrapContent.find("#paperTopRow").hide().empty(),this.editorWrapContent.find("#paperBottomRow").hide().empty(),this.editorWrapContent.find("textarea.se2_input_htmlsrc").css("width",""),this.editorWrapContent.find("div.husky_seditor_editing_area_container").css({width:"100%",height:e.getEditorHeight()}),this.editorFrame.css({width:"100%",height:"100%",background:"none"}),this.editorContent.find("body").css({background:"none",height:e.getEditorHeight(),margin:""}),this.focus()},getHTMLContent:function(){return this.getContent()},getMIMEContent:function(){return this.getContent()}})})(this,jQuery);