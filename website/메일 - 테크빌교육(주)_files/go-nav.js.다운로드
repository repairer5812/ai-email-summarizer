(function(e,t,n,r){var i=t(),s=typeof define=="function"&&define.amd,o=typeof module!="undefined"&&module.exports;if(s)define(i);else if(o)module.exports=i;else{var u=null,a=e.split("."),f=this;for(var l=0,c=a.length;l<c;l++){var h=a[l];u&&l===c-1?u[h]=i:typeof f[h]=="undefined"&&(f[h]={}),u=f[h]}}})("GO.Nav",function(){function f(){return!!window.Backbone&&GO.hasOwnProperty("router")}function l(e){u("#main-menu > li:not([data-active])").removeClass("on on_layer");var t=u(e.currentTarget);t[0].tagName==="DIV"&&t.remove()}function c(e){var t=[],n=u('<div class="nav-submenu gnb_top_menu"><ul></ul></div>');return e instanceof jQuery?t.push.apply(t,e):u.each(e||[],function(e,n){n==="---"?t.push('<li class="bar"></li>'):t.push(p(n))}),u.fn.append.apply(n.find("ul"),t),n}function h(e){var t=[];return t.push('<li class="'+(e.classname||"")+'"><a href="'+e.url+'" data-bypass>'),t.push("<span"+(e.idAttr?' id="'+e.idAttr+'"':"")+' class="menu" title="'+e.name+'">'+e.name),e.subMenuType&&t.push('<span class="ic_gnb ic_more"></span>'),e.badge&&t.push('<span class="badge'+(e.badge.classname?" "+e.badge.classname:"")+'">'+e.badge.text+"</span>"),t.push("</span>"),t.push("</a></li>"),t.join("")}function p(e){var t=u(h(e));return t.data("model",e),t}function d(e,t,n,r){return e.$el.on(t,n,u.proxy(r,e))}var e,t,n,r,i,s,o,u=window.$||jQuery;e={"\ud734\uba74":"\ud734\uba74","\uad00\ub9ac":"\uad00\ub9ac","\ub85c\uadf8\uc544\uc6c3":"\ub85c\uadf8\uc544\uc6c3","\uc54c\ub9bc":"\uc54c\ub9bc","\ub300\uc2dc\ubcf4\ub4dc \ud3b8\uc9d1":"\ub300\uc2dc\ubcf4\ub4dc \ud3b8\uc9d1","\uae30\ubcf8\uc815\ubcf4":"\uae30\ubcf8\uc815\ubcf4","\ud658\uacbd\uc124\uc815":"\ud658\uacbd\uc124\uc815","\ubcf4\uc548\uc124\uc815":"\ubcf4\uc548\uc124\uc815","\uc54c\ub9bc \uc124\uc815":"\uc54c\ub9bc \uc124\uc815","\ub3c4\uc6c0\ub9d0":"\ub3c4\uc6c0\ub9d0","\ub2d8":"\ub2d8","\uba40\ud2f0\ucef4\ud37c\ub2c8 \uc5f4\uae30":"\uba40\ud2f0\ucef4\ud37c\ub2c8 \uc5f4\uae30","\uba40\ud2f0\ucef4\ud37c\ub2c8 \ub2eb\uae30":"\uba40\ud2f0\ucef4\ud37c\ub2c8 \ub2eb\uae30","\uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \ud655\uc7a5":"\uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \ud655\uc7a5","\uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \uae30\ubcf8":"\uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \uae30\ubcf8","\uad00\ub9ac\uc790 \ud398\uc774\uc9c0":"\uad00\ub9ac\uc790 \ud398\uc774\uc9c0","\uc11c\ube44\uc2a4 \uc0ac\uc6a9\uae30\uac04\uc774 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uc11c\ube44\uc2a4 \uc0ac\uc6a9\uae30\uac04\uc774 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\ub2e4\uc6b0\uc624\ud53c\uc2a4 \uc0ac\uc6a9\uc5d0 \uad00\ud55c \ubaa8\ub4e0 \uac83!":"\ub2e4\uc6b0\uc624\ud53c\uc2a4 \uc0ac\uc6a9\uc5d0 \uad00\ud55c \ubaa8\ub4e0 \uac83!","\uc5b8\uc81c \uc5b4\ub514\uc11c\ub098 \ud074\ub9ad\ud574\ubcf4\uc138\uc694.":"\uc5b8\uc81c \uc5b4\ub514\uc11c\ub098 \ud074\ub9ad\ud574\ubcf4\uc138\uc694.","\uc11c\ube44\uc2a4 \ucd94\uac00 / \uc5f0\uc7a5":"\uc11c\ube44\uc2a4 \ucd94\uac00 / \uc5f0\uc7a5","\uc870\uc9c1\ub3c4":"\uc870\uc9c1\ub3c4","\uc0c8\ub85c\uc6b4 \ub2e4\uc6b0\uc624\ud53c\uc2a4\ub97c \ub9cc\ub098\ubcf4\uc138\uc694!":"\uc0c8\ub85c\uc6b4 \ub2e4\uc6b0\uc624\ud53c\uc2a4\ub97c \ub9cc\ub098\ubcf4\uc138\uc694!","3\uac00\uc9c0 \uae30\ub2a5 \ub458\ub7ec\ubcf4\uae30":"3\uac00\uc9c0 \uae30\ub2a5 \ub458\ub7ec\ubcf4\uae30","\uc0c8\ub85c\uc6b4 \uae30\ub2a5 (\uba54\ub274 \uc5f4\uae30/\ub2eb\uae30)":"\uc0c8\ub85c\uc6b4 \uae30\ub2a5 (\uba54\ub274 \uc5f4\uae30/\ub2eb\uae30)","\uc0c8\ub85c\uc6b4 \uae30\ub2a5 \uc124\uba85":"\uc0c8\ub85c\uc6b4 \uae30\ub2a5 \uc124\uba85","\uc870\uc9c1\ub3c4 UX \ubcc0\uacbd":"\uc870\uc9c1\ub3c4 UX \ubcc0\uacbd","\uc870\uc9c1\ub3c4 UX \ubcc0\uacbd \uc124\uba85":"\uc870\uc9c1\ub3c4 UX \ubcc0\uacbd \uc124\uba85","\uac1c\uc778 \uba54\ub274 \uadf8\ub8f9\ud551":"\uac1c\uc778 \uba54\ub274 \uadf8\ub8f9\ud551","\uac1c\uc778 \uba54\ub274 \uadf8\ub8f9\ud551 \uc124\uba85":"\uac1c\uc778 \uba54\ub274 \uadf8\ub8f9\ud551 \uc124\uba85","\uc0c8\ub85c\uc6b4 \ud3ec\ud0c8 \uc2dc\uc791":"\uc0c8\ub85c\uc6b4 \ud3ec\ud0c8 \uc2dc\uc791","\ub2e4\uc74c":"\ub2e4\uc74c","\uc124\uc815":"\uc124\uc815","\uc2e4\ud5d8\uc2e4":"\uc2e4\ud5d8\uc2e4","\uc790\uc138\ud788 \ubcf4\uae30":"\uc790\uc138\ud788 \ubcf4\uae30","\ub2eb\uae30":"\ub2eb\uae30"},t=function(){return{fixedUrl:function(e){return e.replace("//","/")},fixLocaleCode:function(e){return e==="jp"?"ja":e},navigate:function(e,t){var n=u.extend({},{trigger:!0,replace:!1},t||{});f()&&GO.router.getPackageName()=="home"&&e==="home"&&location.reload(),f()?GO.router.navigate(e,n):n.replace?location.replace(e):location.assign(e)},isMobile:function(){return f()?GO.util.isMobile():TABLET||MOBILE},isSupportHistoryAPI:function(){return!!window.history&&!!history.pushState},parseUrl:function(e){var t=window.location,n=document.createElement("a");return n.setAttribute("href",e),{protocol:/^(http|https)/.test(n.protocol)?n.protocol:t.protocol,host:n.host?n.host:t.host,hostname:n.hostname?n.hostname:t.hostname,port:n.port?n.port:t.port,pathname:n.pathname[0]==="/"?n.pathname:"/"+n.pathname,search:n.search?n.search:"",href:n.href,hash:n.hash?n.hash:t.hash}}}}(),window.GoHome=function(){t.navigate("home",null,"/")},n=function(){function e(e){this.ignoreWindowResize=0,this.resizeUID=0,this.delay=e||200}return e.prototype={setDelay:function(e){this.delay=e},bind:function(e,t){var n=this;if(e.target===window||e.target===document){var r=Array.prototype.slice.call(arguments,1);if(!this.ignoreWindowResize){var i=++this.resizeUID;setTimeout(function(){i===n.resizeUID&&!n.ignoreWindowResize&&(n.ignoreWindowResize++,t.apply(undefined,r),n.ignoreWindowResize--)},this.delay)}}}},e}(),r=function(e){return{getMenuByAppName:function(e,t){return u.grep(e.collection,function(e){return e.systemMenu?e.appName===t:e.name===t})[0]},moveMenuAction:function(t,n){function u(){switch(n.location){case"new":var u=window.open("about:blank");u.location.href=i;break;case"iframe":window.location.assign(i),f()&&!e.isSupportHistoryAPI()&&window.location.reload();break;case"self":if(t.options.trustCertification===!0&&o.protocol==="https:")window.location.assign(s.href.replace("https:","http:"));else if(r.test(i)){var a=f()?i.split("app/")[1]:i;e.navigate(a,null,t.contextRoot)}else window.location.assign(i);break;default:e.navigate("/",{trigger:!0,replace:!0},t.contextRoot)}}var r=new RegExp("(app)","gi"),i=n.url,s=e.parseUrl(i),o=e.parseUrl(window.location.href);t.options.onMovePage().done(function(){u()})},isMiniMenu:function(){return GO.util.store.get(GO.session("id")+"-"+"-is-mini")},setMiniMenu:function(e){GO.util.store.set(GO.session("id")+"-"+"-is-mini",e)}}}(t);var a;return s=function(t){function n(e,t){this.$container=e,this.options=t||{},this.collection=this.options.baseConfig.menuConfigModel,this.activeMenu=this.options.activeMenu,this.width=0,this.activeMenuId=0,this.__submenuCache__={},this.beforeWidth=u(window).width(),a=parseInt(u("#organogram").css("left")),this.useWelcomeScreen=this.options.baseConfig.displayConfigModel.welcomeScreen}function r(){var e=t.isMiniMenu();if(e){var n=u("header.go_header_advanced");n.addClass("notransition"),u("body").addClass("mini"),setTimeout(function(){n.removeClass("notransition")},300)}}function i(e){if(u.cookie("isAdvancedWelcomeCloseClick"))return;u("body").append(l(e)),u("div.layer_welcome .btn_major").on("click",function(){var e=u(this).closest("div.step").attr("data-step");e=="4"?s():o(e)}),u("div.welcome_nav a.welcome_skip").on("click",function(){s()}),u("a.welcome_next").on("click",function(){var e=u("div.wrap_step div.step").filter(":visible").attr("data-step");e=="4"?s():o(e)})}function s(){u.cookie("isAdvancedWelcomeCloseClick",!0,{expires:3650,path:"/"}),u("body #advancedGuideLayer").fadeOut().promise().done(function(){this.remove()})}function o(e){var t=parseInt(e)+1;u('div.layer_welcome [data-step="'+t+'"]').fadeIn(),u('div.layer_welcome [data-step="'+e+'"]').fadeOut().promise().done(function(){u("ul.welcome_list li").removeClass("on").eq(t-1).addClass("on")})}function l(e){var t=[],n=[{step:"1","class":"_intro",info:!1,lang_tit:e["\uc0c8\ub85c\uc6b4 \ub2e4\uc6b0\uc624\ud53c\uc2a4\ub97c \ub9cc\ub098\ubcf4\uc138\uc694!"],lang_btn:e["3\uac00\uc9c0 \uae30\ub2a5 \ub458\ub7ec\ubcf4\uae30"]},{step:"2","class":"1",info:!0,lang_tit:e["\uc0c8\ub85c\uc6b4 \uae30\ub2a5 (\uba54\ub274 \uc5f4\uae30/\ub2eb\uae30)"],lang_info:e["\uc0c8\ub85c\uc6b4 \uae30\ub2a5 \uc124\uba85"],lang_btn:e["\ub2e4\uc74c"]},{step:"3","class":"2",info:!0,lang_tit:e["\uc870\uc9c1\ub3c4 UX \ubcc0\uacbd"],lang_info:e["\uc870\uc9c1\ub3c4 UX \ubcc0\uacbd \uc124\uba85"],lang_btn:e["\ub2e4\uc74c"]},{step:"4","class":"3",info:!0,lang_tit:e["\uac1c\uc778 \uba54\ub274 \uadf8\ub8f9\ud551"],lang_info:e["\uac1c\uc778 \uba54\ub274 \uadf8\ub8f9\ud551 \uc124\uba85"],lang_btn:e["\uc0c8\ub85c\uc6b4 \ud3ec\ud0c8 \uc2dc\uc791"]}],r='<div class="layer_welcome" id="advancedGuideLayer">   <div class="wrap_step">       {{#guide}}       <div class="step step{{class}}" data-step="{{step}}">           <div class="ment">               <div class="tit">{{lang_tit}}</div>               {{#info}}               <div class="info">{{{lang_info}}}</div>               {{/info}}               <div class="btn_major">{{lang_btn}}</div>           </div>       </div>       {{/guide}}       <div class="welcome_nav">           <a class="welcome_skip">SKIP</a>           <ul class="welcome_list">               <li class="on"></li><li></li><li></li><li></li>           </ul>           <a class="welcome_next">               <span>{{next}}</span><span class="ic"></span>           </a>       </div>   </div></div>';t.push(r);var i={guide:n,next:e["\ub2e4\uc74c"]};return Hogan.compile(t.join("\n")).render(i)}function c(){u.ajax("/api/today/badge").done(function(e){var t=e.data.summaries.boardCount||0,n=e.data.summaries.communityCount||0,r=e.data.summaries.approvalCount||0,i=e.data.summaries.surveyCount||0,s=u('[data-menu="board"]'),o=u('[data-menu="community"]'),a=u('[data-menu="survey"]'),f=u('[data-menu="approval"]');s.find("span.badge").remove(),o.find("span.badge").remove(),a.find("span.badge").remove(),f.find("span.badge").remove(),t>0&&s.prepend('<span class="badge">N</span>'),n>0&&o.prepend('<span class="badge">N</span>'),i>0&&a.prepend('<span class="badge">'+(i>9999?"+9,999":i)+"</span>"),r>0&&f.prepend('<span class="badge">'+(r>9999?"+9,999":r)+"</span>")}).fail(function(){});var e=u('[data-menu="ecoupon"]');if(e.length>0){e.prepend('<span class="badge">UPDATE</span>');var n=e.find(".badge");t.isMiniMenu()?n.removeClass("noti"):n.addClass("noti")}}function h(){var t={};t.flag="U",t.folder="Inbox",u.ajax("/api/mail/message/count",{method:"POST",data:t}).done(function(t){var n=t.data,r=f()?GO.session().mailAccountStatus==="dormant":isDormant,i=e["\ud734\uba74"],s=u('[data-menu="mail"]');s.find("span.badge").remove(),r?s.prepend('<span class="badge">'+i+"</span>"):n>0&&s.prepend('<span class="badge">'+(n>9999?"+9,999":n)+"</span>")}).fail(function(){})}function p(e){u(e).attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function d(e,t,n){var r=[];n=_.reject(n,function(t){return t.isActive=e&&e.id===t.id,t.subMenuType});var i='<ul data-menu-list style="overflow-x: hidden">{{#menus}}   <li data-menu="{{appName}}" data-url="{{url}}" data-location="{{location}}" class="{{#isActive}}on{{/isActive}}">       <a href="{{url}}" data-bypass>           <span class="wrap_ic_gnb_adv">               <span class="ic_gnb_adv ic_home_{{appName}}"></span>           </span>           <span class="menu" title="{{name}}">{{name}}</span>       </a>   </li>{{/menus}}</ul>';r.push(i);var s={labelWorkspaceExpansion:t["\uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \ud655\uc7a5"],labelMenu:t["\uba54\ub274"],workspaceExpansionButtonVisible:GO.config?GO.config("workspace_expansion_button_visible"):!0,menuTitleVisible:e&&_.isString(e.name)&&e.name.length>0,menuName:e?e.name:"",menuLink:e?e.url:"",isMenu:!1,menus:n};return Hogan.compile(r.join("\n")).render(s)}function v(){f()&&(GO.router.off("change:package",m),GO.router.on("change:package",m,this),GO.router.off("change:page",m),GO.router.on("change:page",m,this))}function m(){}return n.prototype={render:function(){r();var e=t.getMenuByAppName(this,this.activeMenu),n=d(e,this.options.lang,this.collection);this.$container.html(n),v.call(this),new SimpleBar(u("#menu-container").find("ul[data-menu-list]").get(0)),this.resize(null,this.$container),p(this.$container),c(),h(),this.useWelcomeScreen&&i(this.options.lang)},setWidth:function(e){this.width=e},setActiveMenu:function(e){this.activeMenu=e},activateMenu:function(){},resize:function(e,n){var r=u("header.go_header").outerHeight()-u(".wrap_btn_list").outerHeight()-u(".btn_oganization").outerHeight();t.isMiniMenu()?r-=30:r-=u("#advanced_logo").outerHeight(!0),n.find("ul").height(r);var i=u(window).width();this.beforeWidth>=1280&&i<1280&&(u("body").addClass("mini"),t.setMiniMenu(!0)),this.beforeWidth=i}},{create:function(e,t){var r=new n(e,t);return r.render(),r}}}(r),i=function(e,t){function n(e){this.$el=u('<ul id="main-menu"></ul>'),this.options=e||{},this.collection=this.options.baseConfig.menuConfigModel,this.activeMenu=this.options.activeMenu,this.width=0,this.activeMenuId=0,this.__submenuCache__={}}function r(e){var t=GO.config?GO.config("workspace_expansion_button_visible"):!0;if(!t||u("#workspace_expansion").length>0){u("#workspace_expansion").remove();return}u("#menu-container").prepend(i(e))}function i(e){var t=[];return t.push('<span id="workspace_expansion" class="ctrl_workspace">'),t.push('    <span class="ic_gnb_advanced wide" title="'+e.options.lang["\uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \ud655\uc7a5"]+'"></span>'),t.push("</span>"),t.join("")}function s(e){e.$el.find("li[data-active]").removeClass("on").removeAttr("data-active"),e.activeMenuId&&e.$el.find("li[data-groupid="+e.activeMenuId+"]").addClass("on").attr("data-active","Y")}function o(e,t){var n=35,r=84;return t-e.width+n+r>0}function a(){var e=[];return e.push('<li class="more">'),e.push('<a href="#" class="btn-more-menus" data-bypass>'),e.push('<span class="more" title="more"></span>'),e.push("</a>"),e.push("</li>"),e.join("")}function f(t){var n="mouseenter";e.isMobile()&&(n="click"),d(t,"click","a:not(li.more > div > ul > li > a[href=#])",h),d(t,n,"li.more > div > ul > li > a",g)}function h(e){var n=u(e.currentTarget),r=n.closest("li"),i=r.data("model");return e.preventDefault(),l(e),n.hasClass("btn-more-menus")?b(this,n):i.subMenuType===!0?y(this,n,i.id):(v(),t.moveMenuAction(this,i)),e.stopImmediatePropagation(),!1}function v(){u("div.nav-submenu").remove()}function m(e){return e.depth===0?e.id:e.parentId}function g(e){var t=u(e.currentTarget),n=t.closest("li"),r=n.data("model");return t.closest("ul").find("div.nav-submenu").remove(),r.subMenuType===!0&&w(this,t,r.id),e.stopImmediatePropagation(),!1}function y(e,t,n){t.closest("div.nav-submenu").length||(w(e,t,n),t.closest("li").addClass("on"))}function b(e,t){w(e,t,"__more__"),t.closest("li").addClass("on_layer"),t.closest("li").find("div.nav-submenu li span.ic_more").remove()}function w(e,t,n){var r=E(e,n),i=c(r);t.closest("ul").find("div.nav-submenu").remove(),t.after(i),r&&r.length>=4&&GO.util.ocxUploadVisible(!1)}function E(e,t){var n=[];return e.__submenuCache__[t]?n=e.__submenuCache__[t]:(n=u.grep(e.collection,function(e){return e.hasOwnProperty("parentId")&&e.parentId===t}),u.each(e.collection,function(e){if(e.depth===0)return;if(!e.hasOwnProperty("parentId"))return;e.parentId===t&&n.push(e)}),e.__submenuCache__[t]=n),n}return n.prototype={setWidth:function(e){this.width=e},render:function(){var e=0;for(var t=0,n=this.collection.length;t<n;t++){var i=this.collection[t],s=m(i),l;if(i.depth>0)continue;l=p(i),l.attr("data-groupid",s),this.$el.append(l),e+=l.outerWidth(),o(this,e)&&l.attr("data-more","Y")}this.$el.find("li[data-more]").length>0&&(this.$el.append(a()),this.__submenuCache__.__more__=[],u.each(this.$el.find("li[data-more]"),u.proxy(function(e,t){var n=u(t),r=n.data("model");this.__submenuCache__.__more__.push(r)},this))),this.$el.find("li[data-more]").remove(),this.activateMenu(),r(this),f(this)},setActiveMenu:function(e){this.activeMenu=e},activateMenu:function(e){e=e||this.activeMenu;var n=t.getMenuByAppName(this,e);this.activeMenuId=n?m(n):0,s(this)},resize:function(e,t){var n=u("body").width(),r=200,i=e.$el.find(".my_info").outerWidth(),s=n-r-i;t.width(s),this.setWidth(s),this.$el.empty(),this.render()}},{create:function(e,t){var r=new n(t);return e.append(r.$el),r}}}(t,r),o=function(t,i,s){function o(e,n){this.tagName="div",this.className="gnb",this.$placeholder=u("#"+e),this.$el=u("<"+this.tagName+" />"),this.options={},this.contextRoot="/",this.useMiniGnb=GO.useMiniGnb==="true",this.useLabFeedback=GO.useLabFeedback,h(this,n),p(this),a(this),y(this),this.useMiniGnb?P(this):D(this),this.useLabFeedback&&S(),H(this);var r=n.session.theme==="THEME_ADVANCED"?i:t;this.menuView=r.create(u("#menu-container"),this.options),GO.isAvailableApp("ecoupon")&&f()&&GO.router.getPackageName()=="home"&&(GO.session().siteAdmin&&!E()&&!GO.util.getLocalStorage("homeEcouponPopupSeen_"+GO.session().id)&&b(),GO.util.getLocalStorage("gnbEcouponBannerSeen_"+GO.session().id)||w())}function a(e){var t=e.contextRoot,n=s.fixedUrl(t+"/app");u.map(e.menus,function(r){r.appName==="mail"&&u.ajax({url:"/api/mail/accountstatus",dataType:"json",async:!1,statusCode:{401:function(){}}}).done(function(t){var n=t.data||"enabled";n==="dormant"&&(r.badge={classname:"sleep_mode",text:e.lang["\ud734\uba74"]})});if(r.systemMenu===!0)r.url=n+"/"+r.appName;else if(r.location==="iframe"){var i=s.fixedUrl(t+"/app/");f()&&!s.isSupportHistoryAPI()&&(i+="#"),r.url=i+"sitelink?url="+encodeURIComponent(r.url)}}),window.GoInitMenu=function(){s.navigate(GO.util.getInitMenu().appName,null,"/")}}function h(t,n){u.extend(!0,t.options,{session:{},companies:[],baseConfig:{contextRoot:"/",locale:"ko",displayConfigModel:{thumbSmall:"/"},menuConfigModel:[],trustCertification:!1},lang:e,onMovePage:function(){var e=u.Deferred();return e.resolve(!0),e}},n||{}),t.session=t.options.session,t.companies=t.options.companies,t.contextRoot=t.options.baseConfig.contextRoot||"/",t.locale=s.fixLocaleCode(t.session.locale||"ko"),t.menus=t.options.baseConfig.menuConfigModel||[],t.trustCertification=t.options.baseConfig.trustCertification||!1,t.onMovePage=t.options.onMovePage,t.lang=t.options.lang,t.logoUrl=t.options.baseConfig.displayConfigModel.classicCiLogo||"",t.session.theme==="THEME_ADVANCED"&&(t.logoUrl=t.options.baseConfig.displayConfigModel.advancedCiLogo||""),t.options.activeMenu||(t.options.activeMenu=A(t.menus))}function p(e){e.$placeholder.replaceWith(e.$el),e.$el.addClass(e.className)}function v(e){m(this,e),g(this,e)}function m(e,t){e.menuView.resize(e,t)}function g(e,t){var r=new n;u(window).off(".nav").on("resize.nav",function(n){r.bind(n,function(){m(e,t)})})}function y(e){var t=e.contextRoot;e.$el.empty().append(Et({label:{multiCompanyOpen:e.lang["\uba40\ud2f0\ucef4\ud37c\ub2c8 \uc5f4\uae30"],multiCompanyClose:e.lang["\uba40\ud2f0\ucef4\ud37c\ub2c8 \ub2eb\uae30"],notiAppTitle:e.lang["\uc54c\ub9bc"],management:e.lang["\uad00\ub9ac"],logout:e.lang["\ub85c\uadf8\uc544\uc6c3"],org:e.lang["\uc870\uc9c1\ub3c4"],setting:e.lang["\uc124\uc815"],lab_label:e.lang["\uc2e4\ud5d8\uc2e4"],detail:e.lang["\uc790\uc138\ud788 \ubcf4\uae30"]},useMiniGnb:e.useMiniGnb,logoUrl:e.logoUrl,logoutUrl:s.fixedUrl(t+"/logout"),initMenuUrl:GO.util.getInitMenu(e.menus).url,userThumbnailUrl:e.session.thumbnail||"",userName:[e.session.name||"",e.lang["\ub2d8"]].join(" "),advancedTheme:e.session.theme==="THEME_ADVANCED",isMultiCompany:e.companies.length>1,companies:_.map(e.companies,function(e){return{id:e.id,siteUrl:e.siteUrl,name:e.companyName,dday:e["restrictCompanyPeriodEnd"]!=null?GO.util.getDdayDiff(e.restrictCompanyPeriodEnd):"1",selected:(f()?GO.session().companyId:session.companyId)===e.id}}),miniLogo:GO.config("mobileThumb"),useLabFeedback:e.useLabFeedback}))}function b(){var e=[];e.push('<div id="ecouponAd" class="freemembership_pr small">'),e.push('    <div class="wrap">'),e.push('        <div class="freemembership_pr_content">'),e.push('            <a id="closeEcouponAd" class="btn_layer_x" style="" data-bypass="" title="\ub2eb\uae30">'),e.push('                <span class="ic"></span>'),e.push("            </a>"),e.push('            <a id="goToEcoupon">'),e.push('                <img src="/resources/images/pr2.png" alt="\uc2e0\uaddc\uc5c5\ub370\uc774\ud2b8_\uc120\ubb3c\ud558\uae30">'),e.push("            </a>"),e.push("        </div>"),e.push("    </div>"),e.push("</div>");var t=u("body");t.append(e.join("\n")),t.on("click","#closeEcouponAd",B),t.on("click","#goToEcoupon",j)}function w(){var e=[];e.push('<div id="gnbEcouponBanner" class="gnb_ecoupon_banner" style="top: 232px; left: 170px;">'),e.push('    <a id="gnbGoToEcoupon">'),e.push('        <img src="/resources/images/img_ecoupon_new.png" alt="\uc2e0\uaddc\uc5c5\ub370\uc774\ud2b8_\uc120\ubb3c\ud558\uae30" useMap="#map1">'),e.push("    </a>"),e.push('    <a id="gnbEcouponBannerClose" class="btn_layer_x" style="" data-bypass="" title="\ub2eb\uae30">'),e.push('        <span class="ic"></span>'),e.push("    </a>"),e.push("</div>");var t=u("body");setTimeout(u.proxy(function(){t.append(e.join("\n")),t.on("click","#gnbEcouponBannerClose",F),t.on("click","#gnbGoToEcoupon",I),G()},this),200)}function E(){var e=!0;return u.ajax({url:GO.contextRoot+"api/ecoupon-service/config",type:"GET",async:!1,contentType:"application/json",success:function(t){var n=t.data;e=n&&n.giftSiteAdminConfirm}}),e}function S(){u.ajax({url:"/api/laboratory/feedback/config/to-show",type:"GET",async:!1,contentType:"application/json"}).done(function(e){var t=e.data;if(_.isUndefined(t.id)||_.isUndefined(t.useConfig)||!t.useConfig){GO.util.removeItem("lab-feedback-config"),GO.util.removeItem("lab-user-feedback-done-"+GO.session("id")),GO.util.removeItem("lab-is-click-popup-btns-"+GO.session("id"));return}u("[data-lab-icon]").attr("data-config-id",t.id),GO.util.setLocalStorage("lab-feedback-config",t),x()}).fail(function(){console.info("laboratory data get error")})}function x(){var e=GO.util.getLocalStorage("lab-feedback-config");if(_.isNull(e)||_.isUndefined(e)||_.isUndefined(e.startDate)||!GO.util.isAfterOrSameDate(GO.util.toMoment(e.startDate),GO.util.now()))return u("[data-lab-data-wrapper]").hide(),!0;u("[data-lab-data-wrapper]").show(),N(e),T(e.id)?(u("[data-lab-new-icon]").show(),u("[data-lab-popup-wrapper]").show()):(u("[data-lab-new-icon]").hide(),u("[data-lab-popup-wrapper]").hide()),u("body").addClass("lab")}function T(e){var t=GO.util.getLocalStorage("lab-is-click-popup-btns-"+GO.session().id);return _.isNull(t)?!0:_.isUndefined(t.configId)||_.isUndefined(t.isShow)||t.configId!=e?(GO.util.removeItem("lab-is-click-popup-btns-"+GO.session().id),!0):t.isShow}function N(e){if(_.isEmpty(e)||u("[data-lab-popup-wrapper]").length>0)return;var t='<div class="layer_normal layer_feedback" data-lab-popup-wrapper style="display: none"><div class="layer_feedback_content"><img data-id="lab_popup_img" src="'+e.simpleImg.thumbOriginal+'" style="width:100%" alt="">'+'<p class="tit">'+e.simpleTitle+"</p>"+'<p class="desc">'+e.simpleDesc+"</p>"+'<a class="btn_minor" data-lab-close-btn data-config-id="'+e.id+'" ><span class="txt">'+"\ub2eb\uae30"+"</span></a> "+"<a class='btn_major' href='javascript:window.open(\""+e.contentLinkUrl+"\")'><span class='txt'>"+"\uc790\uc138\ud788 \ubcf4\uae30"+"</span></a> "+"</div>"+"</div>";u("[data-lab-data-wrapper]").append(t)}function C(e){e.preventDefault(),L(u(e.currentTarget)),u("[data-lab-new-icon]").hide(),u("[data-lab-popup-wrapper]").hide()}function k(e){e.preventDefault(),L(u(e.currentTarget));var t=GO.util.getLocalStorage("lab-feedback-config")||{};N(t),u("[data-lab-new-icon]").hide(),u("[data-lab-popup-wrapper]").show()}function L(e){var t=e.attr("data-config-id");GO.util.setLocalStorage("lab-is-click-popup-btns-"+GO.session().id,{isShow:!1,configId:t})}function A(e){return O(e)||M(e)}function O(e){return u.grep(e,function(e){return e.initial})[0]}function M(e){return u.grep(e,function(e){return!!e.url})[0]}function D(){var t=[];t.push('<div class="wrap_docare">'),t.push('<a href="" class="btn_docare">'),t.push('<span class="ic_gnb ic_docare"></span>'),t.push('<span class="txt">\uace0\uac1d\ucf00\uc5b4 \ub77c\uc6b4\uc9c0</span>'),t.push('<span class="gnb_bar"></span>'),t.push("</a>"),t.push('<div id="layer_docare_alarm" class="layer_docare_alarm" style="display:none">'),t.push("<i></i>"),t.push("<a data-bypass>"),t.push('<span class="ic_gnb ic_customer"></span>'),t.push('<div class="wrap_txt">'),t.push('<span class="tit">'+e["\ub2e4\uc6b0\uc624\ud53c\uc2a4 \uc0ac\uc6a9\uc5d0 \uad00\ud55c \ubaa8\ub4e0 \uac83!"]+"</span>"),t.push('<p class="txt"> '+e["\uc5b8\uc81c \uc5b4\ub514\uc11c\ub098 \ud074\ub9ad\ud574\ubcf4\uc138\uc694."]+"</p>"),t.push("</div>"),t.push('<span class="ic_dashboard2 ic_d_delete"></span>'),t.push("</a>"),t.push("</div>"),t.push("</div>"),u("#myInfo").prepend(t.join(""))}function P(e){var t=window.location.origin;t==undefined&&(t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var n={serviceUrl:t,locale:GO.session().locale};typeof renderMiniGnb=="function"&&renderMiniGnb("myInfo",n),u("body").addClass("channel")}function H(e){d(e,"click","a[data-href]",lt),d(e,"click",".btn-config",yt),d(e,"click",".btn_setting",yt),d(e,"mouseleave",".nav-submenu",wt),d(e,"click",".btn-noti",ft),d(e,"mouseenter",".wrap_docare",ht),d(e,"mouseenter","#layer_docare_alarm",pt),d(e,"mouseleave","#layer_docare_alarm",dt),d(e,"mouseleave",".wrap_docare, #layer_docare_alarm",mt),d(e,"click",".btn_docare",gt),d(e,"click","#layer_docare_alarm",gt),d(e,"click","#layer_docare_alarm span.ic_d_delete",vt),d(e,"click",".anchor-profile",Y),d(e,"click",".anchor-config",Z),d(e,"click",".anchor-noti",et),d(e,"click",".anchor-logout",tt),d(e,"click",".anchor-device",nt),d(e,"click",".anchor-sitepage",rt),d(e,"click",".anchor-payment",it),d(e,"click",".multi_company_button",st),d(e,"click","#open_multi_companies",ut),d(e,"click","#close_multi_companies",at),d(e,"click","[data-menu]",V),d(e,"click","[data-org]",J),d(e,"click","[data-expend]",K),d(e,"click","#workspace_expansion",q),d(e,"click","[data-lab-icon]",k),d(e,"click","[data-lab-close-btn]",C)}function B(){u("#ecouponAd").remove(),GO.util.setLocalStorage("homeEcouponPopupSeen_"+GO.session().id,!0),u.ajax({url:GO.contextRoot+"api/ecoupon/home-ad/close/"+GO.session().companyId})}function j(){s.navigate("ecoupon?gift=true",null,"/"),GO.util.setLocalStorage("homeEcouponPopupSeen_"+GO.session().id,!0),u.ajax({url:GO.contextRoot+"api/ecoupon/home-ad/go/"+GO.session().companyId})}function F(){u("#gnbEcouponBanner").remove(),GO.util.setLocalStorage("gnbEcouponBannerSeen_"+GO.session().id,!0),u.ajax({url:GO.contextRoot+"api/ecoupon/gnb-ad/close/"+GO.session().companyId})}function I(){s.navigate("ecoupon?gift=true",null,"/"),u.ajax({url:GO.contextRoot+"api/ecoupon/gnb-ad/go/"+GO.session().companyId})}function q(){var e=GO.router.getPackageName();_.contains(["mail","webfolder"],e)&&(X().hasClass("normal")?document.getElementById(e+"-viewer").contentWindow.setNormalMode():document.getElementById(e+"-viewer").contentWindow.setWideMode()),U(this.options),this.activeMenu==="mail"&&R(),GO.EventEmitter&&(GO.EventEmitter.on("default","side:hide",u.proxy(function(){W(this.options)},this)),GO.EventEmitter.on("default","side:show",u.proxy(function(){z(this.options)},this)))}function R(){var e=u("#ybar");e&&e.css("display")!=="none"&&e.trigger("dragstop")}function U(e){X().hasClass("normal")?(z(e),e.onWorkspaceNormal&&e.onWorkspaceNormal()):(W(e),e.onWorkspaceWide&&e.onWorkspaceWide())}function z(e){X().removeClass("normal").addClass("wide").attr("title",e.lang["\uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \ud655\uc7a5"])}function W(e){X().removeClass("wide").addClass("normal").attr("title",e.lang["\uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \uae30\ubcf8"])}function X(){return u("#workspace_expansion > .ic_gnb_advanced")}function V(e){e.preventDefault();var t=u(e.currentTarget);t.siblings(".on").removeClass("on"),t.addClass("on"),r.moveMenuAction(this,{url:t.attr("data-url"),location:t.attr("data-location")})}function J(e){e.stopPropagation(),u.goOrg.toggleDisplayAndExtend()}function K(){u("body").toggleClass("mini");var e=r.isMiniMenu();r.setMiniMenu(!e),this.menuView.resize(null,u("#menu-container")),Q()}function Q(){var e=u('[data-menu="ecoupon"]');if(e.length==0)return;var t=e.find(".badge");r.isMiniMenu()?t.removeClass("noti"):t.addClass("noti"),G()}function G(){var e=u("nav#menu-container li[data-menu=ecoupon]").offset(),t=window.innerHeight-u("#gnbEcouponBanner").height(),n=e.top>t?t:e.top-20,i=e.left+(r.isMiniMenu()?30:180);console.log("gnbEcouponTop: "+n+", gnbEcouponLeft: "+i),u("#gnbEcouponBanner").offset({top:n,left:i})}function Y(e){return e.preventDefault(),ct(this,"my/profile")}function Z(e){return e.preventDefault(),ct(this,"my/config")}function et(e){return e.preventDefault(),ct(this,"my/noti")}function tt(e){e.preventDefault(),location.href="/logout"}function nt(e){return e.preventDefault(),ct(this,"my/device")}function rt(e){e.preventDefault();var t=ot("GOSSOcookie"),n=this.session.companyId;this.contextRoot=this.options.baseConfig.contextRoot||"/",u.ajax(this.contextRoot+"api/system/connection/info").done(function(e){var r=e.data,i=r.protocol,s=r.port;window.open(i+"://"+window.location.hostname+":"+s+"/go/autologin?token="+t+"&companyId="+n,0/0,"location=no,directories=no,resizable=yes,status=yes,toolbar=yes,menubar=yes,width=1280,height=768,scrollbars=yes")}).fail(function(e){})}function it(){u("#paymentForm").remove(),u.ajax({url:GO.contextRoot+"api/payment/meta",success:function(e){var t=e.data,n=u("<form action='"+t.url+"/user/sso' target='payment' method='post' id='paymentForm'>"+"   <input type='hidden' name='token' value='"+t.token+"'>"+"</form>");u("#main").append(n),window.open("about:blank","payment",""),n.submit()}})}function st(t){var n=u(t.currentTarget),r=ot("GOSSOcookie"),i=n.attr("data-siteurl"),s=n.attr("data-id"),o=n.attr("data-dday"),a=e["\uc11c\ube44\uc2a4 \uc0ac\uc6a9\uae30\uac04\uc774 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."],f=document.location.protocol+"//"+i+":"+document.location.port+"/tokenlogin?";if(o<0){u.goAlert(a);return}u(t.currentTarget).closest("ul").find("li").removeClass("on"),u(t.currentTarget).closest("li").addClass("on"),document.location.href=f+u.param({companyId:s,token:r})}function ot(e){var t="; "+document.cookie,n=t.split("; "+e+"=");return n.length===2?n.pop().split(";").shift():""}function ut(e){e.preventDefault(),u("#close_multi_companies").show(),u("#open_multi_companies").hide()}function at(e){e.preventDefault(),u("#close_multi_companies").hide(),u("#open_multi_companies").show()}function ft(e){e.preventDefault();var t=+u("#noti-count-badge").text()||0,n=t<=0?"noti/all":"noti/unread";return ct(this,n)}function lt(e){var t=u(e.currentTarget),n=t.data("href");return e.preventDefault(),ct(this,n)}function ct(e,t){e.onMovePage().done(function(){var n=s.fixedUrl(f()?t:e.contextRoot+"/app/"+t);s.navigate(n,null,e.contextRoot),e.menuView.activateMenu(A(e.menus))})}function ht(){if(u.cookie("isDoCareLoungeCloseClick")||GO.session("locale")!="ko")return;var e=u("#layer_docare_alarm");e.show(),e.data("isShow",!0)}function pt(){u("#layer_docare_alarm").data("isShow",!0)}function dt(){u("#layer_docare_alarm").data("isShow",!1)}function vt(){u("#layer_docare_alarm").hide(),u.cookie("isDoCareLoungeCloseClick",!0,{expires:365,path:"/"})}function mt(){u("#layer_docare_alarm").data("isShow",!1),setTimeout(function(){if(u("#layer_docare_alarm").data("isShow"))return;u("#layer_docare_alarm").hide()},100)}function gt(e){function t(e){u("#docareForm").remove();var t=e.data,n=u("<form action='"+t.url+"/user/sso' target='docare' method='post' id='docareForm'>"+"   <input type='hidden' name='token' value='"+t.token+"'>"+"</form>");u("#main").append(n),window.open("about:blank","docare",""),n.submit()}if(u(e.target).hasClass("ic_d_delete"))return;return u.ajax({dataType:"json",url:GO.contextRoot+"api/docare/meta"}).done(_.bind(t,this)),!1}function yt(e){function t(e){var t=e.options.baseConfig.mobileConfig,r=e.session,i=[],o;return e.useMiniGnb?(i.push({url:"#",name:e.lang["\ud658\uacbd\uc124\uc815"],classname:"anchor-config"}),i.push({url:"#",name:e.lang["\uc54c\ub9bc \uc124\uc815"],classname:"anchor-noti"})):(i.push({url:"#",name:e.lang["\uae30\ubcf8\uc815\ubcf4"],classname:"anchor-profile"}),i.push({url:"#",name:e.lang["\ud658\uacbd\uc124\uc815"],classname:"anchor-config"}),i.push({url:"#",name:e.lang["\uc54c\ub9bc \uc124\uc815"],classname:"anchor-noti"})),(t.useAppManagement||t.otpEnabled)&&i.push({url:"#",name:e.lang["\ubcf4\uc548\uc124\uc815"],classname:"anchor-device"}),(r.siteAdmin===!0||r.siteAdmin==="true")&&i.push({url:"#",name:e.lang["\uad00\ub9ac\uc790 \ud398\uc774\uc9c0"],classname:"anchor-sitepage"}),e.useMiniGnb||((r.siteAdmin===!0||r.siteAdmin==="true")&&r.brandName==="DO_SAAS"&&n()&&i.push({url:"#",name:e.lang["\uc11c\ube44\uc2a4 \ucd94\uac00 / \uc5f0\uc7a5"],classname:"anchor-payment"}),i.push({url:s.fixedUrl(e.contextRoot+"/logout"),name:e.lang["\ub85c\uadf8\uc544\uc6c3"],classname:"anchor-logout"})),o=c(i),o.attr("id","gnbTopSetting"),o.find("li:last").addClass("last"),o}function n(){var e=!1;return u.ajax({url:GO.contextRoot+"api/payment/partner",async:!1,success:function(t){e=t.data.partnerType!=="RESELLER"}}),e}return e.preventDefault(),this.$el.find("#gnbTopSetting").length<1?(this.$el.find("[data-setting]").after(t(this)),bt.call(this,e)):this.$el.find("#gnbTopSetting").is(":visible")?wt.call(this,e):bt.call(this,e),e.stopImmediatePropagation(),!1}function bt(){this.$el.find("#gnbTopSetting").addClass("on"),u("body").trigger("nav:showSetting")}function wt(e){this.$el.find("#gnbTopSetting").removeClass("on"),l(e),GO.util.ocxUploadVisible(!0)}function Et(e){var t=[];return t.push('<span class="wrap_btn_list">   <a class="btn_list" data-expend>       <span class="wrap_ic_gnb_adv">           <span class="ic_gnb_adv menu"></span>       </span>   </a></span>'),t.push('<header class="go_header go_header_2row go_header_advanced">'),t.push('<h1 class="logo" id="advanced_logo">'),t.push('    <a href="{{initMenuUrl}}" data-bypass>'),t.push('        <img class="logo" src="{{logoUrl}}" />'),t.push("    </a>"),t.push("    {{#isMultiCompany}}"),t.push('    <div class="wrap_multiCompany" id="open_multi_companies">'),t.push('        <a href="#" class="btn_multiCompany" title="{{label.multiCompanyOpen}}" data-bypass>'),t.push('            <span class="ic ic_arrow_type1_down"></span>'),t.push("        </a>"),t.push("    </div>"),t.push('    <div class="wrap_multiCompany" id="close_multi_companies" style="display:none">'),t.push('        <a href="#" class="btn_multiCompany on" title="{{label.multiCompanyClose}}" data-bypass>'),t.push('            <span class="ic ic_arrow_type1_up"></span>'),t.push("        </a>"),t.push('        <div class="gnb_top_menu" style="display:">'),t.push("            <ul>"),t.push("                {{#companies}}"),t.push('                <li class="{{#selected}}on{{/selected}}">'),t.push('                    <a class="multi_company_button" data-id="{{id}}" data-siteurl="{{siteUrl}}" data-dday="{{dday}}">'),t.push('                        <span class="ic_arrow_wrap">'),t.push('                            <span class="ic_gnb2 ic_arrow_d"></span>'),t.push("                        </span>{{name}}"),t.push("                    </a>"),t.push("                </li>"),t.push("                {{/companies}}"),t.push("            </ul>"),t.push("        </div>"),t.push("    </div>"),t.push("    {{/isMultiCompany}}"),t.push("</h1>"),t.push('<nav id="menu-container" style="height: auto"></nav>'),t.push('<a class="btn_oganization" data-org>   <span class="wrap_ic_gnb_adv">       <span class="ic_gnb_adv oganization"></span>   </span>   <span class="txt">{{label.org}}</span></a>'),t.push("</header>"),t.push('<section class="my_info snb" id="myInfo">'),t.push('    {{#useLabFeedback}}<span class="snb_laboratory" data-lab-data-wrapper style="display: none;">'),t.push('         <a class="btn_ic24" data-lab-icon title="{{label.lab_label}}" data-bypass>'),t.push('		        <span class="ic_snb ic_beaker" ></span>'),t.push('             <span id="lab-badge" class="badge noti" data-lab-new-icon style="display: none;">N</span>'),t.push("	        </a>"),t.push("    {{/useLabFeedback}}</span>"),t.push('    {{^useMiniGnb}}<div class="profile">'),t.push('        <span class="photo" data-setting>'),t.push('            <a href="#" class="btn-config" data-bypass>'),t.push('                <img id="sessionThumbnail" src="{{userThumbnailUrl}}" title="{{userName}}" alt="{{userName}}">'),t.push("            </a>"),t.push("        </span>"),t.push("    </div>{{/useMiniGnb}}"),t.push('    <ul class="ctrl">'),t.push('        <li id="top_notification">'),t.push('            <a href="#" class="btn_noti btn-noti" title="{{label.notiAppTitle}}" data-bypass>'),t.push('                <span id="noti-count-badge" class="badge noti" style="display: none;">0</span>'),t.push("            </a>"),t.push("        </li>"),t.push("        {{#useMiniGnb}}<li>"),t.push('             <a href="#" class="btn_setting" title="{{label.setting}}" data-setting></a>'),t.push("        </li>{{/useMiniGnb}}"),t.push("    </ul>"),t.push("</section>"),Hogan.compile(t.join("\n")).render(e)}return o.prototype={render:function(){v.call(this,u("#menu-container"))},reload:function(){g(this,u("#menu-container"))},setActiveMenu:function(e){this.menuView.setActiveMenu(e)},activateMenu:function(e){this.menuView.setActiveMenu(e),this.menuView.activateMenu()},renderLabPopUp:function(){x.call()}},o.create=function(e,t){var n=new o(e,t||{});return n.render(),n},o}(i,s,t),window.GONavigation||(window.GONavigation=o),{create:function(e,t){return o.create(e,t)}}},jQuery);