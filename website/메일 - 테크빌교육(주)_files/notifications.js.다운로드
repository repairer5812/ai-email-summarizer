(function(){define(["underscore","backbone","app"],function(e,t,n){var r=t.Collection.extend({category:"home",conditions:{},categoryUrlInfo:{home:"/api/home/noti",all:"/api/my/noti",unread:"/api/my/noti/unread",mail:"/api/my/noti/mail",bbs:"/api/my/noti/bbs",community:"/api/my/noti/community",calendar:"/api/my/noti/calendar",task:"/api/my/noti/task",todo:"/api/my/noti/todo",report:"/api/my/noti/report",survey:"/api/my/noti/survey",approval:"/api/my/noti/approval",works:"/api/my/noti/works",docs:"/api/my/noti/docs",asset:"/api/my/noti/asset",webfolder:"/api/my/noti/webfolder",ehr:"/api/my/noti/ehr",channel:"/api/my/noti/channel",manager:"/api/my/noti/manager",openapi:"/api/my/noti/openapi"},url:function(){var e=this.categoryUrlInfo[this.category],t=$.param(this.conditions);return e+"?"+t},initialize:function(e,t){this.conditions={page:1,offset:10},t&&t.offset&&(this.conditions.offset=t.offset),t&&t.category&&(this.category=t.category)},comparator:function(e){return!e.get("createdAt")},setPage:function(e){return this.conditions.page=e,this}},{getUnreadCount:function(e){var t=0;return $.ajax({type:"GET",async:!1,dataType:"json",url:n.config("contextRoot")+"api/home/noti/count",success:function(t){var n=t.data;e(n)}}),t},getNewCount:function(e){var t=0;return $.ajax({type:"GET",async:!1,dataType:"json",url:n.config("contextRoot")+"api/home/noti/new",success:function(t){var n=t.data;e(n)}}),t}});return r})}).call(this);