(function(e,t,n,r){function o(e,t){var n=null,r=e.split("."),s=t;for(var o=0,u=r.length;o<u;o++){var a=r[o];n&&o==u-1?n[a]=i:typeof s[a]=="undefined"&&(s[a]={}),n=s[a]}return n}var i=t(n),s=typeof define=="function"&&define.amd;o(e,this),s&&define(i)})("GO.Editor",function(e){function i(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+GO.util.getSecureRandomInt(0,15))%16|0;return e=Math.floor(e/16),(t=="x"?n:n&3|8).toString(16)});return t}function s(e,t){var n=this,r;r=function(){var e=n.apply(this,arguments);return e},_.extend(r,n,t||{});var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&_.extend(r.prototype,e),r.prototype.__super__=n.prototype,r}var t,n,r;return t={classname:"go-editor",instanceId:"go.editor.id",instanceUUID:"go.editor.uuid",EditorType:{HTML:"html",ACTIVEX:"activex"}},n={__instanceMap__:{},__editorTypeMap__:{}},n.registry=function(e,n){if(!e){console.warn("uname \uc815\uc758\ub418\uc5b4 \uc788\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return}this[e]=s.call(r,n||{}),this.__editorTypeMap__[e]=n&&n.type?n.type:t.EditorType.HTML},n.isSupported=function(e){return this[e]|this.hasOwnProperty(e)},n.isActiveXType=function(e){return this.isSupported(e)?this.__editorTypeMap__[e]===t.EditorType.ACTIVEX:(console.warn("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ud0c0\uc785\uc785\ub2c8\ub2e4."),!1)},n.isIE=function(){var e=typeof navigator!="undefined"?navigator.userAgent:"";return/msie|trident/i.test(e)},n.create=function(e,t,n){var r,i=n||{};if(!this.hasOwnProperty(e)){console.warn("\uc9c0\uc6d0\ub418\uc9c0 \uc54a\ub294 \uc5d0\ub514\ud130\uc785\ub2c8\ub2e4.");return}return i.name=e,r=new this[e](t,i),r.render(),r},n.getInstance=function(e){var t=this;return t.__instanceMap__[e]},n.getInstanceMap=function(){return this.__instanceMap__},n.TYPE_HTML=t.EditorType.HTML,n.TYPE_ACTIVEX=t.EditorType.ACTIVEX,n.destroyAll=function(){_.each(_.keys(this.getInstanceMap()),function(e){this.getInstance(e).destroy()},this)},n.TemplateManager=function(){var e=function(e){e=e||{},this.__header__="",this.__footer__="",this.__backgroundImg__="",this.__editorHeight__=0,this.__frameHeight__=0,e.header&&this.setHeader(e.header),e.footer&&this.setFooter(e.footer),e.backgroundImg&&this.setBackgroundImg(e.backgroundImg)};return e.prototype.setHeader=function(e){this.__header__=e},e.prototype.getHeader=function(){return this.__header__},e.prototype.setBackgroundImg=function(e){this.__backgroundImg__=e},e.prototype.getBackgroundImg=function(){return this.__backgroundImg__},e.prototype.setFooter=function(e){this.__footer__=e},e.prototype.getFooter=function(){return this.__footer__},e.prototype.setEditorHeight=function(e){this.__editorHeight__=e},e.prototype.getEditorHeight=function(){return this.__editorHeight__},e.prototype.setFrameHeight=function(e){this.__frameHeight__=e},e.prototype.getFrameHeight=function(){return this.__frameHeight__},e}(),r=function(n){function a(e){var t=e||{};return e.bUseVerticalResizer&&(t.resizable=e.bUseVerticalResizer),e.bUseToolbar&&(t.useToolbar=e.bUseToolbar),e.bUsePallet&&(t.usePallet=e.bUsePallet),e.bUseApprovalType&&(t.bUseApprovalType=e.bUseApprovalType),e.appLoadCallBack&&(t.onLoad=e.appLoadCallBack),e.editorValue&&(t.content=e.editorValue),t}function f(e){var t=e;while(t.indexOf(unescape("%uFEFF"))>0)t=t.replace(unescape("%uFEFF"),"");return t}var r=[],o=[f],u=function(s,u){this.ctx=s,this.$el=e(this.ctx),this.options={},this.$el.addClass(t.classname),this.$el.prop("id")?this.idAttr=this.$el.prop("id"):(this.idAttr=i(),this.$el.prop("id",this.idAttr)),e.extend(!0,this.options,_.result(this,"defaults"),a(u||{})),this.options.name&&(this.__name__=this.options.name),n.__instanceMap__[this.idAttr]=this,this.beforeFilter=r.concat(this.beforeFilter),this.afterFilter=o.concat(this.afterFilter),this.initialize.apply(this,arguments)};return u.prototype.type=t.EditorType.HTML,u.prototype.beforeFilter=[],u.prototype.afterFilter=[],u.prototype.defaults={},u.prototype.initialize=function(e,t){},u.prototype.destroy=function(){},u.prototype.render=function(){},u.prototype.setContent=function(e,t){_.each(this.beforeFilter,function(t){e=t(e)}),this.contentSetter.call(this,e,t)},u.prototype.getContent=function(){var e=this.contentGetter.call(this);return _.each(this.afterFilter,function(t){e=t(e)}),e},u.prototype.getHTMLContent=function(){},u.prototype.getMIMEContent=function(){},u.prototype.getDocument=function(){},u.prototype.onLoad=function(e){},u.prototype.onUnload=function(e){},u.prototype.activate=function(){},u.prototype.deactivate=function(){},u.prototype.kindOf=function(e){return this.__name__===e},u.prototype.typeOf=function(e){return this.type===e},u.prototype.focus=function(){},u.prototype.isAccessible=function(){return!0},u.prototype.isAccessible=function(){return!0},u.prototype.setSignature=function(t){var n=this.contentGetter.call(this),r=e.browser.msie||navigator.userAgent.toUpperCase().indexOf("TRIDENT")!=-1||navigator.userAgent.toUpperCase().indexOf("RV")!=-1,i="",s="";r&&(i="<div style='display:block'>",s="</div>");if(n.indexOf("<!--sign Area start-->")!=-1&&n.indexOf("<!--sign Area end-->")!=-1){var o=n.split("<!--sign Area start-->")[0],u=n.split("<!--sign Area end-->")[1];n=o+"<!--sign Area start-->"+i+t+s+"<!--sign Area end-->"+u,this.contentSetter.call(this,n)}else{var a="<!--sign Area start-->"+i+t+s+"<!--sign Area end-->";e.browser.msie?a=["<P>&nbsp;</P><P>&nbsp;</P>",a].join(""):a=["<P><BR></P><P><BR></P>",a].join("");var f=!0;this.contentSetter.call(this,a,f)}},u.prototype.applyTemplate=function(e){if(!e instanceof n.TemplateManager)throw new Error("TemplateManager \uac1d\uccb4\uac00 \uc544\ub2d9\ub2c8\ub2e4.")},u.prototype.removeTemplate=function(e){},u.prototype.validate=function(){return!0},u.prototype.isVisible=function(){return this.$el.parent().is(":visible")},u.extend=s,u}(n),n},jQuery);